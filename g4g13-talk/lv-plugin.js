var pb="function"==typeof Object.defineProperties?Object.defineProperty:function(d,c,b){d!=Array.prototype&&d!=Object.prototype&&(d[c]=b.value)},qb="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function rb(d,c){if(c){var b=qb;d=d.split(".");for(var a=0;a<d.length-1;a++){var e=d[a];e in b||(b[e]={});b=b[e]}d=d[d.length-1];a=b[d];c=c(a);c!=a&&null!=c&&pb(b,d,{configurable:!0,writable:!0,value:c})}}
rb("Array.prototype.fill",function(d){return d?d:function(c,b,a){var e=this.length||0;0>b&&(b=Math.max(0,e+b));if(null==a||a>e)a=e;a=Number(a);0>a&&(a=Math.max(0,e+a));for(b=Number(b||0);b<a;b++)this[b]=c;return this}});
(function(){window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.aB||performance.bB||performance.fB||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=
window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);var d=new Uint32Array(1);d[0]=4660;52===(new Uint8Array(d.buffer))[0]?window.littleEndian=!0:
window.littleEndian=!1;window.registerEvent=function(c,b,a,e){c.addEventListener?c.addEventListener(b,a,e):c.attachEvent("on"+b,a)}})();(function(){function d(a,e,f){this.type=a;this.name=f;this.elements=e;this.size=e*b.Ek(a);this.am=1}function c(){this.Ve=[];this.Gj=this.Yl=this.Fj=this.Wl=0}var b={zp:8,Ap:40,xp:9,yp:10,wp:0,up:1,vp:2,rp:18,sp:19,Ek:function(a){return 1<<(a&7)},typeName:function(a){var e=(0!==(a&16)?"Float":0!==(a&8)?"Uint":"Int")+8*(1<<(a&7));0!==(a&32)&&(e+="Clamped");return e}};c.prototype.Kw=function(a){var e="";0<=a&&a<this.Ve.length&&(a=this.Ve[a],e=b.typeName(a.type)+"\t"+a.elements+"\t"+a.name+"\t"+a.am);
return e};c.prototype.f=function(a,e,f){for(var g=0,l=!1,I;g<this.Ve.length&&!l;)I=this.Ve[g],f===I.name?(l=!0,this.Yl+=1,this.Gj+=I.elements*b.Ek(I.type)):g+=1;l?(this.Ve[g].type=a,this.Ve[g].elements=e,this.Ve[g].am+=1,this.Ve[g].size=e*b.Ek(a)):(g=this.Ve.length,this.Ve[g]=new d(a,e,f));this.Wl+=1;this.Fj+=e*b.Ek(a)};c.prototype.os=function(a,e,f,g,l){a=a.buffer;g*=b.Ek(e);switch(e){case b.zp:f=new Uint8Array(a,g,f);break;case b.Ap:f=new Uint8Array(a,g,f);break;case b.xp:f=new Uint16Array(a,g,
f);break;case b.yp:f=new Uint32Array(a,g,f);break;case b.wp:f=new Int8Array(a,g,f);break;case b.up:f=new Int16Array(a,g,f);break;case b.vp:f=new Int32Array(a,g,f);break;case b.rp:f=new Float32Array(a,g,f);break;case b.sp:f=new Float64Array(a,g,f);break;default:f=null,alert("Illegal type specified to allocator.typedView for "+l+": "+e)}return f};c.prototype.i=function(a,e,f){switch(a){case b.zp:e=new Uint8Array(e);break;case b.Ap:e=new Uint8Array(e);break;case b.xp:e=new Uint16Array(e);break;case b.yp:e=
new Uint32Array(e);break;case b.wp:e=new Int8Array(e);break;case b.up:e=new Int16Array(e);break;case b.vp:e=new Int32Array(e);break;case b.rp:e=new Float32Array(e);break;case b.sp:e=new Float64Array(e);break;default:e=null,alert("Illegal type specified to allocator.typedMemory for "+f+": "+a)}return e};c.prototype.V=function(a,e,f){var g=null;0<e&&(g=this.i(a,e,f));(g||0===e)&&this.f(a,e,f);return g};c.prototype.Jw=function(a,e,f,g){var l=null;0<e&&(l=this.i(a,e,f));(l||0===e)&&this.f(a,e*g,f);return l};
Array.Z=function(a,e,f,g,l,I){var L=0,b=[];b.j=l;b.type=a;b.Om=null;var c=l.V(a,e*f,I);b.Om=c;if(0<f){for(;L<e;)b[L]=l.os(c,a,f,L*f,I),L+=1;if(0!==g)if(c.fill)c.fill(g);else for(L=0;L<c.length;)c[L]=g,L+=1}return b};Array.$k=function(a,e){e=a.j.Jw(a.type,a[0].length,e,a.length+1);a[a.length]=e};Array.Tf=function(a,e){e.Om.set(a.Om)};Array.If=function(a,e){var f=Uint16,g,l=a.length,I=[],L=a.j,c=a[0].length/b.Ek(f);for(g=0;g<l;g+=1)I[g]=L.os(a.Om,f,c,g*c,e);return I};Array.ad=function(a,e,f){var g,
l=a.length,I=[],L=a.j,b=a.type,c=a[0].length;for(g=0;g<l;g+=1)I[g]=L.os(a.Om,b,c-e,g*c+e,f);return I};window.Allocator=c;window.Uint8=b.zp;window.Uint8Clamped=b.Ap;window.Uint16=b.xp;window.Uint32=b.yp;window.Int8=b.wp;window.Int16=b.up;window.Int32=b.vp;window.Float32=b.rp;window.Float64=b.sp})();window.AliasManager={c:[],ff:[],Kd:function(){var d,c;this.c=[];this.ff=[];this.ff.push("OT M");this.c.push(["Outer-Totalistic Moore",""]);this.c.push(["","B3/S23"]);this.c.push(["2x2","B36/S125"]);this.c.push(["2x2 2","B3678/S1258"]);this.c.push(["34 Life","B34/S34"]);this.c.push(["3-4 Life","B34/S34"]);this.c.push(["Amoeba","B357/S1358"]);this.c.push(["AntiLife","B0123478/S01234678"]);this.c.push(["Assimilation","B345/S4567"]);this.c.push(["Bacteria","B34/S456"]);this.c.push(["Blinkers","B345/S2"]);
this.c.push(["Bugs","B3567/S15678"]);this.c.push(["Coagulations","B378/S235678"]);this.c.push(["Conway's Game of Life","B3/S23"]);this.c.push(["Conway's Life","B3/S23"]);this.c.push(["Coral","B3/S45678"]);this.c.push(["Corrosion of Conformity","B3/S124"]);this.c.push(["Dance","B34/S35"]);this.c.push(["Day & Night","B3678/S34678"]);this.c.push(["Day and Night","B3678/S34678"]);this.c.push(["Diamoeba","B35678/S5678"]);this.c.push(["DotLife","B3/S023"]);this.c.push(["DrighLife","B367/S23"]);this.c.push(["DryFlock",
"B37/S12"]);this.c.push(["DryLife","B37/S23"]);this.c.push(["DryLife without Death","B37/S012345678"]);this.c.push(["EightFlock","B3/S128"]);this.c.push(["EightLife","B3/S238"]);this.c.push(["Electrified Maze","B45/S12345"]);this.c.push(["Eppstein","B35/S236"]);this.c.push(["Flock","B3/S12"]);this.c.push(["Forest of Ls","B168/S236"]);this.c.push(["Fredkin","B1357/S02468"]);this.c.push(["Gems Minor","B34578/S456"]);this.c.push(["Gems","B3457/S4568"]);this.c.push(["Gnarl","B1/S1"]);this.c.push(["H-Trees",
"B1/S012345678"]);this.c.push(["HighFlock","B36/S12"]);this.c.push(["HighLife","B36/S23"]);this.c.push(["HighLife without Death","B36/S012345678"]);this.c.push(["Holstein","B35678/S4678"]);this.c.push(["HoneyFlock","B38/S128"]);this.c.push(["HoneyLife","B38/S238"]);this.c.push(["Iceballs","B25678/S5678"]);this.c.push(["InverseLife","B012345678/S34678"]);this.c.push(["Invertamaze","B028/S0124"]);this.c.push(["IronFlock","B36/S128"]);this.c.push(["IronLife","B36/S238"]);this.c.push(["Land Rush","B36/S234578"]);
this.c.push(["Life SkyHigh","B368/S236"]);this.c.push(["Life without Death","B3/S012345678"]);this.c.push(["Life","B3/S23"]);this.c.push(["Live Free or Die","B2/S0"]);this.c.push(["LongLife","B345/S5"]);this.c.push(["Long Life","B345/S5"]);this.c.push(["LowDeath without death","B368/S012345678"]);this.c.push(["LowDeath","B368/S238"]);this.c.push(["LowFlockDeath","B368/S128"]);this.c.push(["LowLife","B3/S13"]);this.c.push(["Majority","B45678/S5678"]);this.c.push(["Maze","B3/S12345"]);this.c.push(["Maze with Mice",
"B37/S12345"]);this.c.push(["Mazectric","B3/S1234"]);this.c.push(["Mazectric with Mice","B37/S1234"]);this.c.push(["Morley","B368/S245"]);this.c.push(["Move","B368/S245"]);this.c.push(["Neon Blobs","B08/S4"]);this.c.push(["Pedestrian Flock","B38/S12"]);this.c.push(["Pedestrian Life","B38/S23"]);this.c.push(["Pedestrian Life without Death","B38/S012345678"]);this.c.push(["Persian Rug","B234/S"]);this.c.push(["Plow World","B378/S012345678"]);this.c.push(["Pseudo Life","B357/S238"]);this.c.push(["Replicator",
"B1357/S1357"]);this.c.push(["Rings 'n' Slugs","B56/S14568"]);this.c.push(["Seeds","B2/S"]);this.c.push(["Serviettes","B234/S"]);this.c.push(["Shoots and Roots","B3/S245678"]);this.c.push(["Slow Blob","B367/S125678"]);this.c.push(["SnowLife","B3/S1237"]);this.c.push(["Stains","B3678/S235678"]);this.c.push(["Virus","B36/S235"]);this.c.push(["Vote","B5678/S45678"]);this.c.push(["Vote 4/5","B4678/S35678"]);this.c.push(["Walled Cities","B45678/S2345"]);this.ff.push("OT Hex");this.c.push(["Outer-Totalistic Hex",
""]);this.c.push(["Fredkin Hex","B135/S0246H"]);this.c.push(["Hexagonal Life","B2/S34H"]);this.c.push(["HighHexLife","B25/S34H"]);this.c.push(["Replicator Hex","B135/S135H"]);this.ff.push("NT M");this.c.push(["Isotropic Non-Totalistic Moore",""]);this.c.push(["15Life","B34r/S23-q4et"]);this.c.push(["22k","B2-k/S2-k"]);this.c.push(["38life","B35y/S2-n35k6ci"]);this.c.push(["aLife","B3/S234iw"]);this.c.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);this.c.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);
this.c.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);this.c.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);this.c.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);this.c.push(["Best Friends","B2ce3aiy/S12aei3r"]);this.c.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);this.c.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);this.c.push(["Breps","B34cqy5c/S23-y4y"]);this.c.push(["Bubbles","B3ai4-a/S23"]);this.c.push(["Butterfly","B2i34e6i7c/S2-i36n"]);
this.c.push(["Buzz","B2i35-n/S2-ci36k8"]);this.c.push(["CarrierLife","B2e3aceik/S23"]);this.c.push(["CB2","B2ae4i/S1e2in"]);this.c.push(["cetlife","B34cet/S234jkwyz"]);this.c.push(["CommonRepl","B3/S23-ac4eiy6"]);this.c.push(["Conway++","B3/S234c"]);this.c.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);this.c.push(["Conway+-2","B3/S2-ak34aikqtwz5inqy"]);this.c.push(["Conway--","B3/S2-ei3"]);this.c.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);this.c.push(["Diamoeral","B2n3ai4a78/S35678"]);this.c.push(["Diamonds",
"B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);this.c.push(["DLife","B3-n/S23"]);this.c.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);this.c.push(["Dry15Life","B34r7/S23-q4et"]);this.c.push(["DryGoats","B2in37/S123a"]);this.c.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);this.c.push(["EightGoats","B2in3/S123a8"]);this.c.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);this.c.push(["FattyLife","B3-n4nt5qr6i/S23"]);this.c.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);
this.c.push(["FogLife","B35eq7/S2-i34q"]);this.c.push(["GlideLife","B34ek5ak/S2-c34z"]);this.c.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);this.c.push(["Goat Flock","B2in3/S123a"]);this.c.push(["Goats","B2in3/S123a"]);this.c.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);this.c.push(["guntlife","B35j6a/S2-i34q"]);this.c.push(["hassl8life","B34k5e7c/S23-a4iyz"]);this.c.push(["hatlife","B35y/S23"]);this.c.push(["High15Life","B34r6/S23-q4et"]);this.c.push(["HighGoats","B2in36/S123a"]);
this.c.push(["hlife3","B3/S2-in34iw"]);this.c.push(["HoneyGoats","B2in38/S123a8"]);this.c.push(["HouseLife","B2i3/S23-r"]);this.c.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);this.c.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);this.c.push(["ilife","B3/S235i"]);this.c.push(["IronGoats","B2in36/S123a8"]);this.c.push(["Just Friends","B2-a/S12"]);this.c.push(["Kgdm","B3/S2-c3-en4ceitz"]);this.c.push(["klife","B34n/S23"]);this.c.push(["Knyght","B2e3/S23-jq"]);this.c.push(["LambdaLife","B3-k/S2-i3-k4cen"]);
this.c.push(["Linea","B2-a3-i/S23-a"]);this.c.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);this.c.push(["Movostill","B2i3acijk6i/S23-a4"]);this.c.push(["Movostill 2","B3acijk/S23-a4"]);this.c.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);this.c.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);this.c.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);this.c.push(["Pedestrian Goats","B2in38/S123a"]);this.c.push(["Pi-plicator","B3-ckq/S2-c34ci"]);this.c.push(["PiLife","B37e/S23"]);this.c.push(["PondLife",
"B36i/S2-i35i"]);this.c.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);this.c.push(["PlasmaLife","B34-air/S234-air"]);this.c.push(["reptlife","B36-k/S2-i34q"]);this.c.push(["RustyLife","B34-ai/S24-air5-a"]);this.c.push(["Salad","B2i34c/S2-i3"]);this.c.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);this.c.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);this.c.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);this.c.push(["SilverLife","B367/S2-i34q"]);this.c.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);
this.c.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);this.c.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);this.c.push(["SparkLife","B36i/S234j"]);this.c.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);this.c.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);this.c.push(["TableLife","B3/S23-ai4anq6n"]);this.c.push(["TauLife","B3-nr/S2-i34-aij"]);this.c.push(["tceclife","B36ce7c/S2-i34q"]);this.c.push(["tDryFlock","B37/S12-i4q"]);this.c.push(["tDryLife","B37/S2-i34q"]);
this.c.push(["tEightLife","B3/S2-i34q8"]);this.c.push(["tflock","B3/S12-i4q"]);this.c.push(["tHighFlock","B36/S12-i4q"]);this.c.push(["tHighLife","B36/S2-i34q"]);this.c.push(["tlife","B3/S2-i34q"]);this.c.push(["tPedestrianFlock","B38/S12-i4q"]);this.c.push(["tPedestrianLife","B38/S2-i34q"]);this.c.push(["Train","B34t6k8/S2-i35a7e"]);this.c.push(["Turro","B2-a3c/S12-i"]);this.c.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);this.c.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);this.c.push(["X-rule-pre",
"B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);this.c.push(["Ylife","B2e3ai4ar/S23-a4a"]);this.ff.push("NT Hex");this.c.push(["Isotropic Non-Totalistic Hex",""]);this.c.push(["Hex Life","B2o3m56/S2-p4oH"]);this.c.push(["22da","B2o/S2-mH"]);this.c.push(["Hexrule b2o","B2o/S2m34H"]);this.ff.push("OT M G");this.c.push(["Outer-Totalistic Generations Moore",""]);this.c.push(["9:43 at Knight","237/34578/4"]);this.c.push(["Banners","2367/3457/5"]);this.c.push(["BelZhab","23/23/8"]);this.c.push(["BelZhab Sediment",
"145678/23/8"]);this.c.push(["Bloomerang","234/34678/24"]);this.c.push(["Bombers","345/24/25"]);this.c.push(["Brain 5","/2/5"]);this.c.push(["Brain 6","6/246/3"]);this.c.push(["Brian's Brain","/2/3"]);this.c.push(["Burst","0235678/3468/9"]);this.c.push(["BurstII","235678/3468/9"]);this.c.push(["Caterpillars","124567/378/4"]);this.c.push(["Chenille","05678/24567/6"]);this.c.push(["Circuit Genesis","2345/1234/8"]);this.c.push(["Constellations","/23/3"]);this.c.push(["Cooties","23/2/8"]);this.c.push(["Ebb&Flow",
"012478/36/18"]);this.c.push(["Ebb&Flow II","012468/37/18"]);this.c.push(["Faders","2/2/25"]);this.c.push(["Fireworks","2/13/21"]);this.c.push(["Flaming Starbows","347/23/8"]);this.c.push(["Free Star","0345/2/10"]);this.c.push(["Frogs","12/34/3"]);this.c.push(["Frozen spirals","356/23/6"]);this.c.push(["Glisserati","035678/245678/7"]);this.c.push(["Glissergy","035678/245678/5"]);this.c.push(["Lava","12345/45678/8"]);this.c.push(["Lines","012345/458/3"]);this.c.push(["LivingOn TheEdge","345/3/6"]);
this.c.push(["Meteor Guns","01245678/3/8"]);this.c.push(["Nova","45678/2478/25"]);this.c.push(["OrthoGo","3/2/4"]);this.c.push(["Prairie on fire","345/34/6"]);this.c.push(["RainZha","2/23/8"]);this.c.push(["Rake","3467/2678/6"]);this.c.push(["SediMental","45678/25678/4"]);this.c.push(["Snake","03467/25/6"]);this.c.push(["SoftFreeze","13458/38/6"]);this.c.push(["Spirals","2/234/5"]);this.c.push(["Star Wars","345/2/4"]);this.c.push(["Sticks","3456/2/6"]);this.c.push(["Swirl","23/34/8"]);this.c.push(["Tadpoles",
"0125678/345678/64"]);this.c.push(["ThrillGrill","1234/34/48"]);this.c.push(["Transers","345/26/5"]);this.c.push(["TransersII","0345/26/6"]);this.c.push(["Transers 2","0345/26/6"]);this.c.push(["Transers 3","0345/26/7"]);this.c.push(["Wallplicators","345/25678/7"]);this.c.push(["Wanderers","345/34678/5"]);this.c.push(["Worms","3467/25/6"]);this.c.push(["Xtasy","1456/2356/16"]);this.ff.push("NT M G");this.c.push(["Isotropic Non-Totalistic Generations Moore",""]);this.c.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);
this.c.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);this.ff.push("LtL M");this.c.push(["Larger than Life Moore",""]);this.c.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);this.c.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);this.c.push(["Bugs R3","R3,C2,M1,S14..23,B14..18,NM"]);this.c.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);this.c.push(["Bugs R6","R6,C2,M1,S47..81,b47..63,NM"]);this.c.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);this.c.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);
this.c.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);this.c.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);this.c.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);this.c.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);this.c.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);this.c.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);this.c.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);this.c.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);
this.c.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);this.c.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);this.c.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);this.c.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);this.c.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);this.c.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);this.c.push(["Quadratic Bugs","R6,C2,M1,S47..81,B47..61,NM"]);this.c.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);this.c.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);
this.c.push(["Stones","R2,C2,M1,S29..58,B38..61,NM"]);this.c.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);this.c.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);this.c.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);this.c.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);this.ff.push("LtL M G");this.c.push(["Generations Larger than Life Moore",""]);this.c.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);this.c.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);this.ff.push("HROT M");
this.c.push(["Higher-Range Outer-Totalistic Moore",""]);this.c.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.c.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);this.c.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);this.c.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);
this.ff.push("Alt OT M");this.c.push(["Alternating Outer-Totalistic Moore",""]);this.c.push(["alternlife","B13/S012345678|B/S15"]);this.c.push(["comb625","B3/S348|B2/S356"]);this.c.push(["Fizzler","B13/S3|B/S345678"]);this.c.push(["Jelly","B3/S135|B2/S5"]);this.c.push(["Phoenix","B24/S|B35/S"]);this.ff.push("Alt NT M");this.c.push(["Alternating Non-Totalistic Moore",""]);this.c.push(["Unidim1","B134578/S02345678|B6i7/S268"]);this.c.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);this.c.push(["Unidim3",
"B12ci34578/S02345678|B6i7/S268"]);this.c[0][2]=!1;for(d=1;d<this.c.length;d+=1){var b=this.c[d][1];this.c[d][2]=!1;for(c=0;c<d;c+=1)this.c[c][1]===b&&(this.c[c][2]=!0,this.c[d][2]=!0,c=d)}},Ot:function(d){var c=null,b=0;for(d=d.toLowerCase();b<this.c.length&&null===c;)""!==this.c[b][1]&&this.c[b][0].toLowerCase()===d&&(c=this.c[b][1]),b+=1;return c},Nt:function(d){for(var c=null,b=0;b<this.c.length&&null===c;)""!==this.c[b][1]&&this.c[b][1]===d&&(c=this.c[b][0]),b+=1;return c}};(function(){function d(a,f,g,e,b){this.h=b;this.ha=a;this.va=f;this.Ha=g;this.message="";this.H=a;this.W=f;this.Fa=g;this.Ng="";this.context=e;this.Ca=!1;this.fa=this.i=0;this.te="rgb(32,255,255)";this.Yu="white";this.f=0;this.Fp=!1;this.bb=this.Cb="black";this.enabled=!1;this.m=30}function c(a,f,g,e){this.name=a;this.width=f;this.height=g;this.am=e}function b(a,f){this.context=f;this.W=a;this.height=this.width=0;this.H=this.i=this.f=null;this.m=[];this.Fo=!0;this.yr=-1;this.Kd=!1}function a(a,f,
e,b,c,d,A,m,n,p,B,x,u,t,H,k,r,D,y,F){this.id=a;this.F="";this.gi=-1;this.l=!1;this.Mc=f;this.caller=e;this.icon=y;this.x=c;this.y=d;this.ef=c;this.f=d;this.position=b;this.width=A;this.height=m;this.border=t;this.type=x;u===g.at?this.orientation=A>=m?g.Zc:g.vertical:this.orientation=u;this.Bm=this.orientation;this.lower=n;this.upper=p;x===g.vc?this.current=[B,B]:this.current=B;this.xs=H;this.xb=k;this.ur=r;this.fixed=D;this.Xn=!1;this.Ml=this.Ll=this.Ol=this.Nl=this.lu=this.ku=-1;this.textAlign=g.kt;
this.enabled=!0;this.locked=!1;this.Hm=[];this.vo=0;this.qy=!1;this.Tc=F.Tc;this.Lc=F.Lc;if(x===g.list)for(this.gl=[],a=0;a<n.length;a+=1)this.gl[a]=this.Tc;this.Hd=F.Hd;this.be=F.be;this.Df=F.Df;this.nh=F.nh;this.yi=F.yi;this.yj=F.yj;this.Gf=F.Gf;this.ji=F.ji;this.Dg=F.Dg;this.Ui=F.Ui;this.border=F.border;this.font=F.ak}function e(a,f,e,b,c){this.context=b;this.ak=c;this.locked=this.l=!1;this.Ig=this.cf=-1;this.Vi=this.$b=!1;this.H=6;this.Mc=a;this.sd=[];this.ub=0;this.Tc="";this.Lc=0;this.Hd="";
this.be=0;this.Df="";this.nh=0;this.yi="";this.yj=0;this.Gf="";this.ji=0;this.Dg="";this.border=this.Ui=0;this.i=g.at;this.oi=this.Oh=-1;this.gq=this.Hs=null;this.Qm=f;this.caller=e;this.ia=null}function f(a,f,g,e,b,c){var l=this,m=0,I=a.canvas;this.Iq=this.vr=!0;this.W=this.fa=40;this.uA=50;this.zg=0;this.f=this.i=this.m=-1;this.tj=!1;this.caller=b;this.Vg=this.wa=this.si=this.Ib=!1;this.Fc=4;this.Kt=c;this.hasFocus=this.Qp=!1;this.el=!0;this.Km=!1;this.Li=1;this.Tc="black";this.Lc=.7;this.Hd="white";
this.be=1;this.Df="rgb(0,240,32)";this.nh=.7;this.yi="blue";this.yj=.7;this.Gf="grey";this.ji=1;this.Dg="rgb(32,255,255)";this.border=this.Ui=1;this.jt=function(a){return function(){a.Sa(a)}}(this);this.ia=e;this.Hf=a;this.ud=f;this.$b=!1;this.th=this.sh=-1;this.Oc=null;this.ak=g;this.Ai=this.Bi=!1;this.Yn=performance.now();this.rj=5;this.Fm=0;this.Tq=[];this.Vq=[];this.Sq=[];for(m=0;5>m;m+=1)this.Tq[m]=0,this.Vq[m]=0,this.Sq[m]=0;this.Ql=null;this.Wg=!1;this.notification=new d(25,100,25,f,this);
this.ju=performance.now();this.Vi=this.ts=!1;this.offsetTop=this.offsetLeft=0;registerEvent(I,"mousedown",function(a){l.ha(l,a)},!1);registerEvent(I,"mousemove",function(a){l.va(l,a)},!1);registerEvent(I,"mouseup",function(a){l.Ha(l,a)},!1);registerEvent(I,"mouseover",function(a){l.Fa(l,a)},!1);registerEvent(I,"mouseout",function(a){l.Ca(l,a)},!1);registerEvent(I,"touchstart",function(a){l.H(l,a)},!1);registerEvent(I,"touchmove",function(a){l.H(l,a)},!1);registerEvent(I,"touchend",function(a){l.H(l,
a)},!1)}d.prototype.dj=function(){var a=!1;if(""!==this.message||""!==this.Ng)a=!0;return a};d.prototype.clear=function(a,f){a?""!==this.Ng&&(f?this.Ng="":this.fa=performance.now()-(this.H+this.W)):""!==this.message&&(f?this.message="":this.i=performance.now()-(this.ha+this.va))};d.prototype.T=function(a,f,g){this.enabled&&(g?this.Ng!==a&&(this.Ng=a,this.H=240,this.W=16*f,this.Fa=240,this.fa=performance.now(),this.f=0,this.Fp=!1):(this.message=a,this.ha=240,this.va=16*f,this.Ha=240,this.i=performance.now()))};
d.prototype.ej=function(a,f){96>this.context.canvas.width&&(this.m=24);var g=this.m;var l=this.context.measureText(a).width>>1;if(this.Ca){this.context.fillStyle=this.bb;var I=this.context.globalAlpha;this.context.globalAlpha=.5*I;this.context.fillRect(-l-20,-g,2*l+40,2*g);this.context.globalAlpha=I}this.context.fillStyle=this.Cb;this.context.fillText(a,-l+2,2);f?this.Fp?(this.context.fillStyle=128>this.f?"rgb("+2*this.f+","+2*this.f+",255)":"rgb("+2*(256-this.f)+","+2*(256-this.f)+",255)",this.f=
this.f+4&255):this.context.fillStyle=this.Yu:this.context.fillStyle=this.te;this.context.fillText(a,-l,0)};d.prototype.Sa=function(a,f,g,e,b,c,d){var m=this.m,l=m+2,I=this.h.Fc,L=60,h=!0;this.h.Ib?(L=0,c=this.context.canvas.height/2,this.Ca=!0):this.Ca=!1;""!==a&&(h=!1,b=performance.now()-b,this.context.save(),this.h.wa&&(d?(L=0,c=this.context.canvas.height/2):(m/=I,l=l/I|0,c=c/I|0,L=L/I|0)),this.context.font=m+"px Arial",this.context.translate(this.context.canvas.width/2-1,L+c),b<=f?(c=b/f,c*=c,
this.context.globalAlpha=c,this.context.scale(c,c)):b>f+g&&b<=f+g+e&&(c=(e-(b-(f+g)))/e,c*=c,this.context.globalAlpha=c,this.context.scale(c,c)),b>f+g+e?h=!0:(f=a.indexOf("\\n"),-1===f?this.ej(a,d):(this.ej(a.substr(0,f),d),this.context.translate(0,l),this.ej(a.substr(f+2),d))),this.context.restore());return h};d.prototype.update=function(){this.Sa(this.message,this.ha,this.va,this.Ha,this.i,81,!1)&&(this.message="");this.h.wa&&"Expand"!==this.Ng&&"Launch"!==this.Ng||!this.Sa(this.Ng,this.H,this.W,
this.Fa,this.fa,45,!0)||(this.Ng="")};b.prototype.ej=function(a,f,g){var l;this.Kd||(this.width=this.W.width,this.height=this.W.height,this.f=document.createElement("canvas"),this.f.width=this.width,this.f.height=this.height,this.i=this.f.getContext("2d"),this.H=new Image);if(this.Fo){this.i.drawImage(this.W,0,0);var I=this.i.getImageData(0,0,this.f.width,this.f.height);var e=new Uint32Array(I.data.buffer);for(l=0;l<e.length;l+=1)4294967295===e[l]&&(e[l]=this.yr);this.i.putImageData(I,0,0);this.Kd=
this.Fo=!1}this.Kd||(this.H.src=this.f.toDataURL("image/png"),this.Kd=!0);this.context.drawImage(this.H,a.am*a.width,0,a.width,a.height,f,g,a.width,a.height)};b.prototype.length=function(){return this.m.length};b.prototype.icon=function(a){var f,g=this.m,l=this.length(),e=null;for(f=0;f<l&&!e;)g[f].name===a?e=g[f]:f+=1;return e};b.prototype.add=function(a,f,g){var l=this.m.length;this.m[l]=new c(a,f,g,l)};var g={at:0,Zc:1,vertical:2,vc:0,button:1,toggle:2,He:3,list:4,label:5,Dk:0,Ia:1,left:0,kt:1,
right:2,Nb:0,fb:1,Ht:2,ie:3,Pr:4,Pg:5,bw:6,Qc:7,Hy:8};a.prototype.qm=function(a,f,g,e,b,c){this.Hd=a;this.Tc=f;this.Df=g;this.yi=e;this.Gf=b;this.Dg=c};a.prototype.setPosition=function(a,f,g){this.position=a;this.ef=f;this.f=g;this.x=f;this.y=g};a.prototype.Xw=function(a,f){this.x=this.ef;this.y=this.f;switch(this.position){case g.Nb:this.x=(a-this.width>>1)+this.ef;break;case g.fb:this.x=a+this.ef;break;case g.Ht:this.y=(f-this.height>>1)+this.f;this.x=a+this.ef;break;case g.ie:this.x=a+this.ef;
this.y=f+this.f;break;case g.Pr:this.x=(a-this.width>>1)+this.ef;this.y=f+this.f;break;case g.Pg:this.y=f+this.f;break;case g.bw:this.y=(f-this.height>>1)+this.f;break;case g.Hy:this.x=(a-this.width>>1)+this.ef,this.y=(f-this.height>>1)+this.f}};a.prototype.Ss=function(a,f){var g=this.vo;this.Hm[g]=[a,f];this.vo=g+1};a.prototype.Bp=function(a){var f=[],g;var l=a.length;for(g=0;g<l;g+=1)a[g].Ss(this,!0);l=f.length;for(g=0;g<l;g+=1)f[g].Ss(this,!1)};a.prototype.Oy=function(a,f){var g=!1;this.enabled&&
a>=this.x&&a<this.x+this.width&&f>=this.y&&f<this.y+this.height&&(g=!0);return g};e.prototype.qm=function(a,f,g,e,b,c){var l;this.Hd=a;this.Tc=f;this.Df=g;this.Gf=b;this.Dg=c;for(l=0;l<this.sd.length;l+=1)this.sd[l].qm(a,f,g,e,b,c)};e.prototype.m=function(a,f){var l=!1,I=a.vo;a.type===g.list&&a.upper===g.Ia?l=a.current[0]:l=a.current===a.upper;a.qy&&(l=!l);if(l&&f)for(f=0;f<I;f+=1)l=l&&this.m(a.Hm[f][0],a.Hm[f][1]);return l};e.prototype.Iv=function(a){var f,g=a.vo;var l=!0;for(f=0;f<g;f+=1)l=l&&this.m(a.Hm[f][0],
a.Hm[f][1]);a.enabled=l};e.prototype.Kd=function(){var a;for(a=0;a<this.ub;a+=1){var f=this.sd[a];f.enabled=!0;switch(f.type){case g.toggle:f.Mc&&(f.current=f.Mc(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case g.vc:f.Mc&&(f.current=f.Mc(f.current,!1,this.caller));break;case g.list:f.Mc&&(f.current=f.Mc(f.current,!1,this.caller))}this.Iv(f)}};e.prototype.pb=function(f,I,e,b,c,d,A,m,n){this.sd[this.ub]=new a(this.ub,f,this.caller,I,e,b,c,d,A,n,m,g.list,this.i,this.border,!0,"","",-1,
[],this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.fh=function(f,I,e,b,c,d,A,m,n,p,B,x){this.sd[this.ub]=new a(this.ub,f,this.caller,I,e,b,c,d,A,m,n,g.vc,this.i,this.border,!0,p,B,x,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.Db=function(f,I,e,b,c,d){this.sd[this.ub]=new a(this.ub,null,null,f,I,e,b,c,0,0,0,g.label,this.i,this.border,!0,d,"",-1,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.Fd=function(f,I,e,b,c,d){this.sd[this.ub]=new a(this.ub,f,this.caller,
I,e,b,c,40,0,0,0,g.button,this.i,this.border,!0,d,"",-1,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.Hw=function(){this.sd[this.ub]=new a(this.ub,null,null,Menu.Pg,0,-40,100,40,0,100,0,g.He,this.i,this.border,!1,"","",0,null,this);this.ub+=1;return this.sd[this.ub-1]};e.prototype.f=function(a,f,e){var l;a+=String();if(""!==a){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=f.font;f.Bm===g.vertical&&this.context.rotate(.5*Math.PI);var I=this.context.measureText(a).width;
var b=f.Bm===g.vertical?f.height:f.width;if(I>=b-6){if(l=a.length){do{--l;var L=a.substr(0,l)+"...";I=this.context.measureText(L).width}while(1<l&&I>=b-6)}a=L}switch(f.textAlign){case g.left:var m=f.width/2-2;break;case g.kt:m=I/2;break;case g.right:m=I/2-(f.width-I)/2+4}this.context.fillStyle=f.Tc;e&&this.context.fillRect(2-m,2,I,2);this.context.fillText(a,2-m+.5,2.5);this.context.fillStyle=f.locked||this.locked?f.Gf:f.Hd;this.context.fillText(a,-m+.5,.5);e&&this.context.fillRect(-m,0,I,2);this.context.restore()}};
e.prototype.ha=function(a){this.context.globalAlpha=this.be;this.f(a.xb,a,!1)};e.prototype.W=function(a){this.context.globalAlpha=this.be;this.f(a.xb,a,!1)};e.prototype.Ca=function(a){var f=(a.current-a.lower)/(a.upper-a.lower);this.context.globalAlpha=a.Lc;this.context.fillStyle=a.Hd;a.orientation===g.Zc?(f*=a.width-3,this.context.fillRect(a.x+(f+1|0),a.y,1,a.height)):(f*=a.height-3,this.context.fillRect(a.x,a.y+(f+1|0),a.width,1));f=a.xb;a.xs&&(f=-1!==a.fixed?f+a.current.toFixed(a.fixed):f+a.current,
f+=a.ur);""!==f&&(this.context.globalAlpha=a.be,this.f(f,a,!1))};e.prototype.Fa=function(a,f){var l=(a.current[0]-a.lower)/(a.upper-a.lower);var I=this.H;a.orientation===g.Zc?(l*=a.width-3,l=l+1|0,f&&(this.context.fillStyle=a.Df,this.context.globalAlpha=a.nh,this.context.fillRect(a.x+l-I,a.y,I,a.height),this.context.fillRect(a.x+l+1,a.y,I,a.height)),a.locked||this.locked?(this.context.fillStyle=a.Gf,this.context.globalAlpha=a.ji):(this.context.fillStyle=a.Hd,this.context.globalAlpha=a.be),this.context.fillRect(a.x+
l,a.y,1,a.height)):(l*=a.height-3,l=l+1|0,f&&(this.context.fillStyle=a.Df,this.context.globalAlpha=a.nh,this.context.fillRect(a.x,a.y+l-I,a.width,I),this.context.fillRect(a.x,a.y+l+1,a.width,I)),a.locked||this.locked?(this.context.fillStyle=a.Gf,this.context.globalAlpha=a.ji):(this.context.fillStyle=a.Hd,this.context.globalAlpha=a.be),this.context.fillRect(a.x,a.y+l,a.width,1));f=a.xb;a.xs&&(f=0<=a.fixed?f+a.current[1].toFixed(a.fixed):f+a.current[1]);f+=a.ur;""!==f&&(this.context.globalAlpha=this.be,
this.f(f,a,!1))};e.prototype.Ha=function(a){this.context.globalAlpha=this.be;var f="-"===a.lower&&""===a.upper&&a.current===a.lower;var g=a.xb;a.xs&&!f&&(g+=a.current);g+=a.ur;this.f(g,a,f)};e.prototype.va=function(a,f){var l=a.x;var I=a.y;var e=a.width;var b=a.height;var c=a.orientation;var m=a.current;var n=a.lower;var p=n.length;var d=a.orientation===g.Zc?e/p:b/p;this.context.globalAlpha=a.yj;this.context.fillStyle=a.yi;if(a.upper===g.Dk){var x=a.current;0<=x&&x<p&&(a.orientation===g.Zc?this.context.fillRect(l+
x*d+1,I+1,d-2,b-2):this.context.fillRect(l+1,I+1+x*d,e-2,d-2))}else if(a.orientation===g.Zc)for(x=0;x<p;x+=1)m[x]&&this.context.fillRect(l+x*d+1,I+1,d-2,b-2);else for(x=0;x<p;x+=1)m[x]&&this.context.fillRect(l+1,I+1+x*d,e-2,d-2);f?(this.context.globalAlpha=a.nh,this.context.fillStyle=a.Df,a.orientation===g.Zc?(x=(this.cf-l)/e*p|0,0<=x&&x<p&&this.context.fillRect(l+x*d+.5,I+.5,d-1,b-1)):(x=(this.Ig-I)/b*p|0,0<=x&&x<p&&this.context.fillRect(l+.5,I+.5+x*d,e-1,d-1)),a.gi=x):a.gi=-1;this.context.globalAlpha=
this.be;if(a.orientation===g.Zc)for(x=0;x<p;x+=1)a.icon[x]&&this.ia.ej(a.icon[x],a.x+d*x,a.y);else for(x=0;x<p;x+=1)a.icon[x]&&this.ia.ej(a.icon[x],a.x,a.y+d*x);this.context.globalAlpha=a.be;this.context.fillStyle=a.Hd;if(c===g.Zc)for(x=0;x<p;x+=1)l=n[x],""!==l&&(this.context.save(),this.context.translate((.5+(x-p/2))*d,0),this.f(l,a,!1),this.context.restore());else for(x=0;x<p;x+=1)l=n[x],""!==l&&(this.context.save(),this.context.translate(0,(.5+(x-p/2))*d),this.f(l,a,!1),this.context.restore())};
e.prototype.fa=function(a,f,e,b){!(e===b||-1===b&&f)||a.type!==g.button&&a.type!==g.toggle?(this.context.fillStyle=a.Tc,this.context.globalAlpha=a.Lc):(this.context.fillStyle=a.Df,this.context.globalAlpha=a.nh);switch(a.type){case g.He:var l=(a.current-a.lower)/(a.upper-a.lower);this.context.fillStyle=a.yi;this.context.globalAlpha=a.yj;a.orientation===g.Zc?(l*=a.width-3,l=l+1|0,this.context.fillRect(a.x,a.y,l,a.height),this.context.fillStyle=a.Tc,this.context.globalAlpha=a.Lc,this.context.fillRect(a.x+
l,a.y,a.width-l,a.height)):(l*=a.height-3,l=l+1|0,this.context.fillRect(a.x,a.y,a.width,l),this.context.fillStyle=a.Tc,this.context.fillRect(a.x,a.y+l,a.width,a.height-l));break;case g.vc:l=(a.current[0]-a.lower)/(a.upper-a.lower);if(e===b||-1===b&&f){var I=this.H;if(a.orientation===g.Zc){l*=a.width-3;l=l+1|0;var L=l-I;0<L&&this.context.fillRect(a.x,a.y,L,a.height);L=1+l+I;L<a.width&&this.context.fillRect(a.x+L,a.y,a.width-L,a.height)}else l*=a.height-3,l=l+1|0,L=l-I,0<L&&this.context.fillRect(a.x,
a.y,a.width,L),L=1+l+I,L<a.height&&this.context.fillRect(a.x,a.y+L,a.width,a.height-L)}else this.context.fillRect(a.x,a.y,a.width,a.height);break;case g.list:I=a.lower.length;if(a.orientation===g.Zc)for(L=a.width/I,l=0;l<I;l+=1)this.context.fillStyle=a.gl[l],this.context.fillRect(a.x+l*L+1,a.y+1,L-2,a.height-2);else for(L=a.height/I,l=0;l<I;l+=1)this.context.fillStyle=a.gl[l],this.context.fillRect(a.x+1,a.y+1+l*L,a.width-2,L-2);break;default:this.context.fillRect(a.x,a.y,a.width,a.height)}a.type!==
g.list&&a.icon&&(this.context.globalAlpha=a.be,this.ia.ej(a.icon,a.x,a.y));if(0<a.border)switch(a.locked||this.locked?(this.context.strokeStyle=a.Gf,this.context.globalAlpha=a.ji):(this.context.strokeStyle=a.Dg,this.context.globalAlpha=a.Ui),this.context.lineWidth=a.border,a.type){case g.label:break;case g.list:I=a.lower.length;if(a.orientation===g.Zc)for(L=a.width/I,l=0;l<I;l+=1)this.context.strokeRect(a.x+.5+l*L,a.y+.5,L-1,a.height-1);else for(L=a.height/I,l=0;l<I;l+=1)this.context.strokeRect(a.x+
.5,a.y+.5+l*L,a.width-1,L-1);break;default:this.context.strokeRect(a.x+.5,a.y+.5,a.width-1,a.height-1)}switch(a.type){case g.button:this.W(a);break;case g.label:this.ha(a);break;case g.vc:this.Fa(a,e===b||-1===b&&f);break;case g.toggle:this.Ha(a);break;case g.He:this.Ca(a);break;case g.list:this.va(a,e===b||-1===b&&f)}if(e===b)switch(a.type){case g.vc:l=this.Ig,a.orientation===g.vertical?(l<a.y?l=a.y:l>=a.y+a.height&&(l=a.y+a.height-1),a.current[0]=(l-a.y)/(a.height-1)*(a.upper-a.lower)+a.lower):
(l=this.cf,l<a.x?l=a.x:l>=a.x+a.width&&(l=a.x+a.width-1),a.current[0]=(l-a.x)/(a.width-1)*(a.upper-a.lower)+a.lower),a.Mc&&(a.current=a.Mc(a.current,!0,a.caller))}if(f&&!this.$b&&a.Xn)switch(a.type){case g.button:a.Mc&&a.Mc(a.caller);break;case g.toggle:a.current=a.current===a.upper?a.lower:a.upper;a.Mc&&a.Mc(a.current===a.upper,!0,a.caller);break;case g.list:I=a.lower.length,L=a.orientation===g.Zc?(this.cf-a.x)/a.width*I|0:(this.Ig-a.y)/a.height*I|0,a.upper===g.Dk?a.Mc?a.current=a.Mc(L,!0,a.caller):
a.current=L:(a.current[L]=!a.current[L],a.Mc&&a.Mc(a.current,!0,a.caller))}f&&e===b?(a.Xn=this.$b,a.ku=this.cf,a.lu=this.Ig):(a.Xn=!1,a.ku=-1,a.lu=-1)};e.prototype.kq=function(){var a,f,e=this.context.canvas.width,b=this.context.canvas.height;var c=!1;this.oi=-1;if(this.l)this.$b?this.Oh=-2:(-2===this.Oh&&this.Hs&&this.Hs(this.cf,this.Ig,this.$b,this.caller),this.$b||(this.Oh=-1));else{var d=this.Oh;this.context.textAlign="left";for(f=0;f<this.ub;f+=1){var A=this.sd[f];A.l||(A.Xw(e,b),(a=A.Oy(this.cf,
this.Ig)&&!(A.locked||this.locked))&&!this.$b&&(this.oi=f),(this.$b&&-1===d&&a||a&&this.Vi)&&A.type!==g.label&&(d=f,this.Vi&&(A.Xn=f)),f===d&&(A.locked||this.locked)&&(d=-1,a=!1),A.enabled&&this.fa(A,a,f,d))}0<=d&&!this.$b&&(c=!0);this.$b&&-1===d&&(d=-2);-2===d&&this.gq&&!this.locked&&this.gq(this.cf,this.Ig,this.$b,this.caller);this.$b||(d=-1);this.Oh=d;this.context.globalAlpha=1}return c};f.prototype.qm=function(a,f,g,e,b,c){this.Hd=a;this.Tc=f;this.Df=g;this.Gf=b;this.Dg=c;this.Oc&&this.Oc.qm(a,
f,g,e,b,c)};f.prototype.cx=function(){var a=this.Hf.canvas,f=a.offsetParent;this.offsetLeft=a.offsetLeft;for(this.offsetTop=a.offsetTop;f;)this.offsetLeft+=f.offsetLeft,this.offsetTop+=f.offsetTop,f=f.offsetParent;f=a.parentNode;if("fixed"===f.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;else for(;"body"!==f.tagName.toLowerCase();)this.offsetLeft-=f.scrollLeft,this.offsetTop-=
f.scrollTop,f=f.parentNode};f.prototype.qx=function(a,f,g){a=new e(a,f,g,this.ud,this.ak);a.Hd=this.Hd;a.be=this.be;a.Tc=this.Tc;a.Lc=this.Lc;a.Df=this.Df;a.nh=this.nh;a.yi=this.yi;a.yj=this.yj;a.Gf=this.Gf;a.ji=this.ji;a.Dg=this.Dg;a.Ui=this.Ui;a.border=this.border;return a};f.prototype.Tx=function(){var a=this.Oc,f=this.ud,e="";var b=1;if(-1!==a.Oh||-1===a.Oh&&-1===a.oi)this.f=a.Oh;if(-1===a.oi||-1!==this.f&&this.f===a.oi){if(-1!==a.oi){var c=a.sd[a.oi];c.id===this.m&&c.gi!==this.i&&(this.f=-1)}50>
this.zg&&(this.zg+=1)}else if(c=a.sd[a.oi],c.id!==this.m||c.id===this.m&&c.gi!==this.i?(this.m=c.id,this.i=c.gi,50>this.zg&&(this.zg+=1)):0<=this.zg&&--this.zg,a=-1!==this.i?c.F[this.i]:c.F,""!==a&&-1===this.zg){this.f=-1;var d=c.x;var A=c.y;var m=c.width;var n=c.height;-1!==c.gi&&(c.orientation===g.Zc?(d+=m/c.lower.length*c.gi,m/=c.lower.length):(A+=n/c.lower.length*c.gi,n/=c.lower.length));f.font="18px Arial";var p=f.measureText(a).width;var B=Math.round(d+m/2);A=Math.round(A+n/2);B-=p/2;5>B?B=
5:B+p+4>f.canvas.width&&(B=f.canvas.width-p-4-1);n>m?(-1!==this.W&&m<this.W&&(m=this.W),B>f.canvas.width/2?B=d-p-m/2:B=d+c.width+m/2):(-1!==this.fa&&n<this.fa&&(n=this.fa),A>f.canvas.height/2?A-=n:A+=n);if(p>f.canvas.width){e=(p>>1)+22;e>f.canvas.width&&(e=f.canvas.width);for(p=1;f.measureText(a.substr(0,p)).width<e;)p+=1;for(b=p-1;b>p-5;)e=a[b]," "===e||","===e||"/"===e?(p=b+2,b=p-5):--b;e=a.substr(p-1);a=a.substr(0,p-1);p=f.measureText(a).width;b=f.measureText(e).width;b>p&&(p=b);b=2}f.globalAlpha=
this.Lc;f.fillStyle=this.Tc;f.fillRect((B-4|0)-.5,(A-9-4|0)-.5,p+2+8,18*b+8);f.globalAlpha=this.Ui;f.strokeStyle=this.Dg;f.strokeRect((B-4|0)-.5,(A-9-4|0)-.5,p+2+8,18*b+8);f.globalAlpha=this.Lc;f.strokeStyle=this.Tc;f.beginPath();f.moveTo((B-4|0)+.5,(A-9-4|0)+.5+18*b+8);f.lineTo((B-4|0)+.5+p+2+8,(A-9-4|0)+.5+18*b+8);f.lineTo((B-4|0)+.5+p+2+8,(A-9-4|0)+.5);f.stroke();f.globalAlpha=1;f.fillStyle=this.Tc;f.fillText(a,B+2,A+2);""!==e&&f.fillText(e,B+2,A+18+2);f.fillStyle=this.Hd;f.fillText(a,B,A);""!==
e&&f.fillText(e,B,A+18)}};f.prototype.Sa=function(a){var f,g=a.ud,l=g.canvas.width-86,e=90;a.wa&&(e=0);a.Km=!1;a.ts=!0;a.Ql&&(a.Oc=a.Ql,a.Ql=null,g.font=a.ak,a.Oc.Kd(),a.Oc.Qm&&a.Oc.Qm(a.Oc.caller));var b=performance.now();a.Iq&&(a.Yn=b-1E3/60);a.el||a.notification.dj()||a.Li||a.uA!==a.zg&&-1!==a.zg?(a.om(a),a.Li&&--a.Li,a.Iq=!1):a.Iq=!0;var c=b-a.Yn;a.Yn=b;a.Oc.Mc&&a.Oc.Mc(c,a.Oc.caller);b=performance.now()-b;var m=performance.now();a.kq();a.Vi=!1;a.Tx();a.notification.update();m=performance.now()-
m;a.Tq[a.Fm]=m;for(f=m=0;f<a.rj;f+=1)m+=a.Tq[f];m/=a.rj;a.Vq[a.Fm]=b;for(f=b=0;f<a.rj;f+=1)b+=a.Vq[f];b/=a.rj;a.Sq[a.Fm]=c;for(f=c=0;f<a.rj;f+=1)c+=a.Sq[f];c/=a.rj;a.Fm=(a.Fm+1)%a.rj;c=1E3/c;if(a.Bi){g.font="12px Arial";g.globalAlpha=.7;g.fillStyle="black";a.Ai?g.fillRect(l,e,88,83):g.fillRect(l,e,88,20);f=(b+m)/16.6666;1<f&&(f=1);g.fillStyle=.5>f?"rgb("+(510*f|0)+",255,0)":"rgb(255,"+(255*(1-2*(f-.5))|0)+",0)";g.fillRect(l,e,88*f|0,20);m=m.toFixed(1);b=b.toFixed(1);4>c.toFixed(1).length?c=c.toFixed(1):
c|=0;g.globalAlpha=1;g.fillStyle="black";var n=c+"fps";var p=g.measureText(n).width;g.fillText(n,l+36-p,e+12);n=(100*f|0)+"%";p=g.measureText(n).width;g.fillText(n,l+84-p,e+12);a.Ai&&(g.fillText("menu",l+6,e+28),g.fillText("work",l+6,e+44),g.fillText("update",l+6,e+60),g.fillText("focus",l+6,e+76),n=m+"ms",p=g.measureText(n).width,g.fillText(n,l+84-p,e+28),n=b+"ms",p=g.measureText(n).width,g.fillText(n,l+84-p,e+44),n=a.el?"on":"off",p=g.measureText(n).width,g.fillText(n,l+84-p,e+60),n=a.hasFocus?
"on":"off",p=g.measureText(n).width,g.fillText(n,l+84-p,e+76));g.fillStyle="white";n=c+"fps";p=g.measureText(n).width;g.fillText(n,l+34-p,e+10);n=(100*f|0)+"%";p=g.measureText(n).width;g.fillText(n,l+82-p,e+10);a.Ai&&(g.fillText("menu",l+4,e+26),g.fillText("work",l+4,e+42),g.fillText("update",l+4,e+58),g.fillText("focus",l+4,e+74),n=m+"ms",p=g.measureText(n).width,g.fillText(n,l+82-p,e+26),n=b+"ms",p=g.measureText(n).width,g.fillText(n,l+82-p,e+42),n=a.el?"on":"off",p=g.measureText(n).width,g.fillText(n,
l+82-p,e+58),n=a.hasFocus?"on":"off",p=g.measureText(n).width,g.fillText(n,l+82-p,e+74));g.globalAlpha=1}a.Hf.drawImage(g.canvas,0,0);a.vr=!0};f.prototype.Bw=function(a){a.ia=this.ia;this.Oc?this.Ql=a:(this.Ql=null,this.Oc=a,this.ud.font=this.ak,this.Oc.Kd(),this.Oc.Qm&&this.Oc.Qm(this.Oc.caller),this.om(this))};f.prototype.kq=function(){var a;if(this.Oc){var f=this.Oc;this.ud.font=this.ak;f.cf=this.sh;f.Ig=this.th;f.$b=this.$b;f.Vi=this.Vi;if(f.kq()||this.Wg){for(a=0;a<f.ub;a+=1){var g=f.sd[a];f.Iv(g)}this.Wg=
!1}}};f.prototype.om=function(a){a.Km||(requestAnimationFrame?requestAnimationFrame(a.jt):setTimeout(a.jt,16),a.Km=!0)};f.prototype.H=function(a,f){var g="";if("touchend"===f.type){g="mouseup";var l=document.createEvent("MouseEvent");l.initMouseEvent(g,!0,!0,window,1,a.Nl,a.Ol,a.Ll,a.Ml,!1,!1,!1,!1,0,null);f.target.dispatchEvent(l);f.preventDefault()}else{if(1===f.touches.length)switch(f.type){case "touchstart":g="mousedown";break;case "touchmove":g="mousemove"}if(""!==g){var e=f.changedTouches[0];
l=document.createEvent("MouseEvent");l.initMouseEvent(g,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);e.target.dispatchEvent(l);f.preventDefault();a.Nl=e.screenX;a.Ol=e.screenY;a.Ll=e.clientX;a.Ml=e.clientY}}};f.prototype.ha=function(a,f){a.tj||(a.Lj(a,f),a.$b=!0,a.ts=!1,f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Ha=function(a,f){a.ju=performance.now();a.tj||(a.Lj(a,f),a.$b=!1,a.ts||(a.Vi=!0),a.hasFocus||(a.Hf.canvas.focus(),a.hasFocus=!0,
a.notification.clear(!0,!1),a.Kt&&a.Kt(a.caller)),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.lt=function(a){a.hasFocus||a.Qp&&""!==a.notification.Ng||(a.Ib?a.si||a.notification.T("Copy",3600,!0):a.wa?a.Vg?a.notification.T("Launch",3600,!0):a.notification.T("Expand",3600,!0):a.notification.T("Click to control",3600,!0),a.notification.Fp=!0,a.Qp=!0)};f.prototype.va=function(a,f){a.tj||(a.lt(a),a.Lj(a,f),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Fa=
function(a,f){a.tj||(a.lt(a),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Ca=function(a,f){var g=performance.now()-a.ju;a.tj||(1<g&&(a.hasFocus||a.notification.clear(!0,!1),a.Hf.canvas.blur(),a.hasFocus=!1,a.$b=!1,a.sh=-1,a.th=-1,a.Qp=!1,a.Km||(a.om(a),2>a.Li&&(a.Li=2))),f.stopPropagation&&f.stopPropagation(),f.preventDefault())};f.prototype.Lj=function(a,f){if(f.pageX||f.pageY){var g=f.pageX;f=f.pageY}else g=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
f=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;a.cx();g-=a.offsetLeft;f-=a.offsetTop;a.sh=g-1|0;a.th=f-1|0;a.Km||(a.om(a),2>a.Li&&(a.Li=2))};f.prototype.Og=function(a){!a&&!this.notification.dj()||this.el||this.om(this);this.el=a};window.IconManager=b;window.Menu=g;window.MenuManager=f})();(function(){function d(a,e,f,g,l,I){this.Gk=a;this.Hk=e;this.width=f;this.height=g;this.nA=l;this.Wx=I}function c(a){var e=a.lastIndexOf(".");-1!==e&&(a=a.substr(0,e));this.name=a;this.Hi=this.Bg=0;this.Ze=this.pd=this.tb=-1;this.hk=this.Dl=0;this.Pn=this.uq=!1;this.Zm=this.Zd=this.aa="";this.ca=this.S=this.Jl=this.Gb=this.Zb=!1;this.wc=b.Jj;this.Qe=-1;this.qd=this.Md=!1;this.Jb=-1;this.qh=1;this.Kf=this.Us=this.Vs=this.Ws=this.Xs=this.Xd=this.Hc=this.md=this.zc=-1;this.sa=!1;this.lc=-1;this.cl=this.al=
this.wd=this.Uc=null;this.g=this.Ee=-1;this.height=this.width=0;this.De=this.$c=null;this.og=this.pe=this.rb=this.title="";this.Fe=2;this.$l=0;this.kj=this.Xg=!1;this.Pz=this.Mu=""}var b={Gu:"none",Ym:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zt:"0123456789abcdef",nk:86,bo:22,co:6,Rl:8,Xx:"XRLE",Xu:"Pos",Lt:"Gen",o:"",Ww:":",ht:"ptkcs",fp:"012345678ceaiknjqrytwz-",Gg:"0123456789",vs:"0123456789xyz",us:"0123",ws:"0123456789",xA:8191,wA:1038,yA:7157,Qv:"0123456omp-",XA:"0123456",
aw:"01234",lv:["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"],kv:"omp",Nz:[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]],ep:" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" "),cp:"  omp omp omp  ".split(" "),By:[0,2,6,10,13,10,6,2,0],Ty:[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,
5,7,8,9],[2,0,1,3,4,5],[0,1],[0]],Oz:[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]],ri:13,maxWidth:16384,maxHeight:16384,Ey:256,Aj:new Uint32Array(256),Dr:new Uint8Array(8192),Cr:new Uint8Array(8192),yk:new Uint8Array(512),Br:new Uint8Array(512),sA:new Uint16Array(512),ya:!1,fk:!1,Hq:"history",ap:"l",$o:"le",bp:"lv",Dq:"h",Gs:"v",Xg:!1,rq:0,$h:!1,Co:0,Do:0,sg:!1,index:0,Zq:1,Yq:500,My:0,Fy:255,Jy:0,Cy:1,Vl:0,Fs:1,mt:2,qo:1,jo:500,Du:0,xu:255,
ko:0,eo:0,bf:0,jf:1,Pp:2,Rg:-1,Qg:-1,Jj:0,Kk:1,Lk:2,bl:"|",gh:!1,mv:"@RULE ",Rz:"@TREE",Qz:"@TABLE",hB:"@COLORS",iB:"@ICONS"};c.prototype.f=function(a){this.aa=a.aa;this.Zb=a.Zb;this.Zd=a.Zd;this.S=a.S;this.ca=a.ca;this.Bg=a.Bg;this.Hi=a.Hi;this.wc=a.wc;this.Qe=a.Qe;this.Md=a.Md;this.qd=a.qd;this.Jb=a.Jb;this.Kf=a.Kf;this.qh=a.qh;this.zc=a.zc;this.md=a.md;this.Hc=a.Hc;this.Xd=a.Xd;this.sa=a.sa;this.lc=a.lc;this.Ee=a.Ee;this.g=a.g;this.Fe=a.Fe;a.wd&&(this.wd=new Uint8Array(a.wd.length),this.wd.set(a.wd));
a.Uc&&(this.Uc=new Uint8Array(a.Uc.length),this.Uc.set(a.Uc))};c.prototype.fx=function(a,e){a.wd&&(this.cl=e.V(Uint8,a.wd.length,"HROT.altSurvivals"),this.cl.set(a.wd));a.Uc&&(this.al=e.V(Uint8,a.Uc.length,"HROT.altBirths"),this.al.set(a.Uc));this.Xs=a.zc;this.Ws=a.md;this.Vs=a.Hc;this.Us=a.Xd};c.prototype.Jz=function(){this.Zd=this.aa="";this.ca=this.S=this.Zb=!1;this.Hi=this.Bg=0;this.wc=b.Jj;this.Qe=-1;this.qd=this.Md=!1;this.Kf=this.Jb=-1;this.sa=!1;this.g=this.Ee=this.lc=-1;this.Fe=2};c.prototype.ry=
function(a){return this.qd!==a.qd||this.sa!==a.sa?"Alternate is different rule family":(-1===this.g?this.Fe:this.g)!==(-1===a.g?a.Fe:a.g)?"Alternate has different number of states":this.S!==a.S||this.ca!==a.ca||this.wc!==a.wc||this.Md!==a.Md||this.Qe!==a.Qe||this.Kf!==a.Kf||this.Ee!==a.Ee?"Alternate has different neighborhood":this.Jb!==a.Jb||this.lc!==a.lc?"Alternate has different range":this.Zb||a.Zb?"Alternate can not use none":""};b.Ax=function(a,e,f){var g,l,I=0,b=0,c=0,d=!1;var h=e.length;for(g=
l=0;g<h;){var A=e[g];g+=1;switch(l){case 0:switch(A){case "!":l=1;a.rb+="#C ";var m=!0;break;case "O":case "o":case "*":case ".":l=2;b=I=c=0;var n=--g}break;case 1:"\r"!==A&&"\n"!==A&&(" "===A?m||(a.title+=A,a.rb+=A):(m=!1,a.title+=A,a.rb+=A));"\n"===A&&(l=0,a.rb+=A,a.title+=" ");break;case 2:switch(A){case "O":case "o":case "*":case ".":b+=1;break;case "\n":c+=1;b>I&&(I=b);b=0;break;case " ":case "\t":break;default:g=h,d=!0}}}if(!d){2===l&&"\n"!==A&&(c+=1,b>I&&(I=b));a.height=c;a.width=I;a.og="Cells";
a.$c=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");g=n;for(l=I=0;g<h;)switch(A=e[g],g+=1,A){case "\n":I+=1;l=0;break;case "O":case "o":case "*":a.$c[I][l>>4]|=1<<(~l&15);l+=1;break;case ".":l+=1}this.ya=!0;this.yl(a,"",f)}};b.yx=function(a,e,f){var g,l;var I=e.length;var b=[];var c=0;var d=!1;var h=l=0;var A=!1;for(g=10;g<I;){var m=e[g];g+=1;switch(m){case "\n":A&&(A=!1,2===n&&d&&(h=-h,d=!1),b[c]=[l,h],c+=1);var n=h=l=0;break;case "-":d=!0;0===n?n=1:1===n&&(n=2);break;case " ":1===
n&&(d&&(l=-l,d=!1),n=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===n&&(n=1),1===n?l=10*l+parseInt(m,10):(h=10*h+parseInt(m,10),A=!0)}}A&&(2===n&&d&&(h=-h),b[c]=[l,h],c+=1);if(c){I=e=b[0][0];n=m=b[0][1];for(g=1;g<c;g+=1)l=b[g][0],h=b[g][1],l<e&&(e=l),l>I&&(I=l),h<m&&(m=h),h>n&&(n=h);a.height=n-m+1;a.width=I-e+1;a.$c=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.og="Life 1.06";this.yl(a,"",f);for(g=0;g<c;g+=1)l=b[g][0]-e,h=
b[g][1]-m,a.$c[h][l>>4]|=1<<(~l&15)}};b.xt=function(a,e,f,g){var l,I,b=[],c=0,q=e.length;var h="";var A=!1;var m=0,n=0,p=!1,B=!1,x=0,u=0;f=f?10:0;for(this.ya=!0;f<q&&!B;){var t=e[f];f+=1;switch(m){case 0:switch(t){case "#":m=2;break;case "*":case ".":m=3;var H=I=l=0;var k=--f}break;case 2:switch(t){case "C":case "D":m=1;a.rb+="#C ";var r=!0;break;case "N":m=0;break;case "R":m=4;break;case "P":m=5;n=0;p=!1;u=x=0;break;case "\n":m=0;break;default:m=1,r=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?r||
(a.title+=t,a.rb+=t):(r=!1,a.title+=t,a.rb+=t));"\n"===t&&(m=0,a.title+=" ",a.rb+=t);break;case 4:"\n"===t?m=0:(h+=t,A=!0);break;case 5:switch(t){case "\n":m=0;2===n&&p&&(u=-u,p=!1);break;case "-":p=!0;0===n?n=1:1===n&&(n=2);break;case " ":1===n&&(p&&(x=-x,p=!1),n=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===n&&(n=1),1===n?x=10*x+parseInt(t,10):u=10*u+parseInt(t,10)}break;case 3:switch(t){case "\n":l>I&&(I=l);l=0;H+=1;break;case "#":b[c]=new d(x,
u,I,H,k,f-1);c+=1;m=2;break;case "*":case ".":l+=1;break;case " ":case "\t":break;default:B=!0}}}"\n"!==t&&(H+=1);3===m&&(b[c]=new d(x,u,I,H,k,f-1),c+=1);if(c&&!B){x=b[0].Gk;u=b[0].Hk;t=x+b[0].width-1;l=u+b[0].height-1;for(f=1;f<c;f+=1)b[f].Gk<x&&(x=b[f].Gk),b[f].Hk<u&&(u=b[f].Hk),b[f].Gk+b[f].width-1>t&&(t=b[f].Gk+b[f].width-1),b[f].Hk+b[f].height-1>l&&(l=b[f].Hk+b[f].height-1);a.height=l-u+1;a.width=t-x+1;a.$c=Array.Z(Uint16,a.height,(a.width-1>>4)+1,0,g,"Pattern.lifeMap");a.og="Life 1.05";a.De=
Array.Z(Uint8,a.height,a.width,0,g,"Pattern.multiStateMap");A?(this.Bt(a,h,!1,g),this.ya?0<=a.g||a.Gb||(a.De=null):(a.g=-1,a.Gb=!1)):this.yl(a,"",g);for(f=0;f<c;f+=1)for(g=b[f].nA,h=b[f].Wx,l=b[f].Gk-x,t=b[f].Hk-u,A=l,I=t;g<=h;)switch(t=e[g],g+=1,t){case "\n":I+=1;A=l;break;case "*":a.$c[I][A>>4]|=1<<(~A&15);a.De&&(a.De[I][A]=1);A+=1;break;default:A+=1}}};b.zi=function(a,e,f,g){var l=0,b,c,d;f&&(l=4);for(c=0;8192>c;c+=8)for(d=0;4>d;d+=1){f=0;for(b=c+d&g;0<b;)f+=b&1,b>>=1;e===f&&(a[c+d+l]=1)}};b.sm=
function(a,e,f,g){var l=0,b,c,d;f&&(l=16);for(c=0;512>c;c+=32)for(d=0;16>d;d+=1){f=0;for(b=c+d&g;0<b;)f+=b&1,b>>=1;e===f&&(a[c+d+l]=1)}};b.ay=function(a){return(a&7)<<6|(a&448)>>6|a&56};b.jv=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};b.fA=function(a,e,f){var g;for(g=0;4>g;g+=1)a[e]=f,e=this.jv(e);e=this.ay(e);for(g=0;4>g;g+=1)a[e]=f,e=this.jv(e)};b.Zz=function(a,e,f,g,l){var b=f?16:0;if(2>e||4<e)this.sm(a,e,f,254);else if(f=this.kv.indexOf(g),
-1!==f)for(e=this.Nz[e-2][f],f=0;f<e.length;f+=1)g=e[f]+b,a[g]=l,a[g+256]=l,a[g+1]=l,a[g+257]=l};b.eA=function(a,e,f,g,l){var b=0,c=e-1;0===e||8===e?this.sm(a,e,f,511):(3<c&&(c=6-c,b=495),e=this.lv[c].indexOf(g),-1!==e&&(b^=this.Oz[c][e],f&&(b|=16),this.fA(a,b,l)))};b.sv=function(a,e,f,g){var l=e.length,b=0,c="",d;for(d=0;d<l;d+=1){var q=e.charCodeAt(d)-48;b|=1<<q;this.sm(a,q,f,g)}for(d=0;9>d;d+=1)0!==(b&1<<d)&&(c+=String(d));return c};b.ct=function(a){for(var e=0;a;)e+=1,a&=a-1;return e};b.Dw=function(a,
e){var f="",g=0;if(e[a]){e=e[a];0!==(e&1<<this.ri)&&(g=1,e&=~(1<<this.ri));var l=this.ct(e);var b=2>a||4<a?0:3;l+g>b>>1&&(e=~e&(1<<b)-1)&&(g=1-g);if(!g||e)for(f+=String(a),g&&(f+="-"),a=0;a<b;a+=1)0!==(e&1<<a)&&(f+=this.kv[a])}else f+=String(a);return f};b.Ew=function(a,e){var f="",g=0;if(e[a]){e=e[a];0!==(e&1<<this.ri)&&(g=1,e&=~(1<<this.ri));var l=this.ct(e);var b=this.By[a];(g||7!==l||13!==b)&&l+g>b>>1&&(e=~e&(1<<b)-1)&&(g=1-g);if(!g||e)for(f+=String(a),g&&(f+="-"),l=0;l<b;l+=1)g=this.Ty[a][l],
0!==(e&1<<g)&&(f+=this.lv[3][g])}else f+=String(a);return f};b.ov=function(a,e,f){var g=e.length,l=0,b=[],c="",d;e+=" ";for(d=0;7>d;d+=1)b[d]=0;for(d=0;d<g;d+=1){var q=e.charCodeAt(d)-48;if(0<=q&&8>=q){var h=0!==(l&1<<q);l|=1<<q;var A=e[d+1];var m=this.cp[q].indexOf(A);-1!==m||h||this.sm(a,q,f,254);var n=1;"-"===A&&(n=0,d+=1,A=e[d+1],m=this.cp[q].indexOf(A));-1!==m||"0"<=A&&"9">=A||" "===A||(this.o=(f?"S":"B")+q+A+" not valid",d=g);h&&(h=0,0===(b[q]&1<<this.ri)&&(h=1),h!==n&&(this.o=(f?"S":"B")+q+
" can not have minus and non-minus",m=-1,d=g));for(;-1!==m;)0!==(b[q]&1<<m)?(this.o="duplicate "+q+this.cp[q][m],m=-1,d=g):(this.Zz(a,q,f,A,n),b[q]|=1<<m,n||(b[q]|=1<<this.ri),d+=1,A=e[d+1],m=this.cp[q].indexOf(A))}else this.o="missing digit prefix"}for(d=0;7>d;d+=1)0!==(l&1<<d)&&(c+=this.Dw(d,b));return c};b.qv=function(a,e,f){var g=e.length,l=0,b=[],c="",d;e+=" ";for(d=0;9>d;d+=1)b[d]=0;for(d=0;d<g;d+=1){var q=e.charCodeAt(d)-48;if(0<=q&&8>=q){var h=0!==(l&1<<q);l|=1<<q;var A=e[d+1];var m=this.ep[q].indexOf(A);
-1!==m||h||this.sm(a,q,f,511);var n=1;"-"===A&&(n=0,d+=1,A=e[d+1],m=this.ep[q].indexOf(A));-1!==m||"0"<=A&&"9">=A||" "===A||(this.o=(f?"S":"B")+q+A+" not valid",d=g);h&&(h=0,0===(b[q]&1<<this.ri)&&(h=1),h!==n&&(this.o=(f?"S":"B")+q+" can not have minus and non-minus",m=-1,d=g));for(;-1!==m;)0!==(b[q]&1<<m)?(this.o="duplicate "+q+this.ep[q][m],m=-1,d=g):(this.eA(a,q,f,A,n),b[q]|=1<<m,n||(b[q]|=1<<this.ri),d+=1,A=e[d+1],m=this.ep[q].indexOf(A))}else this.o="missing digit prefix"}for(d=0;9>d;d+=1)0!==
(l&1<<d)&&(c+=this.Ew(d,b));return c};b.wx=function(a,e){var f;for(f=0;512>f;f+=1)a[f]=0!==(e&1<<(f&7))?1:0!==(f&16)?1:0};b.Zp=function(a,e,f){var g=12,l=b.xA,I=a.Bg,c=a.Hi;a.wc===b.Kk?(g=3,l=b.wA):a.wc===b.Lk&&(g=9,l=b.yA);for(a=0;8192>a;a+=1)e[a]=0;if(f)for(a=0;8192>a;a+=1)f[a]=0;if(0!==(I&1))if(0!==(c&1<<g)){I=~I;c=~c;for(a=0;a<=g;a+=1)c&1<<g-a&&this.zi(e,a,!1,l);for(a=0;a<=g;a+=1)I&1<<g-a&&this.zi(e,a,!0,l);f.set(e)}else{for(a=0;a<=g;a+=1)~I&1<<a&&this.zi(f,a,!1,l);for(a=0;a<=g;a+=1)~c&1<<a&&
this.zi(f,a,!0,l);for(a=0;a<=g;a+=1)c&1<<g-a&&this.zi(e,a,!1,l);for(a=0;a<=g;a+=1)I&1<<g-a&&this.zi(e,a,!0,l)}else{for(a=0;a<=g;a+=1)0!==(I&1<<a)&&this.zi(e,a,!1,l);for(a=0;a<=g;a+=1)0!==(c&1<<a)&&this.zi(e,a,!0,l);f&&f.set(e)}};b.vx=function(a,e,f,g,l){var I=this.vs,c="",d="";l===b.Kk?I=this.us:l===b.Lk&&(I=this.ws);for(l=a.Bg=0;l<e.length;l+=1){var q=I.indexOf(e[l]);a.Bg|=1<<q}for(l=a.Hi=0;l<f.length;l+=1)q=I.indexOf(f[l]),a.Hi|=1<<q;for(l=0;l<I.length;l+=1)0!==(a.Bg&1<<l)&&(c+=I[l]);for(l=0;l<
I.length;l+=1)0!==(a.Hi&1<<l)&&(d+=I[l]);return-1!==g?d+"/"+c+"/"+g:"B"+c+"/S"+d};b.tx=function(a,e,f,g,l,I,c,d,q,h){var L=0,m=this.sA;var n=(1<<this.Rl+1)/6|0;var p=new Uint8Array(512);if(a.Zb)f=b.Gu;else if(I)f=this.vx(a,e,f,q,c);else{a=511;l?a=254:d&&(a=186);for(I=0;512>I;I+=1)p[I]=0,h[I]=0,m[I]=l?I:(I&448)>>6|I&56|(I&7)<<6;if(""!==g){f="MAP";for(I=0;I<n;I+=1)f+=g[I],e=b.Ym.indexOf(g[I]),p[L]=e>>5,L+=1,p[L]=e>>4&1,L+=1,p[L]=e>>3&1,L+=1,p[L]=e>>2&1,L+=1,p[L]=e>>1&1,L+=1,p[L]=e&1,L+=1;e=b.Ym.indexOf(g[I]);
p[L]=e>>5;p[L+1]=e>>4&1;f+=b.Ym[e&48];for(I=0;512>I;I+=1){g=0;n=b.Rl;for(L=8;0<=L;--L)0!==(a&1<<L)&&(0!==(I&1<<L)&&(g|=1<<n),--n);h[m[I]]=p[g]}-1!==q&&(f+="/"+q)}else d?(L=this.sv(h,e,!1,a),h=this.sv(h,f,!0,a)):l?(L=this.ov(h,e,!1),h=this.ov(h,f,!0)):(L=this.qv(h,e,!1),h=this.qv(h,f,!0)),f=-1!==q?h+"/"+L+"/"+q:"B"+L+"/S"+h}return f};b.$A=function(a,e){var f,g="";for(f=0;f<=e;f+=1){var l=this.fp[f];-1!==a.indexOf(l)&&(g+=this.fp[e-f])}return g};b.ZA=function(a){var e,f="";for(e=0;9>e;e+=1){var g=this.fp[e];
-1===a.indexOf(g)&&(f+=g)}return f};b.bv=function(a){var e=a,f=0;if(-1!==a.indexOf(" "))for(e="";f<a.length;)" "!==a[f]&&(e+=a[f]),f+=1;return e};b.Nx=function(a,e){for(var f=!0,g=0,l,b=1;b<e.length&&f;)l=this.Gg.indexOf(e[b]),-1!==l?g=10*g+l:(this.o="Illegal character in Wolfram rule",f=!1),b+=1;f&&(0>g||254<g?(this.o="Wolfram rule number must be 0-254",f=!1):0!==(g&1)?(this.o="Wolfram rule number must be even",f=!1):(this.wx(this.yk,g),a.Qe=g,a.aa="W"+g));return f};b.Fw=function(a,e){var f=null;
if(""===e){if(a.S)a.aa+="H";else if(a.Md)a.aa+="V";else if(a.ca)switch(a.wc){case b.Jj:a.aa+=b.ap.toUpperCase();break;case b.Kk:a.aa+=b.$o.toUpperCase();break;case b.Lk:a.aa+=b.bp.toUpperCase()}f=AliasManager.Nt(a.aa);a.Gb&&(a.aa+="History")}-1!==a.tb&&(a.aa+=":"+b.ht[a.tb].toUpperCase(),a.aa+=a.pd,a.Dl&&(a.aa+="+"+a.Dl),a.uq&&(a.aa+="*"),a.Ze!==a.pd||a.hk||a.Pn)&&(a.aa+=","+a.Ze,a.hk&&(a.aa+="+"+a.hk),a.Pn&&(a.aa+="*"));null!==f&&(""===f&&(f=a.Gb?"Life":"Conway's Life"),a.Gb&&(f+="History"),a.Zd=
f)};b.KA=function(a,e){var f=b.nk,g=a.length;g>=f?this.Rl=8:(f=b.bo,g>=f?(this.Rl=6,e.S=!0):(f=b.co,g>=f?(this.Rl=4,e.Md=!0):f=-1));if(0<=f)for(e=0;e<f;e+=1)-1===b.Ym.indexOf(a[e])&&(f=-1);return f};b.Xc=function(a,e,f,g,l){var b=0,c=e.length,d=a.substr(this.index,c),q;if(d!==e)","===e[0]&&(","===d[0]&&(d=d.substr(1)),e=e.substr(1)),this.o="LtL expected '"+e.toUpperCase()+"' got '"+d.toUpperCase()+"'",this.index=-1;else if(","===e[0]&&(e=e.substr(1)),this.index+=c,c=a[this.index],this.index<a.length?
q=c.charCodeAt(0):q=-1,"n"===e)"m"===c||"n"===c||"c"===c?(this.index+=1,b=this.Vl,"n"===c?b=this.Fs:"c"===c&&(b=this.mt)):(this.o="LtL expected 'NM', 'NN' or 'NC' got 'N"+c.toUpperCase()+"'",this.index=-1);else if(48>q||57<q)this.o="LtL '"+l+e.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=q&&57>=q;)b=10*b+(q-48),this.index+=1,this.index<a.length?q=a[this.index].charCodeAt(0):q=-1;-1!==f&&b<f&&(this.o="LtL '"+l+e.toUpperCase()+b+"' < "+f,this.index=-1);-1!==g&&b>g&&(this.o="LtL '"+l+
e.toUpperCase()+b+"' > "+g,this.index=-1)}return b};b.Fx=function(a,e){var f=!1,g=0;this.index=0;var l=this.Xc(e,"r",this.Zq,this.Yq,"");-1!==this.index&&(a.Jb=l,l=this.Xc(e,",c",this.My,this.Fy,""),-1!==this.index&&(2>l&&(l=2),a.g=l,l=this.Xc(e,",m",this.Jy,this.Cy,""),-1!==this.index&&(a.qh=l,l=this.Xc(e,",s",0,-1,""),-1!==this.index&&(a.zc=l,l=this.Xc(e,"..",a.zc,-1,"S"),-1!==this.index&&(a.md=l,l=this.Xc(e,",b",0,-1,""),-1!==this.index&&(a.Hc=l,l=this.Xc(e,"..",a.Hc,-1,"B"),-1!==this.index&&(a.Xd=
l,l=this.Xc(e,",n",-1,-1,""),-1!==this.index&&(a.Kf=l,f=!0))))))));if(f)if(this.index!==e.length)f=!1,this.o="LtL invalid characters after rule";else{switch(a.Kf){case b.Vl:g=(2*a.Jb+1)*(2*a.Jb+1);break;case b.Fs:g=2*a.Jb*(a.Jb+1)+1;break;case b.mt:l=0;var I=a.Jb*a.Jb+a.Jb;for(e=-a.Jb;e<=a.Jb;e+=1){for(g=0;(g+1)*(g+1)+e*e<=I;)g+=1;l+=2*g+1}g=l}g-=1-a.qh;a.Hc>g&&(f=!1,this.o="LtL 'B"+a.Hc+"..' > "+g);a.Xd>g&&(f=!1,this.o="LtL 'B.."+a.Xd+"' > "+g);a.zc>g&&(f=!1,this.o="LtL 'S"+a.zc+"..' > "+g);a.md>
g&&(f=!1,this.o="LtL 'S.."+a.md+"' > "+g)}return f};b.Hx=function(a,e){var f=!1;this.index=0;a.g=2;a.qh=1;a.Kf=b.Vl;var g=this.Xc(e,"",this.Zq,this.Yq,"");-1!==this.index&&(a.Jb=g,g=this.Xc(e,",",0,-1,""),-1!==this.index&&(a.Hc=g,g=this.Xc(e,",",a.Hc,-1,"B"),-1!==this.index&&(a.Xd=g,g=this.Xc(e,",",0,-1,""),-1!==this.index&&(a.zc=g,g=this.Xc(e,",",a.zc,-1,"S"),-1!==this.index&&(a.md=g,f=!0)))));f&&(this.index!==e.length?(f=!1,this.o="LtL invalid characters after rule"):(e=(2*a.Jb+1)*(2*a.Jb+1),a.Hc>
e&&(f=!1,this.o="LtL 'B"+a.Hc+"..' > "+e),a.Xd>e&&(f=!1,this.o="LtL 'B.."+a.Xd+"' > "+e),a.zc>e&&(f=!1,this.o="LtL 'S"+a.zc+"..' > "+e),a.md>e&&(f=!1,this.o="LtL 'S.."+a.md+"' > "+e)));return f};b.Gx=function(a,e){var f=!1;this.index=0;-1===a.g&&(a.g=2);a.qh=1;a.Kf=b.Vl;var g=this.Xc(e,"r",this.Zq,this.Yq,"");-1!==this.index&&(a.Jb=g,g=this.Xc(e,"b",0,-1,""),-1!==this.index&&(a.Hc=g,g=this.Xc(e,"t",a.Hc,-1,"B"),-1!==this.index&&(a.Xd=g,g=this.Xc(e,"s",0,-1,""),-1!==this.index&&(a.zc=g,g=this.Xc(e,
"t",a.zc,-1,"S"),-1!==this.index&&(a.md=g,f=!0)))));f&&(this.index!==e.length?(f=!1,this.o="LtL invalid characters after rule"):(e=(2*a.Jb+1)*(2*a.Jb+1),a.Hc>e&&(f=!1,this.o="LtL 'B"+a.Hc+"' > "+e),a.Xd>e&&(f=!1,this.o="LtL 'B..T"+a.Xd+"' > "+e),a.zc>e&&(f=!1,this.o="LtL 'S"+a.zc+"..' > "+e),a.md>e&&(f=!1,this.o="LtL 'S..T"+a.md+"' > "+e)));return f};b.$u=function(a,e,f,g,l){var b=!1,c,d="HROT.",q,h=0;if(this.index+f>a.length)this.o="HROT '"+e+"' needs "+f+" hex digits";else{for(c=q=0;q<f&&-1!==c;)c=
this.Zt.indexOf(a[this.index]),-1!==c&&(this.index+=1,q+=1);if(-1===c)this.o="HROT '"+e+"' expected hex got '"+a[this.index]+"'";else{"B"===e?d+="births":(d+="survivals",h=1);l=l.V(Uint8,(f<<2)+1+h,d);b=0;l[b]=0;b+=1;--q;"S"===e&&(l[b]=0,b+=1);for(;0<=q;)c=this.Zt.indexOf(a[this.index-f+q]),--q,l[b]=c&1,b+=1,l[b]=c>>1&1,b+=1,l[b]=c>>2&1,b+=1,l[b]=c>>3&1,b+=1;"B"===e?g.Uc=l:g.wd=l;b=!0}}return b};b.xl=function(a,e){var f=-1;this.index+=1;if(this.index<a.length){var g=a[this.index].charCodeAt(0);if(48>
g||57<g)this.o="HROT '"+e+"' needs a number";else for(f=g-48,this.index+=1,g=-1,this.index<a.length&&(g=a[this.index].charCodeAt(0));48<=g&&57>=g;)f=10*f+(g-48),this.index+=1,this.index<a.length?g=a[this.index].charCodeAt(0):g=-1}else this.o="HROT '"+e+"' needs a number";return f};b.yt=function(a,e,f,g){var l=!0,b;for(b=this.xl(a,f);l&&-1!==b;){var c=-1;this.index<a.length&&"-"===a[this.index]&&(c=this.xl(a,f),-1===c&&(this.o="HROT '"+f+b+"-' needs a number",l=!1));if(l&&(-1===c&&(c=b),b>c&&(this.o=
"HROT '"+f+b+"-"+c+"' wrong order",l=!1),l)){"S"===f?(this.ko=c,b+=1,c+=1):this.eo=c;b>g&&(b=g);for(c>g&&(c=g);b<=c;b+=1)e[b]=1;b=-1;this.index<a.length&&","===a[this.index]&&(b=this.xl(a,f),-1===b&&(--this.index,this.o=""))}}return l};b.jA=function(a,e){var f=a.Jb,g=(2*f+1)*(2*f+1);a.lc=f;a.Ee=a.Kf;a.wd=e.V(Uint8,g+1,"HROT.survivals");a.Uc=e.V(Uint8,g,"HROT.births");for(f=a.zc;f<=a.md;f+=1)a.wd[f]=1;for(f=a.Hc;f<=a.Xd;f+=1)a.Uc[f]=1;if(this.gh){a.cl=e.V(Uint8,g+1,"HROT.altSurvivals");a.al=e.V(Uint8,
g,"HROT.altBirths");for(f=a.Xs;f<=a.Ws;f+=1)a.cl[f]=1;for(f=a.Vs;f<=a.Us;f+=1)a.al[f]=1}a.sa=!0};b.Dx=function(a,e,f){var g=!1,l,I;this.ko=this.eo=this.index=l=0;if("r"!==e[this.index])this.o="HROT expected 'R' got '"+e[this.index].vA()+"'";else{var c=this.xl(e,"R");-1!==c&&(c<this.qo?this.o="HROT 'R' < "+this.qo:c>this.jo?this.o="HROT 'R' > "+this.jo:(a.lc=c,g=!0,l=(2*c+1)*(2*c+1)))}g&&(g=!1,this.index<e.length?","!==e[this.index]?this.o="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=
1,this.index<e.length?"c"!==e[this.index]?this.o="HROT expected 'C' got "+e[this.index].toUpperCase():(c=this.xl(e,"C"),-1!==c&&(c<this.Du?this.o="HROT 'C"+c+"' < "+this.Du:c>this.xu?this.o="HROT 'C"+c+"' > "+this.xu:(2>c&&(c=2),a.g=c,g=!0))):this.o="HROT expected 'C'"):this.o="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.o="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"s"!==e[this.index]?this.o="HROT expected 'S' got "+e[this.index].toUpperCase():
(a.wd=f.V(Uint8,l+2,"HROT.survivals"),g=this.yt(e,a.wd,"S",l)):this.o="HROT expected 'S'"):this.o="HROT expected ','");g&&(g=!1,this.index<e.length?","!==e[this.index]?this.o="HROT expected ',' got "+e[this.index].toUpperCase():(this.index+=1,this.index<e.length?"b"!==e[this.index]?this.o="HROT expected 'B' got "+e[this.index].toUpperCase():(a.Uc=f.V(Uint8,l+1,"HROT.births"),g=this.yt(e,a.Uc,"B",l)):this.o="HROT expected 'B'"):this.o="HROT expected ','");a.Ee=this.bf;g&&this.index<e.length&&","===
e[this.index]&&(g=!1,this.index+=1,this.index<e.length?"n"===e[this.index]?(this.index+=1,this.index<e.length?"m"===e[this.index]||"n"===e[this.index]||"c"===e[this.index]?("n"===e[this.index]?a.Ee=this.jf:"c"===e[this.index]&&(a.Ee=this.Pp),this.index+=1,g=!0):this.o="HROT expected 'NM', 'NN' or 'NC' got 'N"+e[this.index].toUpperCase()+"'":this.o="HROT 'N' needs a neighborhood"):this.o="HROT expected 'N' got '"+e[this.index].toUpperCase()+"'":this.o="HROT expected 'N'");if(g){switch(a.Ee){case b.bf:l=
(2*a.lc+1)*(2*a.lc+1);break;case b.jf:l=2*a.lc*(a.lc+1)+1;break;case b.Pp:f=0;l=a.lc*a.lc+a.lc;for(I=-a.lc;I<=a.lc;I+=1){for(c=0;(c+1)*(c+1)+I*I<=l;)c+=1;f+=2*c+1}l=f}--l;this.ko>l&&(g=!1,this.o="HROT 'S"+this.ko+"' > "+l);g&&this.eo>l&&(g=!1,this.o="HROT 'B"+this.eo+"' > "+l);g&&(this.index!==e.length?(g=!1,this.o="HROT invalid characters after rule"):a.sa=!0)}return g};b.Cx=function(a,e,f){var g=!1,l=0;this.index=0;-1===a.g&&(a.g=2);if("r"!==e[this.index])this.o="HROT expected 'R' got '"+e[this.index].vA()+
"'";else{var I=-1;this.index+=1;this.index<e.length&&(I=e[this.index].charCodeAt(0));if(48>I||57<I)this.o="HROT 'R' needs a number";else{var c=I-48;this.index+=1;I=-1;for(this.index<e.length&&(I=e[this.index].charCodeAt(0));48<=I&&57>=I;)c=10*c+(I-48),this.index+=1,this.index<e.length?I=e[this.index].charCodeAt(0):I=-1;c<this.qo?this.o="HROT 'R' < "+this.qo:c>this.jo?this.o="HROT 'R' > "+this.jo:(a.lc=c,g=!0,l=c*(c+1))}}g&&(g=!1,this.index<e.length?"b"!==e[this.index]?this.o="HROT expected 'B' got "+
e[this.index].toUpperCase()+"'":(this.index+=1,g=this.$u(e,"B",l,a,f)):this.o="HROT expected 'B'");g&&(g=!1,this.index<e.length?"s"!==e[this.index]?this.o="HROT expected 'S' got "+e[this.index].toUpperCase()+"'":(this.index+=1,g=this.$u(e,"S",l,a,f)):this.o="HROT expected 'S'");g&&this.index<e.length&&"z"===e[this.index]&&(a.wd[1]=1,this.index+=1);g&&(this.index!==e.length?(g=!1,this.o="HROT invalid characters after rule"):(a.Ee=b.bf,a.sa=!0));return g};b.$s=function(a,e){for(var f=a.length,g=-1,
l="",b=0;b<f;)1===a[b]?-1===g&&(g=b):-1!==g&&(""!==l&&(l+=","),l+=g+e,b-1!==g&&(l+="-"+(b-1+e)),g=-1),b+=1;-1!==g&&(""!==l&&(l+=","),l+=g+e,b-1!==g&&(l+="-"+(b-1+e)));return l};b.yl=function(a,e,f){var g="",l=!1;var I=AliasManager.Ot(e);null!==I&&(g=AliasManager.Nt(I),e=I);I=e.indexOf(b.bl);if(-1===I)(l=this.aq(a,e,f,this.yk))&&a.ca&&this.Zp(a,this.Dr,this.Cr);else if(-1===e.substr(I+1).indexOf(b.bl)){if(l=this.aq(a,e.substr(0,I),f,this.Br)){var d=new c(a.name);d.f(a);a.Jz();if(l=this.aq(a,e.substr(I+
1),f,this.yk))if(this.o=a.ry(d),""===this.o)if(!a.ca&&(this.yk[0]||this.Br[0])||a.ca&&0!==(a.Bg&1)||0!==(d.Bg&1))this.o="Alternate not supported with B0",l=!1;else{a.ca&&(this.Zp(d,this.Cr,null),this.Zp(a,this.Dr,null));if(""!==g)a.Zd=g;else if(""!==a.Zd||""!==d.Zd)""===a.Zd&&(a.Zd=a.aa),""===d.Zd&&(d.Zd=d.aa),a.Zd=d.Zd+b.bl+a.Zd;a.aa=d.aa+b.bl+a.aa;(a.sa||a.qd)&&a.fx(d,f);this.gh=!0}else l=!1}}else this.o="Only one alternate allowed";return l};b.aq=function(a,e,f,g){var l=!1,c=null,d=null,G=null,
q=this.fp;var h=b.Dq.length;var A=b.ap.length;var m=b.$o.length,n=b.bp.length,p=b.Gs.length,B="";g[0]=0;var x=AliasManager.Ot(e);null!==x&&(""===e&&(a.aa="Conway's Life"),e=x);if("map"===e.substr(0,3).toLowerCase()){B=e.substr(3);var u=B.indexOf("/");-1===u?"=="===B.substr(-2)&&(B=B.substr(0,B.length-2)):"=="===B.substr(u-2,2)&&(B=B.substr(0,u-2)+B.substr(u));e=this.KA(B,a);if(0<=e)if(l=!0,G=B.substr(e),B=B.substr(0,e),"/"===G[0]){x=1;a.g=0;x<G.length&&("g"===G[x].toLowerCase()||"c"===G[x].toLowerCase())&&
(x+=1);for(u=0;x<G.length&&-1!==u;)u=this.Gg.indexOf(G[x]),-1!==u?a.g=10*a.g+u:(this.o="Illegal character in generations number",a.g=-1,l=!1),x+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,l=!1)}else""!==G&&(x=G.length,this.o="MAP length must be "+b.co+", "+b.bo+" or "+b.nk+" not "+(x+e),l=!1);else this.o=B.length===b.nk||B.length===b.bo||B.length===b.co?"MAP contains illegal base64 character":"MAP length must be "+b.co+", "+b.bo+" or "+b.nk+" not "+B.length}else{e=
e.toLowerCase();e=this.bv(e);l=!0;if("g"===e[0]){x=1;for(u=a.g=0;x<e.length&&-1!==u;)u=this.Gg.indexOf(e[x]),-1!==u&&(a.g=10*a.g+u,x+=1);1<x&&(2>a.g||256<a.g?(this.o="Generations number must be 2-256",a.g=-1,l=!1):(x<e.length&&"/"===e[x]&&(x+=1),e=e.substr(x),l=!0))}if(l&&(u=e.lastIndexOf("g"),-1!==u&&u!==e.length-1&&!(0<u&&"/"===e[u-1]))){x=u+1;for(u=a.g=0;x<e.length&&-1!==u;)u=this.Gg.indexOf(e[x]),-1!==u&&(a.g=10*a.g+u,x+=1);x===e.length?2>a.g||256<a.g?(this.o="Generations number must be 2-256",
a.g=-1,l=!1):(e=e.substr(0,e.lastIndexOf("g")),l=!0):a.g=-1}if(l)if(l=!1,"r"===e[0]||"1"<=e[0]&&"9">=e[0]&&-1!==e.indexOf(",")){if(l="r"===e[0]?-1!==e.indexOf(".")?this.Fx(a,e):-1!==e.indexOf("t")?this.Gx(a,e):-1!==e.indexOf(",")?this.Dx(a,e,f):this.Cx(a,e,f):this.Hx(a,e))a.sa?(a.aa="R"+a.lc+",",a.aa+="C"+a.g+",",a.aa+="S"+this.$s(a.wd,-1)+",",a.aa+="B"+this.$s(a.Uc,0),a.Ee!==this.bf&&(a.aa+=",N",a.aa=a.Ee===this.jf?a.aa+"N":a.aa+"C")):(a.qd=!0,a.aa="R"+a.Jb+",C"+a.g+",M"+a.qh+",S"+a.zc+".."+a.md+
",B"+a.Hc+".."+a.Xd+",N",a.aa=a.Kf===this.Vl?a.aa+"M":a.Kf===this.Fs?a.aa+"N":a.aa+"C",0===a.qh&&(a.zc+=1,a.md+=1))}else if("w"===e[0])l=this.Nx(a,e);else if(x=e.lastIndexOf(b.ap),-1!==x&&x===e.length-A&&(a.ca=!0,a.wc=b.Jj,e=e.substr(0,e.length-A),q=this.vs),x=e.lastIndexOf(b.$o),-1!==x&&x===e.length-m&&(a.ca=!0,a.wc=b.Kk,e=e.substr(0,e.length-m),q=this.us),x=e.lastIndexOf(b.bp),-1!==x&&x===e.length-n&&(a.ca=!0,a.wc=b.Lk,e=e.substr(0,e.length-n),q=this.ws),x=e.lastIndexOf(b.Dq),-1!==x&&x===e.length-
h&&(a.S=!0,e=e.substr(0,e.length-h),q=this.Qv),x=e.lastIndexOf(b.Gs),-1!==x&&x===e.length-p&&(a.Md=!0,e=e.substr(0,e.length-p),q=this.aw),f=e.indexOf("/"),-1===f&&(f=e.indexOf("_")),-1!==f&&(x=e.lastIndexOf("/"),-1===x&&(x=e.lastIndexOf("_")),x!==f&&(G=e.substring(x+1),e=e.substr(0,x),x=e.lastIndexOf(b.ap),-1!==x&&x===e.length-A&&(a.ca=!0,a.wc=b.Jj,e=e.substr(0,e.length-A),q=this.vs),x=e.lastIndexOf(b.$o),-1!==x&&x===e.length-m&&(a.ca=!0,a.wc=b.Kk,e=e.substr(0,e.length-m),q=this.us),x=e.lastIndexOf(b.bp),
-1!==x&&x===e.length-n&&(a.ca=!0,a.wc=b.Lk,e=e.substr(0,e.length-n),q=this.ws),x=e.lastIndexOf(b.Dq),-1!==x&&x===e.length-h&&(a.S=!0,e=e.substr(0,e.length-h),q=this.Qv),x=e.lastIndexOf(b.Gs),-1!==x&&x===e.length-p&&(a.Md=!0,e=e.substr(0,e.length-p),q=this.aw))),e===b.Gu)a.Zb=!0,a.g=256,l=!0;else{h=e.indexOf("b");A=e.indexOf("s");-1===f?0===h||0===A?-1===A?(c=e,d=""):-1===h?(d=e,c=""):h<A&&-1!==A?(c=e.substring(h+1,A),d=e.substring(A+1)):(d=e.substring(A+1,h),c=e.substring(h+1)):this.o="Unsupported rule name":
(-1===h&&-1!==A?h=f:-1!==h&&-1===A&&(A=f),h<A?(c=e.substring(0,f),d=e.substring(f+1)):(c=e.substring(f+1),d=e.substring(0,f)));-1!==h&&c&&"b"===c[0]&&(c=c.substring(1));-1!==A&&d&&"s"===d[0]&&(d=d.substring(1));if(null!==G)if(x=0,-1!==a.g)this.o="Generations defined twice",c=null;else{a.g=0;x<G.length&&("g"===G[x].toLowerCase()||"c"===G[x].toLowerCase())&&(x+=1);for(u=0;x<G.length&&-1!==u;)u=this.Gg.indexOf(G[x]),-1!==u?a.g=10*a.g+u:(this.o="Illegal character in generations number",a.g=-1,c=null),
x+=1;-1!==a.g&&(2>a.g||256<a.g)&&(this.o="Generations number must be 2-256",a.g=-1,c=null)}if(null!==c&&null!==d){l=!0;for(x=0;x<c.length;)u=q.indexOf(c[x]),-1===u?(this.o="Illegal character in birth specification",l=!1,x=c.length):x+=1;if(l)for(x=0;x<d.length;)u=q.indexOf(d[x]),-1===u?(this.o="Illegal character in survival specification",l=!1,x=d.length):x+=1}}}l&&-1===a.Qe&&!1===a.qd&&!1===a.sa&&(a.aa=this.tx(a,c,d,B,a.S,a.ca,a.wc,a.Md,a.g,g),""!==this.o&&(l=!1),2===a.g&&(a.g=-1));l&&this.Fw(a,
B);return l};b.At=function(a,e,f,g){var l=0,c=e.length-1,d=!1,G=!0,q,h=0,A=0,m=0,n=0,p=this.Aj;for(q=e[l];!d;){var B=q;q=e[l+1];var x=-1;switch(B){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":n=10*n+parseInt(B,10);break;case "b":x=0;break;case "o":x=1;break;case ".":x=0;break;case "z":x=7;a.Gb=!0;a.Jl=!0;break;case "$":0===n&&(n=1);m+=n;n=0;A>h&&(h=A);A=0;break;case "!":0===n&&(n=1);m+=n;n=0;A>h&&(h=A);d=!0;break;default:G=!1,"A"<=B&&"X">=B?(G=!0,x=B.charCodeAt(0)-
64):"p"<=B&&"y">B?"A"<=q&&"X">=q?(G=!0,x=24*(B.charCodeAt(0)-111)+(q.charCodeAt(0)-64),l+=1,q=e[l+1]):"x"===B&&(G=!0,a.Gb=!0,a.Jl=!0,x=3):"y"===B&&("A"<=q&&"O">=q?(G=!0,x=24*(B.charCodeAt(0)-111)+(q.charCodeAt(0)-64),l+=1,q=e[l+1]):(G=!0,a.Gb=!0,a.Jl=!0,x=5))}if(0<=x)if(0===n&&(n=1),f||(0===p[x]&&(a.$l+=1),p[x]+=n,x>=a.Fe&&(a.Fe=x+1)),0<x&&f)for(;0<n;){a.De[m][A]=-1===a.g?x:2===a.g?1===x?LifeConstants.cb:0:x<a.g?x:1;if(!a.Gb&&-1===a.g||a.Gb&&x&1||-1!==a.g&&1===x)a.$c[m][A>>4]|=1<<(~A&15);A+=1;--n}else A+=
n,n=0;G||(" "===B||"\t"===B||"\n"===B?G=!0:(this.o="Illegal character in pattern: "+B,d=a.kj=!0));l+=1;l===c&&(d||(0===n&&(n=1),m+=n,n=0,A>h&&(h=A)),d=!0)}f||(0===h&&(m=h=1),a.width=h,a.height=m,h>b.maxWidth||m>b.maxHeight?(a.Xg=!0,a.kj=!0):(a.$c=Array.Z(Uint16,m,(h-1>>4)+1,0,g,"Pattern.lifeMap"),a.De=Array.Z(Uint8,m,h,0,g,"Pattern.multiStateMap"),a.og="RLE"));a.kj&&(l=-1);return l};b.aA=function(a,e){var f=e.indexOf("\n");-1===f&&(f=e.length);a.Mu=e.substring(0,f).trim()};b.Po=function(a,e,f){for(var g=
!1;e<f&&!g;)" "===a[e]?e+=1:g=!0;return e};b.nz=function(a){var e=a.indexOf("\n"),f=0,g=!1,l=0;-1===e&&(e=a.length);for(;l<e&&!g;)"="===a[l]?g=!0:" "!==a[l]?g=!0:l+=1;if(g&&"="===a[l]){l=this.Po(a,l+1,e);for(g=!1;l<e&&!g;){var c=b.Gg.indexOf(a[l]);-1!==c?(f=10*f+c,l+=1):g=!0}this.$h=!0;this.rq=f}};b.av=function(a,e){var f=a.indexOf("\n"),g=0,l=0,c=!1,d=!1,G=!1,q=0;-1===f&&(f=a.length);if(e){for(;q<f&&!G;)"="===a[q]?G=!0:" "!==a[q]?G=!0:q+=1;G&&"="===a[q]&&(q+=1)}else G=!0;if(G&&(q=this.Po(a,q,f),
q<f)){"-"===a[q]&&(c=!0,q+=1);for(G=!1;q<f&&!G;)e=b.Gg.indexOf(a[q]),-1!==e?(g=10*g+e,q+=1):G=!0;this.sg=!0;this.Co=c?-g:g;q=this.Po(a,q,f);if(q<f&&","===a[q]&&(q=this.Po(a,q+1,f),q<f)){"-"===a[q]&&(d=!0,q+=1);for(G=!1;q<f&&!G;)e=b.Gg.indexOf(a[q]),-1!==e?(l=10*l+e,q+=1):G=!0;this.Do=d?-l:l}}};b.$w=function(a){var e=a.indexOf(b.Xx);0===e&&(e=a.indexOf(b.Xu),-1!==e&&this.av(a.substr(e+b.Xu.length),!0),e=a.indexOf(b.Lt),-1!==e&&this.nz(a.substr(e+b.Lt.length)))};b.$z=function(a,e){var f=e.indexOf("\n");
-1===f&&(f=e.length);a.name=e.substring(0,f).trim()};b.Cp=function(a,e,f,g){var l=f.indexOf("\n");-1===l&&(l=f.length);" "===f[0]&&(e+=" ");f=""+f.substring(0,l).trim();a.title+=f+" ";g?a.pe+=e+f+"\n":a.rb+=e+f+"\n";return l+1};b.df=function(a){var e=-1;a+=" ";var f=this.Gg.indexOf(a[this.index]);if(-1!==f)for(e=0;-1!==f;)e=10*e+f,this.index+=1,f=this.Gg.indexOf(a[this.index]);return e};b.Lx=function(a,e){e=this.df(e);a.pd=e;a.Ze=e};b.Mx=function(a,e){var f=this.df(e),g=-1,l=0,b=0;if(-1!==f){var c=
e[this.index];if("-"===c||"+"===c)this.index+=1,l=this.df(e),-1===l?f=-1:"-"===c&&(l=-l);if(","===e[this.index])if(this.index+=1,g=this.df(e),-1===g)f=-1;else{if(c=e[this.index],"-"===c||"+"===c)this.index+=1,b=this.df(e),-1===b?f=-1:"-"===c&&(b=-b)}else g=f}0!==l&&0!==b&&(f=-1);0===f&&0===g&&(f=-1);0===l&&0===b||0!==f&&0!==g||(f=-1);a.pd=f;a.Ze=g;a.Dl=l;a.hk=b};b.Ex=function(a,e){var f=this.df(e),g=-1,b=0,c=0,d=!1,G=!1;if(-1!==f){var q=e[this.index];"*"===q&&(d=!0,this.index+=1,q=e[this.index]);
if("-"===q||"+"===q)b=this.df(e),-1===b?f=-1:"-"===q&&(b=-b),this.index+=1,q=e[this.index];if(","===q)if(this.index+=1,g=this.df(e),-1===g)f=-1;else{if(q=e[this.index],"*"===q&&(G=!0,this.index+=1,q=e[this.index]),"-"===q||"+"===q)this.index+=1,c=this.df(e),-1===c?f=-1:"-"===q&&(c=-c)}else g=f}d&&G&&(f=-1);0!==b&&0!==c&&(f=-1);if(d&&0!==c||G&&0!==b)f=-1;if(0===f||0===g)f=-1;d||G||(G=!0);a.pd=f;a.Ze=g;a.Dl=b;a.hk=c;a.uq=d;a.Pn=G};b.Bx=function(a,e){var f=this.df(e),g=-1;-1!==f&&(","===e[this.index]?
(this.index+=1,g=this.df(e),-1===g&&(f=-1)):g=f);a.pd=f;a.Ze=g};b.Ix=function(a,e){var f=this.df(e),g=-1;-1!==f&&(","===e[this.index]?(this.index+=1,g=this.df(e),-1===g&&(f=-1)):g=f);0===f&&0===g&&(f=-1);a.pd=f;a.Ze=g};b.zx=function(a,e){var f=!1;e=this.bv(e).toLowerCase();if(""!==e){a.tb=this.ht.indexOf(e[0]);if(-1!==a.tb)if(this.index=1,2!==a.tb&&-1!==e.indexOf("*"))a.pd=-1;else switch(a.tb){case 0:this.Ix(a,e);break;case 1:this.Mx(a,e);break;case 2:this.Ex(a,e);break;case 3:this.Bx(a,e);break;
case 4:this.Lx(a,e);break;default:a.pd=-1}this.index!==e.length&&(a.pd=-1);-1!==a.pd?f=!0:(a.tb=-1,this.o="Invalid bounded grid definition '"+e.toUpperCase()+"'")}return f};b.vn=function(a,e,f,g){var b,c,d=null;if(f[e]===a){for(e+=1;e<g&&" "===f[e];)e+=1;for(e<g&&"="===f[e]&&(e+=1);e<g&&" "===f[e];)e+=1;a=0;var G=b=!1;"-"===f[e]&&(e+=1,G=!0);for(c=f[e].charCodeAt(0);e<g&&48<=c&&57>=c;)a=10*a+(c-48),e+=1,b=!0,e<g&&(c=f[e].charCodeAt(0));for(b&&(d=G?-a:a);e<g&&" "===f[e];)e+=1;for(e<g&&","===f[e]&&
(e+=1);e<g&&" "===f[e];)e+=1}return[d,e]};b.Kx=function(a,e){this.Qg=this.Rg=-1;var f=this.vn("x",0,a,e);var g=f[1];f[0]&&(this.Rg=f[0]);f=this.vn("y",g,a,e);g=f[1];f[0]&&(this.Qg=f[0]);f=this.vn("h",g,a,e);g=f[1];f[0]&&(this.Co=f[0],this.sg=!0);f=this.vn("v",g,a,e);f[0]&&(this.Do=f[0])};b.Bt=function(a,e,f,g){var l=e.indexOf("\n"),c=e.indexOf("rule"),d=b.Hq.length,G="";-1===l&&(l=e.length);this.Kx(e,l);-1===c?f?G="":G=e.substring(1,l).trim():(G=e.substring(c+4,l).trim(),"="===G[0]&&(G=G.substring(1).trim()));
a.aa=G;e=G.lastIndexOf(b.Ww);-1!==e&&(this.zx(a,G.substring(e+1))?G=G.substr(0,e).trim():e=-2);f=G.toLowerCase().lastIndexOf(b.Hq);-1!==f&&f===G.length-d&&(a.Gb=!0,G=G.substr(0,G.length-d).trim());f=G.indexOf(this.bl);-1!==f&&G.toLowerCase().substr(0,f).trim().substr(-d)===b.Hq&&(a.Gb=!0,c=G.substr(0,f).trim(),G=c.substr(0,c.length-d)+G.substr(f));-2!==e&&this.yl(a,G,g)?this.ya=!0:this.fk=!0;return l+1};b.gt=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";
break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};b.zt=function(a,e,f){var g=0,l=e.length,c=!1,d=!1;var G=this.Aj;var q=b.Ey,h=4,A;a.Zb=!1;a.tb=-1;a.width=0;a.height=0;a.Xg=!1;a.$c=null;a.De=null;a.kj=!1;a.Gb=!1;a.Jl=!1;a.S=!1;a.Qe=-1;a.Md=!1;a.g=-1;a.qd=!1;a.Jb=-1;a.qh=1;a.zc=-1;a.md=-1;a.Hc=-1;a.Xd=-1;a.sa=!1;a.Uc=null;a.wd=null;a.lc=-1;a.title="";a.rb="";a.pe="";a.Fe=2;for(A=a.$l=0;A<q;A+=1)G[A]=0;for(e+=" ";g<l&&!a.kj;)switch(G=e[g],G){case "#":g+=1;
G=e[g];g+=1;switch(G){case "N":this.$z(a,e.substring(g));break;case "O":this.aA(a,e.substring(g));break;case "C":this.$w(e.substring(g));break;case "P":case "R":this.av(e.substring(g),!1);break;case "\n":--g}g="\n"===G?g+this.Cp(a,"#",e.substring(g),c):g+this.Cp(a,"#"+G,e.substring(g),c);break;case "x":g+=this.Bt(a,e.substring(g),!0,f);d=!0;break;case "\n":g+=1;break;default:c?g+=this.Cp(a,"",e.substring(g),!0):(c=!0,-1!==this.At(a,e.substring(g),!1,f)&&(g+=this.At(a,e.substring(g),!0,f)))}d||(this.yl(a,
"",f)?this.ya=!0:this.fk=!0);-1!==a.tb&&(a.sa&&(h=6*a.lc),a.qd&&(h=6*a.Jb),a.pd>=this.maxWidth-h||a.Ze>=this.maxHeight-h)&&(this.o="Bounded grid is too big",this.ya=!1,a.tb=-1);!a.qd||(1<a.tb&&(this.o="LtL only supports Plane or Torus",this.ya=!1,a.tb=-1),a.S&&(this.o="LtL does not support Hex grid",this.ya=!1,a.S=!1),0===a.Hc&&-1===a.tb&&(this.o="LtL does not support B0 unbounded",this.ya=!1),0!==a.tb&&1!==a.tb)||0!==a.pd&&0!==a.Ze||(this.o="LtL bounded grid must be finite",this.ya=!1,a.tb=-1);a.ca&&
-1!==a.tb&&(0!==(a.pd&1)?(this.o="Bounded grid width must be even",this.ya=!1,a.tb=-1):0!==(a.Ze&1)&&(this.o="Bounded grid height must be even",this.ya=!1,a.tb=-1));!a.sa||(1<a.tb&&(this.o="HROT only supports Plane or Torus",this.ya=!1,a.tb=-1),a.S&&(this.o="HROT does not support Hex grid",this.ya=!1,a.S=!1),a.Uc&&1===a.Uc[0]&&-1===a.tb&&(this.o="HROT does not support B0 unbounded",this.ya=!1),0!==a.tb&&1!==a.tb)||0!==a.pd&&0!==a.Ze||(this.o="HROT bounded grid must be finite",this.ya=!1,a.tb=-1);
a.Zb&&a.Gb&&(this.o="[R]History not valid with none rule",this.ya=a.Gb=!1);-1===a.g||!a.Gb||a.qd||a.sa||(this.o="[R]History not valid with Generations",this.ya=a.Gb=!1);-1===a.g||!this.yk[0]||a.qd||a.sa||(this.o="Generations does not support B0",this.ya=!1);a.qd&&a.Gb&&(this.o="[R]History not valid with LtL",this.ya=a.Gb=!1);a.sa&&a.Gb&&(this.o="[R]History not valid with HROT",this.ya=a.Gb=!1);this.ya&&(a.Jl?8<a.Fe&&(this.o="Illegal state in pattern for Niemiec",this.ya=!1):a.Gb?7<a.Fe&&(this.o="Illegal state in pattern for [R]History",
this.ya=!1):-1!==a.g&&a.Fe>a.g&&(this.o=a.qd?"Illegal state in pattern for LtL":a.sa?"Illegal state in pattern for HROT":"Illegal state in pattern for Generations",this.ya=!1));a.qd&&this.jA(a,f)};b.TA=function(a){var e=!1;0<a&&(e=!0);return e};b.SA=function(a){var e=!1;0<a&&(e=!0);return e};b.UA=function(a){var e=!1;0<a&&(e=!0);return e};b.VA=function(a,e){a=a.pe;e=a.indexOf("\n",e);var f=a.length,g=0;if(-1!==e)for(;7!==g&&e<f;){var b=e+1;e=a.indexOf("\n",b);-1===e&&(e=f);"#"!==a[b]&&("num_states="===
a.substr(b,11)?g|=1:"num_neighbors="===a.substr(b,14)?g|=2:"num_nodes="===a.substr(b,10)&&(g|=4),"0"<=a[b]&&"9">=a[b]&&7!==g&&(e=f))}return!1};b.Jx=function(a){var e=a.pe,f=e.length;var g=e.indexOf(b.mv);if(-1!==g){var l=e.indexOf("\n",g);-1===l&&(l=f);a.Pz=e.substring(g+b.mv.length,l).trim();a=e.indexOf(b.Qz,l);l=e.indexOf(b.Rz,l);-1!==a&&-1!==l&&(a<l?l=-1:a=-1)}};b.create=function(a,b,f){a=new c(a);this.ya=this.fk=this.Xg=!1;this.o="";this.$h=!1;this.rq=0;this.sg=!1;this.Do=this.Co=0;this.Qg=this.Rg=
-1;this.gh=!1;if("!"===b.substr(0,1)||"O"===b.substr(0,1)||"."===b.substr(0,1)||"*"===b.substr(0,1)||"o"===b.substr(0,1))this.Ax(a,b,f),this.ya=!0;null===a.$c&&(this.ya=!1,"#Life 1.05"===b.substr(0,10)?this.xt(a,b,!0,f):"#Life 1.06"===b.substr(0,10)?(this.yx(a,b,f),this.ya=!0):"#"===b[0]||"x"===b[0]?(this.zt(a,b,f),null!==a.$c||a.Xg||a.kj||(this.xt(a,b,!1,f),this.fk=!1,a.De=null,a.Gb=!1,a.Fe=2,a.$l=0)):this.zt(a,b,f));a.Xg&&(this.o="Pattern too big (maximum "+this.maxWidth+"x"+this.maxHeight+")",
this.Xg=!0,this.ya=!1);-1!==a.tb?(b=a.aa.lastIndexOf(":"),a.Zm=a.aa.substr(b),a.aa=a.aa.substr(0,b)):a.Zm="";null===a.$c&&(a.Xg||""!==this.o||(this.o="Invalid pattern"),a=null,this.ya=!1);a&&a.kj&&(a=null,this.ya=!1);a&&(""!==a.rb&&"\n"!==a.rb[a.rb.length-1]&&(a.rb+="\n"),""!==a.pe&&("\n"!==a.pe[a.pe.length-1]&&(a.pe+="\n"),this.Jx(a)));return a};window.PatternManager=b;window.Pattern=c})();(function(){function d(){this.Tp=[]}d.prototype.add=function(c,b,a){this.Tp[this.Tp.length]=c<<16|b<<8|a};window.ColourManager={Eg:[],lm:[],du:!1,bq:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,
169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,
59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,
113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,
158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,
108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,36],wn:[],Nc:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,
245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",
0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",
47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],
gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",
224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",
250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",
25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",
219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],
seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",
255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},WA:function(){return this.wn},pt:function(c){for(var b=0,a=!1,e=[];b<this.lm.length&&!a;)c===this.lm[b][0]?a=!0:b+=1;a&&(e=this.Eg[this.lm[b][1]].Tp);return e},Ta:function(c){this.lm[this.lm.length]=c},Kd:function(){var c,b=0,a;if(!this.du){this.du=!0;for(c=a=0;256>c;c+=1)this.wn[c]=this.bq[a]<<16|this.bq[a+1]<<8|this.bq[a+2],a+=3;c=new d;c.add(0,0,0);c.add(0,255,0);c.add(0,0,128);
c.add(216,255,216);c.add(255,0,0);c.add(255,255,0);c.add(96,96,96);c.add(255,128,128);this.Eg[b]=c;this.Ta(["LifeHistory",b]);b+=1;c=new d;c.add(48,48,48);c.add(0,128,255);c.add(255,255,255);c.add(255,128,0);this.Eg[b]=c;this.Ta(["WireWorld",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,255,255);c.add(144,128,112);c.add(144,90,45);c.add(192,192,192);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(0,255,0);c.add(0,255,208);c.add(0,192,255);c.add(0,0,255);c.add(192,0,255);c.add(255,64,160);c.add(112,
128,144);c.add(0,128,0);c.add(0,96,128);c.add(160,0,80);c.add(40,40,40);c.add(220,220,220);c.add(140,60,0);c.add(0,160,0);c.add(160,160,250);this.Eg[b]=c;this.Ta(["WWE",b]);this.Ta(["WWE2",b]);this.Ta(["WWEJ",b]);this.Ta(["WWEJ2",b]);this.Ta(["WWEJ3",b]);b+=1;c=new d;c.add(30,30,30);c.add(0,128,128);c.add(0,255,0);c.add(255,0,0);c.add(255,128,0);c.add(255,255,0);c.add(128,0,128);c.add(128,128,128);c.add(255,255,255);c.add(128,128,255);this.Eg[b]=c;this.Ta(["Novoloop",b]);b+=1;c=new d;c.add(0,0,0);
c.add(255,128,0);c.add(255,0,0);c.add(0,255,0);c.add(0,0,255);c.add(0,190,0);c.add(0,140,0);c.add(255,255,255);c.add(80,80,80);c.add(95,95,95);c.add(128,128,128);c.add(0,64,0);c.add(255,255,0);c.add(64,0,164);c.add(64,32,64);c.add(80,80,100);c.add(95,95,125);c.add(128,255,128);c.add(64,100,100);this.Eg[b]=c;this.Ta(["shapeloop",b]);this.Ta(["shapeloop-b",b]);this.Ta(["shapeloop2",b]);this.Ta(["shapeloop-ltd",b]);this.Ta(["2armshapeloop-a",b]);this.Ta(["2armshapeloop2-a",b]);this.Ta(["shapeloop2a-bounded",
b]);this.Ta(["foodshapeloop",b]);this.Ta(["foodshapeloop2",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,255,255);c.add(255,0,0);c.add(0,128,255);c.add(170,0,0);c.add(85,0,0);this.Eg[b]=c;this.Ta(["b3s23mmg",b]);b+=1;c=new d;c.add(0,0,0);c.add(255,0,0);c.add(0,255,0);c.add(0,0,255);c.add(255,255,0);c.add(0,255,255);c.add(255,0,255);c.add(92,36,110);c.add(0,99,140);c.add(176,196,222);c.add(115,61,26);this.Eg[b]=c;this.Ta(["_235_4_O3",b]);this.Ta(["0_245_5_O4",b]);this.Ta(["0_245_5_O3",b]);this.Ta(["58_27_4_O3",
b]);this.Ta(["0_24_4H_O3",b]);this.Ta(["2_235_4H_O3",b]);this.Ta(["24_235_4H_O3",b]);this.Ta(["3_25_4_O2",b]);this.Ta(["Snake_O5",b]);this.Ta(["Mites",b]);this.Ta(["Mites2",b]);this.Ta(["Mites3",b]);b+=1;c=new d;c.add(48,48,48);c.add(255,128,0);c.add(0,0,255);c.add(32,32,255);c.add(64,64,255);c.add(96,96,255);this.Eg[b]=c;this.Ta(["Alpha-1",b]);b+=1;c=new d;c.add(48,48,48);c.add(255,0,0);c.add(255,125,0);c.add(255,150,25);c.add(255,175,50);c.add(255,200,75);c.add(255,225,100);c.add(255,250,125);c.add(251,
255,0);c.add(89,89,255);c.add(106,106,255);c.add(122,122,255);c.add(139,139,255);c.add(27,176,27);c.add(36,200,36);c.add(73,255,73);c.add(106,255,106);c.add(235,36,36);c.add(255,56,56);c.add(255,73,73);c.add(255,89,89);c.add(185,56,255);c.add(191,73,255);c.add(197,89,255);c.add(203,106,255);c.add(0,255,128);c.add(255,128,64);c.add(255,255,128);c.add(33,215,215);c.add(27,176,176);c.add(24,156,156);c.add(21,137,137);this.Ta(["JvN29",b]);this.Ta(["Hutton32",b]);this.Ta(["Nobili32",b]);this.Eg[b]=c}}}})();window.BoundingBox=function(d,c,b,a){this.N=d;this.K=c;this.O=b;this.L=a};(function(){function d(b,a){this.index=a;this.qa=b.Ej[a];this.eb=b.Yi[a];this.m=b.Mn[a];this.i=b.$m[a];this.C=new BoundingBox(0,0,0,0);this.ea=new BoundingBox(0,0,0,0);this.Ba=this.s=this.jc=this.Ab=this.Aa=0;this.f=b}function c(b,a){this.j=b;this.bd=[];this.rf=[];this.Ej=[];this.Yi=[];this.Mn=[];this.$m=[];this.f=[];this.i=0;this.index=-1;this.Dy=51;this.Ie=[];this.dt=a}d.prototype.Lz=function(b,a,e){var f=a.length,g=a[0].length,l,c,d=0,G,q=e.Dm;e=e.Em;var h,A=0,m=this.m,n=0,p=m[n],B=p.length;Array.Tf(this.qa,
a);for(l=0;l<f;l+=1){var x=this.qa[l];for(a=h=0;a<g;a+=1)if(G=x[a])for(c=15;0<=c;--c){if(0!==(G&1<<c)){var u=A;var t=h;var H=p[d];d+=1;b[u][t]=H&255;b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;u+=2;H=p[d];d+=1;b[u][t]=H&255;b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;u+=2;H=p[d];d+=1;b[u][t]=H&255;b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;u+=2;H=p[d];d+=1;b[u][t]=H&255;b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;u+=2;H=p[d];d+=1;b[u][t]=H&255;
b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;u+=2;H=p[d];d+=1;b[u][t]=H&255;b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;u+=2;H=p[d];d+=1;b[u][t]=H&255;b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;u+=2;H=p[d];d+=1;b[u][t]=H&255;b[u][t+1]=H>>8&255;b[u+1][t]=H>>16&255;b[u+1][t+1]=H>>24;d>=B&&(n+=1,p=m[n],d=0)}h+=q}else h+=q<<4;A+=e}};d.prototype.Vz=function(b,a,e){var f=a.length,g=a[0].length,l,c=0,d;var G=0;var q=e.Dm,h=e.Em,A,m=0,n=this.m,p=0,B=n[p],x=B.length,
u=n.length;var t=this.f.dt;Array.Tf(a,this.qa);for(l=0;l<f;l+=1){var H=a[l];for(e=0;e<g;e+=1)(d=H[e])&&(G+=t[d])}if(G)for(l=0;l<f;l+=1){H=a[l];for(e=A=0;e<g;e+=1)if(d=H[e])for(G=15;0<=G;--G){if(0!==(d&1<<G)){var k=m;t=A;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+
1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;k+=2;B[c]=b[k][t]|b[k][t+1]<<8|b[k+1][t]<<16|b[k+1][t+1]<<24;c+=1;c>=x&&(p+=1,c=0,p>=u&&(Array.$k(n,"Snapshot.gridBufferRow"),u+=1));B=n[p]}A+=q}else A+=q<<4;m+=h}};d.prototype.Kz=function(b,a,e){var f=a.length,g=a[0].length,l,c,d,G=0,q,h=e.Dm<<3,A=e.Em,m,n=0,p=this.i,B=0,x=p[B],u=x.length;Array.Tf(this.eb,a);for(l=0;l<f;l+=1){var t=
a[l];for(e=m=0;e<g;e+=1)if(q=t[e])for(c=15;0<=c;--c){if(0!==(q&1<<c))for(d=m;d<m+h;d+=4){var H=n;var k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>
16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;
b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;H+=1;k=x[G];G+=1;b[H][d]=k&255;b[H][d+1]=k>>8&255;b[H][d+2]=k>>16&255;b[H][d+3]=k>>24;G>=u&&(B+=1,x=p[B],G=0)}m+=h}else m+=
h<<4;n+=A}};d.prototype.Sz=function(b,a,e){var f=a.length,g=a[0].length,l,c=0,d;var G=0;var q=e.Dm<<3,h=e.Em,A,m=0,n=this.i,p=0,B=n[p],x=B.length,u=n.length;var t=this.f.dt;Array.Tf(a,this.eb);for(l=0;l<f;l+=1){var H=a[l];for(e=0;e<g;e+=1)(d=H[e])&&(G+=t[d])}if(G)for(l=0;l<f;l+=1){H=a[l];for(e=A=0;e<g;e+=1)if(d=H[e])for(G=15;0<=G;--G){if(0!==(d&1<<G))for(t=A;t<A+q;t+=4){var k=m;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=
1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+
3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;k+=1;B[c]=b[k][t]|b[k][t+1]<<8|b[k][t+2]<<16|b[k][t+3]<<24;c+=1;c>=x&&(p+=1,c=0,p>=u&&(Array.$k(n,"Snapshot.colourGridBufferRow"),u+=1),B=n[p])}A+=q}else A+=q<<4;m+=h}};
c.prototype.bufferSize=function(){for(var b=0,a=0;a<this.rf.length;)b+=this.Ej[a].length*this.Ej[a][0].length*2,b+=this.Yi[a].length*this.Yi[a][0].length*2,b+=this.Mn[a].length*this.Mn[a][0].length*4,b+=this.$m[a].length*this.$m[a][0].length*4,this.f[a]&&(b+=this.f[a].length*this.f[a][0].length*4),a+=1;return b};c.prototype.JA=function(){for(var b=0,a=0;a<this.rf.length;)this.rf[a]&&(b+=1),a+=1;return b};c.prototype.reset=function(){var b=0,a;this.bd=[];for(this.index=-1;b<this.rf.length;){var e=
!1;for(a=0;a<this.Ie.length&&!e;)b===this.Ie[a].index?e=!0:a+=1;e||(this.rf[b]=!1);b+=1}};c.prototype.lA=function(b){var a=null;0<this.bd.length&&(a=this.bd[this.index],a.s>b&&(a=null,0<this.index&&(this.m(this.bd[this.index].index),this.bd.pop(),--this.index,0<=this.index&&(a=this.bd[this.index]))));return a};c.prototype.nm=function(b,a,e,f,g,l,c,d,G,q,h,A,m,n,p,B){var I=null,L=0,t=this.Ie.length,H=!1;g=null!==g;if(p){for(;L<t&&!H;)this.Ie[L].s===h?H=!0:L+=1;H?I=this.Ie[L]:alert("reset snapshot at generation "+
h+" not found!")}else if(51>this.bd.length)I=this.Yp(A,m,!1,h,g),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.m(this.bd[0].index);for(L=0;50>L;L+=1)this.bd[L]=this.bd[L+1];this.bd.pop();this.Yp(A,m,!1,h,g)}I=this.bd[this.index]}I.Ba=B;I.Vz(b,a,n);I.Sz(e,f,n);I.C.N=l.N;I.C.O=l.O;I.C.K=l.K;I.C.L=l.L;I.ea.N=c.N;I.ea.O=c.O;I.ea.K=c.K;I.ea.L=c.L;I.Aa=d;I.Ab=G;I.jc=q;I.s=h};c.prototype.m=function(b){this.rf[b]=!1};c.prototype.W=function(b,a,e){for(var f=0,g=!1;f<this.i&&!g;)this.rf[f]?
f+=1:g=!0;g?(b=f,this.rf[f]=!0):(this.Ej[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+f),this.Yi[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+f),this.Mn[f]=Array.Z(Uint32,1,1024,0,this.j,"Snapshot.gridBuffer"+f),this.$m[f]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.colourGridBuffer"+f),e&&(this.f[f]=Array.Z(Uint32,1,8192,0,this.j,"Snapshot.overlayGridBuffer"+f)),this.rf[f]=!0,this.i+=1,b=f);return b};c.prototype.Yp=function(b,a,e,f,g){var l=0,c=this.Ie.length,L=!1;b=this.W(b,a,g);
if(e){for(;l<c&&!L;)this.Ie[l].s===f?L=!0:l+=1;L?e=this.Ie[l]:(e=new d(this,b,g),this.Ie[this.Ie.length]=e)}else e=new d(this,b,g),this.bd[this.bd.length]=e;return e};c.prototype.H=function(b,a,e,f){var g=b.qa,l=b.eb,c=b.qa.length,d=c>>1,G=b.qa[0].length>>1,q=0,h=b.index;this.Ej[h]=Array.Z(Uint16,e,a,0,this.j,"Snapshot.tileGrid"+h);this.Yi[h]=Array.Z(Uint16,e,a,0,this.j,"Snapshot.colourTileGrid"+h);b.qa=this.Ej[h];b.eb=this.Yi[h];if(0<f){for(;q<c;)b.qa[q+d].set(g[q],G),b.eb[q+d].set(l[q],G),q+=1;
b.C.N+=f;b.C.O+=f;b.C.K+=f;b.C.L+=f;b.ea.N+=f;b.ea.O+=f;b.ea.K+=f;b.ea.L+=f}};c.prototype.hv=function(b,a,e){for(var f=0,g=this.Ie.length;f<g;)this.H(this.Ie[f],b,a,e),f+=1;f=0;for(g=this.bd.length;f<g;)this.H(this.bd[f],b,a,e),f+=1;for(f=0;f<this.rf.length;)this.rf[f]||(this.Ej[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.tileGrid"+f),this.Yi[f]=Array.Z(Uint16,a,b,0,this.j,"Snapshot.colourTileGrid"+f)),f+=1};window.SnapshotManager=c;window.Snapshot=d})();(function(){function d(c,b){this.j=c;this.a=b;this.vc=1;this.Ko=2;this.Ab=c.V(Uint8,0,"HROT.births");this.Uo=c.V(Uint8,0,"HROT.survivals");this.Sm=c.V(Uint8,0,"HROT.altBirths");this.Tm=c.V(Uint8,0,"HROT.altSurvivals");this.type=PatternManager.bf;this.H=Array.Z(Uint32,1,1,0,c,"HROT.counts");this.fa=c.V(Uint32,0,"HROT.widths");this.Ca=c.V(Uint8,0,"HROT.colUsed");this.ha=this.i=this.m=this.W=0;this.gh=!1}d.prototype.resize=function(c,b){this.H=Array.Z(Uint32,b,c,0,this.j,"HROT.counts");this.Ca=this.j.V(Uint8,
c,"HROT.colUsed")};d.prototype.hA=function(c,b){var a=2*b+1,e=b*b+b;this.type=c;this.vc=b;this.fa=this.j.V(Uint32,a,"HROT.widths");switch(c){case PatternManager.bf:for(c=0;c<a;c+=1)this.fa[c]=b;break;case PatternManager.jf:for(c=0;c<b;c+=1)this.fa[c]=c,this.fa[a-c-1]=c;this.fa[c]=b;break;case PatternManager.Pp:for(c=-b;c<=b;c+=1){for(a=0;(a+1)*(a+1)+c*c<=e;)a+=1;this.fa[c+b]=a}}};d.prototype.f=function(c,b){return 0>c||0>c+b||b-c>=this.m?0:0>b&&c+b<this.i?this.H[c+b][0]:b>=this.m&&b-c>=this.m-this.i?
this.H[c+this.m-1-b][this.m-1]:c<this.i?this.H[c][b]:c-this.i+1+b<=this.ha?this.H[this.i-1][c-this.i+1+b]:b-(c-this.i+1)>=this.ha?this.H[this.i-1][b-(c-this.i+1)]:this.H[this.i-1][this.ha+(c+b+this.i+this.ha+1)%2]};d.prototype.Ha=function(c,b,a,e){var f=this.a.ta,g=this.vc,l,d;for(d=0;d<g;d+=1){var L=f[b+d];var G=f[e+d+1];for(l=c;l<=a;l+=1)G[l]=L[l]}for(d=0;d<g;d+=1)for(L=f[e-d],G=f[b-d-1],l=c;l<=a;l+=1)G[l]=L[l];for(d=b;d<=e;d+=1)for(L=f[d],l=0;l<g;l+=1)L[a+l+1]=L[c+l],L[c-l-1]=L[a-l];for(d=0;d<
g;d+=1)for(L=f[b+d],G=f[e+d+1],l=0;l<g;l+=1)G[l+a+1]=L[l+c],G[c-l-1]=L[a-l];for(d=0;d<g;d+=1)for(L=f[e-d],G=f[b-d-1],l=0;l<g;l+=1)G[l+a+1]=L[l+c],G[c-l-1]=L[a-l]};d.prototype.va=function(c,b,a,e){var f=this.a.ta,g=this.vc,l,d;for(d=0;d<g;d+=1){var L=f[e+d+1];for(l=c;l<=a;l+=1)L[l]=0}for(d=0;d<g;d+=1)for(L=f[b-d-1],l=c;l<=a;l+=1)L[l]=0;for(d=b;d<=e;d+=1)for(L=f[d],l=0;l<g;l+=1)L[a+l+1]=0,L[c-l-1]=0;for(d=0;d<g;d+=1)for(L=f[e+d+1],l=0;l<g;l+=1)L[l+a+1]=0,L[c-l-1]=0;for(d=0;d<g;d+=1)for(L=f[b-d-1],l=
0;l<g;l+=1)L[l+a+1]=0,L[c-l-1]=0};d.prototype.Fa=function(c,b,a,e,f){var g,l,d=this.a.ta,L=this.a.Xa,G=this.a.width,q=0,h=this.a.height,A=0,m=G,n=q,p=h,B=A,x=this.a.C,u=this.a.ea,t=this.vc,H=f?this.Sm:this.Ab,k=f?this.Tm:this.Uo,r=this.H;var D=this.Ko-1;var y=LifeConstants.cb,F=LifeConstants.Uh,C=this.a.an;var z=this.a.g+this.a.ba-1;var E=this.a.ba,v=0<this.a.ba?1:0;var w=g=f=0;if(1===D)for(D=b-t;D<=e+t;D+=1){var M=d[D];var K=r[D];var S=L[D>>4];var ba=l=!1;for(b=c-t;b<=a+t;b+=1){var Y=M[b];var T=
K[b];z=0;Y<y?1===H[T]&&(g+=1,z=128):0===k[T]?w+=1:z=128;Y=C[Y+z];M[b]=Y;Y>F&&(l=!0,S[b>>8]|=1<<(~(b>>4)&15),b<G&&(G=b),b>q&&(q=b),Y>=y&&(f+=1,b<m&&(m=b),b>n&&(n=b),ba=!0))}l&&(D<h&&(h=D),D>A&&(A=D));ba&&(D<p&&(p=D),D>B&&(B=D))}else for(D=b-t;D<=e+t;D+=1){M=d[D];K=r[D];S=L[D>>4];ba=l=!1;for(b=c-t;b<=a+t;b+=1)Y=M[b],T=K[b],Y<=E?1===H[T]?(Y=z,g+=1):Y>v&&--Y:Y===z?0===k[T]&&(--Y,w+=1):Y>v&&--Y,M[b]=Y,0<Y&&(l=!0,S[b>>8]|=1<<(~(b>>4)&15),b<G&&(G=b),b>q&&(q=b),Y===z&&(f+=1,b<m&&(m=b),b>n&&(n=b),ba=!0));
l&&(D<h&&(h=D),D>A&&(A=D));ba&&(D<p&&(p=D),D>B&&(B=D))}this.a.Aa=f;this.a.Ab=g;this.a.jc=w;0<f?(x.N=G,x.O=q,x.K=h,x.L=A,u.N=m,u.O=n,u.K=p,u.L=B):this.a.Ba=0};d.prototype.Sa=function(c){var b,a,e=this.a.C.N,f=this.a.C.O,g=this.a.C.K,l=this.a.C.L,d=this.vc,L=c?this.Sm:this.Ab,G=c?this.Tm:this.Uo,q=d+d;var h=d+1;var A=this.H,m=this.type,n=this.Ko-1,p=this.a.width,B=0,x=this.a.height,u=0,t=p,H=B,k=x,r=u,D=this.a.ta,y=this.a.Xa;var F=this.fa;var C=this.a.la;var z=this.a.na,E=0,v=0,w=0,M=0,K=0,S=0,ba=0,
Y=LifeConstants.cb,T=LifeConstants.Uh,aa=this.a.an;var X=this.Ca;-1!==this.a.ka&&(E=Math.round((this.a.width-C)/2),w=Math.round((this.a.height-z)/2),v=E+C-1,M=w+z-1,1===L[0]&&(e=E+d,f=v-d,l=M-d,g=w+d),1===this.a.ka&&(e-E<d&&(f=v),v-f<d&&(e=E),M-l<d&&(g=w),g-w<d&&(l=M),this.Ha(E,w,v,M)),0===this.a.ka&&1===n&&this.a.Gt(0),e-E<d&&(e=E+d),v-f<d&&(f=v-d),M-l<d&&(l=M-d),g-w<d&&(g=w+d),m===PatternManager.bf?(e-=q,g-=q,f+=q,l+=q):m===PatternManager.jf&&6<d&&(e-=d,g-=d,f+=d,l+=d));if(m===PatternManager.bf){e-=
q;g-=q;f+=q;l+=q;for(a=g;a<g+q;a+=1){var N=A[a];for(b=e;b+8<=f;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=f;)N[b]=0,b+=1}for(a=g+q;a<=l;a+=1){N=A[a];for(b=e;b+8<=e+q;)N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1,N[b]=0,b+=1;for(;b<=e+q;)N[b]=0,b+=1}var R=A[g+q-1];for(a=g+q;a<=l;a+=1){N=A[a];n=D[a];C=0;for(b=e+q;b+8<=f;)n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1,n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1,n[b]>=
Y&&(C+=1),N[b]=R[b]+C,b+=1,n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1,n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1,n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1,n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1,n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1;for(;b<=f;)n[b]>=Y&&(C+=1),N[b]=R[b]+C,b+=1;R=N}e+=d;g+=d;f-=d;l-=d;-1!==this.a.ka&&(e+=q,g+=q,f-=q,l-=q);q=D[g][e];C=A[g+d][e+d];var U=0;q<Y?1===L[C]&&(S+=1,U=128):0===G[C]?ba+=1:U=128;q=aa[q+U];D[g][e]=q;q>T&&(X[e]|=1,u=x=g,y[g>>4][e>>8]|=1<<(~(e>>4)&15),q>=Y&&(K+=1,X[e]|=2,r=k=g));var ca=z=!1;N=A[g+d];R=A[g+
d];n=D[g];F=y[g>>4];for(b=e+1;b<=f;b+=1)q=n[b],C=N[b+d]-R[b-h],U=0,q<Y?1===L[C]&&(S+=1,U=128):0===G[C]?ba+=1:U=128,q=aa[q+U],n[b]=q,q>T&&(X[b]|=1,z=!0,F[b>>8]|=1<<(~(b>>4)&15),q>=Y&&(K+=1,X[b]|=2,ca=!0));z&&(u=x=g);ca&&(r=k=g);F=n=!1;N=e+d;for(a=g+1;a<=l;a+=1)q=D[a][e],C=A[a+d][N]-A[a-h][N],U=0,q<Y?1===L[C]&&(S+=1,U=128):0===G[C]?ba+=1:U=128,q=aa[q+U],D[a][e]=q,q>T&&(a<x&&(x=a),a>u&&(u=a),n=!0,y[a>>4][e>>8]|=1<<(~(e>>4)&15),q>=Y&&(K+=1,a<k&&(k=a),a>r&&(r=a),F=!0));n&&(X[e]|=1);F&&(X[e]|=2);for(a=
g+1;a<=l;a+=1){n=D[a];F=y[a>>4];R=A[a+d];var P=A[a-h];N=e+1+d;var J=e+1-h;ca=z=!1;for(b=e+1;b<=f;b+=1)q=n[b],C=R[N]+P[J]-R[J]-P[N],U=0,q<Y?1===L[C]&&(U=128,S+=1):0===G[C]?ba+=1:U=128,q=aa[q+U],n[b]=q,q>T&&(z=!0,F[b>>8]|=1<<(~(b>>4)&15),X[b]|=1,q>=Y&&(K+=1,ca=!0,X[b]|=2)),N+=1,J+=1;z&&(a<x&&(x=a),a>u&&(u=a));ca&&(a<k&&(k=a),a>r&&(r=a))}for(b=e;b<=f;b+=1)X[b]&&(b<p&&(p=b),b>B&&(B=b),0!==(X[b]&2)&&(b<t&&(t=b),b>H&&(H=b)),X[b]=0);this.a.Aa=K;this.a.Ab=S;this.a.jc=ba;0<K?(this.a.C.N=p,this.a.C.O=B,this.a.C.K=
x,this.a.C.L=u,this.a.ea.N=t,this.a.ea.O=H,this.a.ea.K=k,this.a.ea.L=r):this.a.Ba=0}else if(m===PatternManager.jf&&6<d){e-=d;f+=d;g-=d;l+=d;-1===this.a.ka&&(e-=d,f+=d,g-=d,l+=d);this.W=l-g+1;this.m=f-e+1;this.i=this.W+(this.m-1)/2|0;this.ha=this.m/2|0;for(h=0;h<this.i;h+=1)for(N=A[h],n=D[h+g],a=h-1,C=a-1,X=0;X<=this.m;X+=1)N[X]=this.f(a,X-1)+this.f(a,X+1)-this.f(C,X),h<this.W&&n[X+e]>=Y&&(N[X]+=1);for(h=d;h<=this.W-d;h+=1){a=h-1;P=h+d;A=P-1;b=h-d-1;N=b-1;R=h+g;n=D[R];F=y[R>>4];ca=z=!1;for(X=d;X<=
this.m-d;X+=1)C=X+d,q=X-d,C=this.f(P,X)-this.f(a,C+1)-this.f(a,q-1)+this.f(N,X)+this.f(A,X)-this.f(a,C)-this.f(a,q)+this.f(b,X),J=X+e,q=n[J],U=0,q<Y?1===L[C]&&(U=128,S+=1):0===G[C]?ba+=1:U=128,q=aa[q+U],n[J]=q,q>T&&(J<p&&(p=J),J>B&&(B=J),z=!0,F[J>>8]|=1<<(~(J>>4)&15),q>=Y&&(K+=1,ca=!0,J<t&&(t=J),J>H&&(H=J)));z&&(R<x&&(x=R),R>u&&(u=R));ca&&(R<k&&(k=R),R>r&&(r=R))}this.a.Aa=K;this.a.Ab=S;this.a.jc=ba;0<K?(this.a.C.N=p,this.a.C.O=B,this.a.C.K=x,this.a.C.L=u,this.a.ea.N=t,this.a.ea.O=H,this.a.ea.K=k,
this.a.ea.L=r):this.a.Ba=0}else for(a=g-d;a<=l+d;a+=1){N=A[a];b=e-d;C=0;for(X=-d;X<=d;X+=1)for(L=F[X+d],n=D[a+X],h=-L;h<=L;h+=1)n[b+h]>=Y&&(C+=1);N[b]=C;for(b+=1;b<=f+d;){for(X=-d;X<=d;X+=1)L=F[X+d],n=D[a+X],n[b-L-1]>=Y&&--C,n[b+L]>=Y&&(C+=1);N[b]=C;b+=1}}-1!==this.a.ka&&(e<E+d&&(e=E+d),f>v-d&&(f=v-d),g<w+d&&(g=w+d),l>M-d&&(l=M-d));m===PatternManager.bf||m===PatternManager.jf&&6<d||this.Fa(e,g,f,l,c);1===this.a.ka&&this.va(E,w,v,M)};d.prototype.bb=function(d){var b,a,e=this.a.C.N,f=this.a.C.O,g=this.a.C.K,
l=this.a.C.L,c=this.vc,L=d?this.Sm:this.Ab,G=d?this.Tm:this.Uo,q=c+c;var h=c+1;var A=this.H,m=this.type,n=this.a.width,p=0,B=this.a.height,x=0,u=n,t=p,H=B,k=x,r=this.a.ta,D=this.a.Xa;var y=this.fa;var F=this.a.la;var C=this.a.na;var z=0,E=0,v=0,w=0,M=0,K=0,S=0,ba,Y=this.a.g+this.a.ba-1,T=this.a.ba,aa=0<this.a.ba?1:0;-1!==this.a.ka&&(z=Math.round((this.a.width-F)/2),v=Math.round((this.a.height-C)/2),E=z+F-1,w=v+C-1,1===L[0]&&(e=z+c,f=E-c,l=w-c,g=v+c),1===this.a.ka&&(e-z<c&&(f=E),E-f<c&&(e=z),w-l<c&&
(g=v),g-v<c&&(l=w),this.Ha(z,v,E,w)),e-z<c&&(e=z+c),E-f<c&&(f=E-c),w-l<c&&(l=w-c),g-v<c&&(g=v+c),m===PatternManager.bf?(e-=q,g-=q,f+=q,l+=q):m===PatternManager.jf&&6<c&&(e-=c,g-=c,f+=c,l+=c));if(m===PatternManager.bf){e-=q;g-=q;f+=q;l+=q;for(a=g;a<g+q;a+=1){var X=A[a];for(b=e;b<=f;b+=1)X[b]=0}for(b=e;b<e+q;b+=1)for(a=g+q;a<=l;a+=1)A[a][b]=0;for(a=g+q;a<=l;a+=1){var N=A[a-1];X=A[a];F=r[a];C=0;for(b=e+q;b<=f;b+=1)F[b]===Y&&(C+=1),X[b]=N[b]+C}e+=c;g+=c;f-=c;l-=c;-1!==this.a.ka&&(e+=q,g+=q,f-=q,l-=q);
q=r[g][e];C=A[g+c][e+c];q<=T?1===L[C]?(q=Y,K+=1):q>aa&&--q:q===Y?0===G[C]&&(--q,S+=1):q>aa&&--q;r[g][e]=q;0<q&&(p=n=e,x=B=g,D[g>>4][e>>8]|=1<<(~(e>>4)&15),q===Y&&(M+=1,t=u=e,k=H=g));var R=ba=!1;X=A[g+c];N=A[g+c];F=r[g];y=D[g>>4];for(b=e+1;b<=f;b+=1)q=F[b],C=X[b+c]-N[b-h],q<=T?1===L[C]?(q=Y,K+=1):q>aa&&--q:q===Y?0===G[C]&&(--q,S+=1):q>aa&&--q,F[b]=q,0<q&&(b<n&&(n=b),b>p&&(p=b),ba=!0,y[b>>8]|=1<<(~(b>>4)&15),q===Y&&(M+=1,b<u&&(u=b),b>t&&(t=b),R=!0));ba&&(x=B=g);R&&(k=H=g);y=F=!1;N=e+c;for(a=g+1;a<=
l;a+=1)q=r[a][e],C=A[a+c][N]-A[a-h][N],q<=T?1===L[C]?(q=Y,K+=1):q>aa&&--q:q===Y?0===G[C]&&(--q,S+=1):q>aa&&--q,r[a][e]=q,0<q&&(a<B&&(B=a),a>x&&(x=a),F=!0,D[a>>4][e>>8]|=1<<(~(e>>4)&15),q===Y&&(M+=1,a<H&&(H=a),a>k&&(k=a),y=!0));F&&(e<n&&(n=e),e>p&&(p=e));y&&(e<u&&(u=e),e>t&&(t=e));for(a=g+1;a<=l;a+=1){F=r[a];y=D[a>>4];X=A[a+c];var U=A[a-h];R=ba=!1;N=e+1+c;var ca=e+1-h;for(b=e+1;b<=f;b+=1)q=F[b],C=X[N]+U[ca]-X[ca]-U[N],q<=T?1===L[C]?(q=Y,K+=1):q>aa&&--q:q===Y?0===G[C]&&(--q,S+=1):q>aa&&--q,F[b]=q,0<
q&&(y[b>>8]|=1<<(~(b>>4)&15),b<n&&(n=b),b>p&&(p=b),ba=!0,q===Y&&(M+=1,R=!0,b<u&&(u=b),b>t&&(t=b))),N+=1,ca+=1;ba&&(a<B&&(B=a),a>x&&(x=a));R&&(a<H&&(H=a),a>k&&(k=a))}this.a.Aa=M;this.a.Ab=K;this.a.jc=S;0<M?(this.a.C.N=n,this.a.C.O=p,this.a.C.K=B,this.a.C.L=x,this.a.ea.N=u,this.a.ea.O=t,this.a.ea.K=H,this.a.ea.L=k):this.a.Ba=0}else if(m===PatternManager.jf&&6<c){e-=c;f+=c;g-=c;l+=c;-1===this.a.ka&&(e-=c,f+=c,g-=c,l+=c);this.W=l-g+1;this.m=f-e+1;this.i=this.W+(this.m-1)/2|0;this.ha=this.m/2|0;for(h=
0;h<this.i;h+=1)for(X=A[h],F=r[h+g],a=h-1,C=a-1,N=0;N<=this.m;N+=1)X[N]=this.f(a,N-1)+this.f(a,N+1)-this.f(C,N),h<this.W&&F[N+e]===Y&&(X[N]+=1);for(h=c;h<=this.W-c;h+=1){a=h-1;ca=h+c;A=ca-1;b=h-c-1;X=b-1;U=h+g;F=r[U];y=D[U>>4];R=ba=!1;for(N=c;N<=this.m-c;N+=1){C=N+c;q=N-c;C=this.f(ca,N)-this.f(a,C+1)-this.f(a,q-1)+this.f(X,N)+this.f(A,N)-this.f(a,C)-this.f(a,q)+this.f(b,N);var P=N+e;q=F[P];q<=T?1===L[C]?(q=Y,K+=1):q>aa&&--q:q===Y?0===G[C]&&(--q,S+=1):q>aa&&--q;F[P]=q;0<q&&(y[P>>8]|=1<<(~(P>>4)&15),
P<n&&(n=P),P>p&&(p=P),ba=!0,q===Y&&(M+=1,R=!0,P<u&&(u=P),P>t&&(t=P)))}ba&&(U<B&&(B=U),U>x&&(x=U));R&&(U<H&&(H=U),U>k&&(k=U))}this.a.Aa=M;this.a.Ab=K;this.a.jc=S;0<M?(this.a.C.N=n,this.a.C.O=p,this.a.C.K=B,this.a.C.L=x,this.a.ea.N=u,this.a.ea.O=t,this.a.ea.K=H,this.a.ea.L=k):this.a.Ba=0}else for(a=g-c;a<=l+c;a+=1){X=A[a];b=e-c;C=0;for(N=-c;N<=c;N+=1)for(L=y[N+c],F=r[a+N],h=-L;h<=L;h+=1)F[b+h]===Y&&(C+=1);X[b]=C;for(b+=1;b<=f+c;){for(N=-c;N<=c;N+=1)L=y[N+c],F=r[a+N],F[b-L-1]===Y&&--C,F[b+L]===Y&&(C+=
1);X[b]=C;b+=1}}-1!==this.a.ka&&(e<z+c&&(e=z+c),f>E-c&&(f=E-c),g<v+c&&(g=v+c),l>w-c&&(l=w-c));m===PatternManager.bf||m===PatternManager.jf&&6<c||this.Fa(e,g,f,l,d);1===this.a.ka&&this.va(z,v,E,w)};d.prototype.Py=function(c){var b=!1;this.gh&&1===(c&1)&&(b=!0);2===this.Ko?this.Sa(b):this.bb(b)};window.HROT=d})();(function(){function d(a,g,b,e,c,d,q,h){this.name=a;this.jj=!1;this.vq=10;this.Bf=this.Af=0;this.Ra=e;this.za=b;this.xa=g;this.Te=c;this.Ua=d;this.Fb=q;this.ah=h;this.ck=!1;-1===this.Ua.D.red&&(this.ck=!0);128<=(this.Ra.red+this.Ra.green+this.Ra.blue)/3?(this.Af=ViewConstants.Vt,this.Bf=ViewConstants.Ut):(this.Af=ViewConstants.On,this.Bf=ViewConstants.Nn)}function c(a,g,b){this.red=a;this.green=g;this.blue=b}function b(a,g){this.B=a;this.D=g}function a(a,g,b,c,d){this.j=new Allocator;this.Zk=[];this.eg=
[];this.pe=this.rb="";this.yc=255;this.jb=null;this.me=this.j.V(Uint8,65536,"Life.bitCounts16");this.fl();this.nf=this.Re=this.Sa=null;this.vb=this.Bb=this.Lb=this.uf=0;this.Ob=1;this.Ba=0;this.na=this.la=this.ka=-1;this.il=this.hl=0;this.it=this.Op=!1;this.km=ViewConstants.Ct;this.fd=[];this.gd=[];this.fd[0]=this.j.V(Int32,e.Go,"Life.boundaryX0");this.gd[0]=this.j.V(Int32,e.Go,"Life.boundaryY0");this.bh=0;this.Xj=4294967295;this.Zb=!1;this.Qe=-1;this.ca=!1;this.wc=PatternManager.Jj;this.S=!1;this.Oe=
!0;this.Md=this.bm=!1;this.g=-1;this.sc=!1;this.ba=0;this.kh=this.sa=!1;this.Sd=new SnapshotManager(this.j,this.me);this.qj=e.vm;this.Cc=this.kb=this.Dv=!1;this.Tj=this.Jd=this.Ld=this.ea=this.C=null;this.title="LifeViewer";this.width=c;this.height=d;this.Dm=2;this.Em=16;this.f=this.width>>4;this.i=this.height>>4;this.Io=this.Sd.Yp((this.f-1>>4)+1,this.i,!0,0);this.A=g;this.v=b;this.jc=this.Ab=this.Aa=0;this.cb=e.cb;this.pc=e.pc;this.$d=e.$d;this.Uh=e.Uh;this.Yn=this.Ra=0;this.Wi=this.ue=this.G=1;
this.Xi=30;this.angle=this.s=0;this.zoom=6;this.$=this.da=0;this.tc=.1;this.Na=0;this.ma=1;this.Bc=this.Ac=0;this.m=.1;this.hg=littleEndian;this.La=[];this.oe=this.hd=this.Ic=this.Yd=this.Sc=this.xc=this.Ha=this.yf=this.Cd=this.jd=this.Se=this.ld=this.ed=this.Rb=null;this.ge=-1;this.Ed=this.Wc=this.Jh=null;this.context=a;this.mb=this.ib=0;this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.qc=Array.Z(Uint8,
this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Yb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.sb=Array.If(this.qc,"Life.grid16");this.W=Array.If(this.Yb,"Life.nextGrid16");this.$g=this.j.V(Uint32,this.A,"Life.blankPixelRow");this.va=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.dg=this.j.V(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Cb=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.cg=this.j.V(Uint8,this.width,"Life.blankColourRow");
this.ta=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.colourGrid");this.H=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallColourGrid");this.Ca=Array.ad(this.H,1,"Life.smallColourGrid4");this.Fa=Array.ad(this.H,3,"Life.smallColourGrid8");this.bb=Array.ad(this.H,7,"Life.smallColourGrid16");this.Oi=Array.If(this.ta,"Life.colourGrid16");this.ng=this.yg=this.xf=this.wf=this.fa=this.kc=null;this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=
Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.je=this.kd=this.Kc=this.ha=null;this.Qa=this.j.V(Uint8,256,"Life.redChannel");this.Pa=this.j.V(Uint8,256,"Life.greenChannel");this.Ma=this.j.V(Uint8,256,"Life.blueChannel");this.Nf=this.j.V(Uint32,256,"Life.pixelColours");this.jg=this.j.V(Uint8,e.yq,"Life.indexLookup63");this.kg=this.j.V(Uint8,e.yq,"Life.indexLookup632");this.Kh=this.j.V(Uint8,e.Wt,"Life.indexLookupTri1");this.Lh=this.j.V(Uint8,e.Wt,"Life.indexLookupTri2");
this.an=this.j.V(Uint8,2*(this.pc+1),"Life.colourLookup");this.Pi=this.j.V(Uint8,2048,"Life.colourReset");this.rc=ViewConstants.On;this.gg=-1;this.de=ViewConstants.Nn;this.fg=-1;this.$e=10;this.mh=!0;this.jn=!1;this.Px=10;this.ne=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.U=8192;this.iy=[0,0,48];this.hy=[255,255,255];this.gy=[255,255,255];this.jy=[0,255,0];this.ky=[255,0,0];this.$f=[0,0,48];this.Zf=[255,255,255];this.Yf=[255,255,255];this.ag=[0,255,0];this.bg=[255,0,0];this.Tb=
new HROT(this.j,this);this.coords=this.j.V(Float32,1,"Life.coords");this.Bd=this.j.V(Uint32,1,"Life.cellColours");this.Jc=0;this.An=!1}var e={fy:[[[1,1,0],[1,0,1],[1,0,0]],[[0,1,1],[1,1,0],[0,0,1]],[[1,1,1],[1,0,0],[0,1,0]],[[0,1,0],[1,1,0],[1,0,1]]],ve:4096,Sh:16,Go:4096,ny:512,yq:262144,Xt:8192,Wt:131072,vm:50,wu:262144,ti:12,cb:64,pc:127,$d:63,Uh:1,Nd:1,Rd:2,Ud:4,Gd:8,Me:16,Ne:32,re:64,se:128};d.prototype.rm=function(a,g,b){this.jj=!0;this.vq=a;this.Af=g.red<<16|g.green<<8|g.blue;this.Bf=b.red<<
16|b.green<<8|b.blue};d.prototype.Yz=function(a,g){-1!==a?this.Af=a:this.Af=128<=(this.Ra.red+this.Ra.green+this.Ra.blue)/3?ViewConstants.Vt:ViewConstants.On;-1!==g?this.Bf=g:this.Bf=128<=(this.Ra.red+this.Ra.green+this.Ra.blue)/3?ViewConstants.Ut:ViewConstants.Nn};d.prototype.my=function(a){var f=!0;a||this.za.B.Kq(this.za.D)&&this.xa.B.Kq(this.xa.D)&&this.xa.B.Kq(this.Ra)&&(f=!1);return f};c.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};c.prototype.Kq=function(a){var f=
!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(f=!0);return f};b.prototype.set=function(a){this.B.set(a.B);this.D.set(a.D)};a.prototype.Ux=function(){var a=this.ta,g=this.Jd,b=this.A/2,c=this.v/2,d,G,q=this.width/2-.25,h=this.height/2,A=this.coords,m=this.Bd,n=g.N,p=g.O;var B=g.K;var x=g.L,u=this.height/2-this.$-this.vb+.5,t=this.width/2-this.da-this.Bb+.5,H=this.zoom*this.Ob,k=!this.kb&&!this.Cc;m.length!==e.ve&&(this.coords=this.j.V(Float32,12*e.ve,"Life.coords"),this.Bd=this.j.V(Uint32,
e.ve,"Life.cellColours"),A=this.coords,m=this.Bd);-1!==this.ka&&(0!==this.la?(n=Math.round((this.width-this.la)/2)-1,p=n+this.la-1+2):(n=0,p=this.width-1),0!==this.na?(B=Math.round((this.height-this.na)/2)-1,x=B+this.na-1+2):(B=0,x=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(G=g=0;B<=x;B+=1){var r=(B-h+u)*H+c;if(r>=-H&&r<this.v+H){r=a[B];var D=B-h;var y=t-q;for(d=n;d<=p;d+=1){var F=(d+y)*H+b;if(F>=-H&&F<this.A+2*H){F=r[d];if(0<F){m[g]=(F<<
e.Sh)+G;F=d-q;var C=d+B&1;A[G]=F-1;A[G+1]=D+C;A[G+2]=F+1;A[G+3]=D+C;A[G+4]=F;A[G+5]=D+1-C;G+=6;g+=1}g===e.ve&&(this.Jc=g,this.sf(!0,k),this.Cc&&!this.kb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.sf(!1,!1)),G=g=0)}}}}this.Jc=g;0<g&&(this.sf(!0,k),this.Cc&&!this.kb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.sf(!1,!1)),G=0);if(this.kb){this.context.strokeStyle="rgb("+(this.rc>>16)+","+(this.rc>>8&255)+","+(this.rc&255)+
")";this.context.lineWidth=1;x=c/H-u+h|0;g=0;for(B=-c/H-u+h|0;B<=x;B+=1)if(r=(B-h+u)*H+c,r>=-H&&r<this.v+H)for(D=B-h,y=t-q,n=-b/H-y-H|0,p=b/H-y+H|0,d=n;d<=p;d+=1)F=(d+y)*H+b,F>=-H&&F<this.A+H&&(F=d-q,C=d+B&1,A[G]=F-1,A[G+1]=D+C,A[G+2]=F+1,A[G+3]=D+C,A[G+4]=F,A[G+5]=D+1-C,G+=6,g+=1),g===e.ve&&(this.Jc=g,this.sf(!1,!1),G=g=0);this.Jc=g;0<g&&this.sf(!1,!1)}};a.prototype.sf=function(a,g){var f,b=this.context,c=this.width/2-this.da-this.Bb,d=this.height/2-this.$-this.vb,q=this.zoom*this.Ob,h=this.zoom*
this.Ob*Math.sqrt(3),A=this.A/2,m=this.v/2,n=0,p=0,B=-1,x=this.coords,u=this.Jc,t=this.Bd,H=(1<<e.Sh)-1;if(a&&t.sort){p=(e.ve<<e.Sh)+256;for(f=u;f<e.ve;f+=1)t[f]=p;t.sort()}b.beginPath();a||(B=p=n=0);for(f=0;f<u;f+=1){a&&(p=t[f],n=p&H,p>>=e.Sh);var k=x[n];var r=x[n+1];n+=2;var D=(r+d)*h+m;var y=(k+c)*q+A;var F=(x[n+1]-r)*h;var C=(x[n]-k)*q;n+=2;p!==B&&(B=p,0<f&&(a?(g&&b.stroke(),b.fill()):b.stroke(),b.beginPath()),a&&(b.fillStyle=this.eg[p],g&&(b.strokeStyle=this.eg[p])));b.moveTo(y|0,D|0);b.lineTo(C+
y|0,F+D|0);b.lineTo(C+y|0,D|0);F=(x[n+1]-r)*h;C=(x[n]-k)*q;b.lineTo(C+y|0,F+D|0);n+=2}a?(g&&b.stroke(),b.fill()):b.stroke()};a.prototype.Rx=function(){var a=this.ta,g=this.Jd,b=this.A/2,c=this.v/2,d,G=this.width/2-.25,q=this.height/2,h=Math.PI/3,A=.5/Math.cos(h/2)*1.16,m=Math.sqrt(3)/4/Math.cos(h/2)*1.16,n=[],p=[],B=this.coords,x=this.Bd,u=g.N,t=g.O;var H=g.K;var k=g.L,r=this.height/2-this.$-this.vb+.5,D=this.width/2-this.da-this.Bb+.5-(this.height>>2)+r/2,y=this.zoom*this.Ob,F=!this.kb&&!this.Cc;
x.length!==e.ve&&(this.coords=this.j.V(Float32,12*e.ve,"Life.coords"),this.Bd=this.j.V(Uint32,e.ve,"Life.cellColours"),B=this.coords,x=this.Bd);-1!==this.ka&&(0!==this.la?(u=Math.round((this.width-this.la)/2)-1,t=u+this.la-1+2):(u=0,t=this.width-1),0!==this.na?(H=Math.round((this.height-this.na)/2)-1,k=H+this.na-1+2):(H=0,k=this.height-1));var C=h/2;for(g=0;5>=g;g+=1)n[g]=Math.cos(C)*m,p[g]=Math.sin(C)*A,n[g]+=p[g]/2,C+=h;h=n[0];A=p[0];m=n[1];var z=p[1];var E=n[2];var v=p[2];var w=n[3];var M=p[3];
var K=n[4];var S=p[4];n=n[5];p=p[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(C=g=0;H<=k;H+=1){var ba=(H+r-q)*y+c;if(ba>=-y&&ba<this.v+y){ba=a[H];var Y=H-q;var T=D-G-(Y+r)/2;for(d=u;d<=t;d+=1){var aa=(d+T)*y+b;aa>=-y&&aa<this.A+y&&(aa=ba[d],0<aa&&(x[g]=(aa<<e.Sh)+C,aa=d-G,B[C]=h+aa,B[C+1]=A+Y,B[C+2]=m+aa,B[C+3]=z+Y,B[C+4]=E+aa,B[C+5]=v+Y,B[C+6]=w+aa,B[C+7]=M+Y,B[C+8]=K+aa,B[C+9]=S+Y,B[C+10]=n+aa,B[C+11]=p+Y,C+=12,g+=1),g===e.ve&&(this.Jc=g,this.qf(!0,
F,!1),this.Cc&&!this.kb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.qf(!1,!1,!1)),C=g=0))}}}this.Jc=g;0<g&&(this.qf(!0,F,!1),this.Cc&&!this.kb&&(this.context.strokeStyle="rgb("+this.Qa[0]+","+this.Ma[0]+","+this.Pa[0]+")",this.qf(!1,!1,!1)),C=0);if(this.kb){this.context.strokeStyle="rgb("+(this.rc>>16)+","+(this.rc>>8&255)+","+(this.rc&255)+")";this.context.lineWidth=1;g=0;k=c/y-r+q|0;for(H=-c/y-r+q|0;H<=k;H+=1)if(ba=(H+r-q)*y+c,ba>=-y&&ba<this.v+y)for(Y=H-
q,T=D-G-(Y+r)/2,u=-b/y-T-y|0,t=b/y-T+y|0,d=u;d<=t;d+=1)aa=(d+T)*y+b,aa>=-y&&aa<this.A+y&&(aa=d-G,B[C]=h+aa,B[C+1]=A+Y,B[C+2]=m+aa,B[C+3]=z+Y,B[C+4]=E+aa,B[C+5]=v+Y,B[C+6]=w+aa,B[C+7]=M+Y,C+=8,g+=1),g===e.ve&&(this.Jc=g,this.qf(!1,!1,!0),C=g=0);this.Jc=g;0<g&&this.qf(!1,!1,!0)}};a.prototype.qf=function(a,g,b){var f,c=this.context,d=this.width/2-this.da-this.Bb,l=this.height/2-this.$-this.vb,h=this.zoom*this.Ob,A=this.A/2,m=this.v/2,n=0,p=0,B=12,x=0,u=-1,t=this.coords,H=this.Jc,k=this.Bd,r=(1<<e.Sh)-
1;d=d+l/2+-(this.height>>2)+.5;l+=.5;if(a&&k.sort){x=(e.ve<<e.Sh)+256;for(f=H;f<e.ve;f+=1)k[f]=x;k.sort()}c.beginPath();a||(p=B=b?8:12,u=x=n=0);for(f=0;f<H;f+=1){a&&(x=k[f],n=x&r,p=n+B,x>>=e.Sh);b=t[n];var D=t[n+1];var y=D+l;var F=b+d-y/2;n+=2;y=y*h+m;F=F*h+A;var C=(t[n+1]-D)*h;var z=(t[n]-b)*h-C/2;n+=2;x!==u&&(u=x,0<f&&(a?(g&&c.stroke(),c.fill()):c.stroke(),c.beginPath()),a&&(c.fillStyle=this.eg[x],g&&(c.strokeStyle=this.eg[x])));c.moveTo(F,y);for(c.lineTo(z+F,C+y);n<p;)C=(t[n+1]-D)*h,z=(t[n]-b)*
h-C/2,n+=2,c.lineTo(z+F,C+y);p+=B}a?(g&&c.stroke(),c.fill()):c.stroke()};a.prototype.Rw=function(a,g,b){var f="",c=g.sc?g.Jd:g.C,d=c.N,e=c.O,l=c.L,A=c.K,m=e-d+1,n=l-A+1,p=0,B=[];var x=0;var u=!1,t=this.ta,H=null;g.ca&&(0<d&&0!==(d&1)&&(--d,m+=1),0<A&&0!==(A&1)&&(--A,n+=1));if(2>=g.g&&!g.sc)u=!0,B[0]="b",B[1]="o";else for(g.sc?x=7:x=g.g,B[0]=".",c=0;c<x-1;c+=1)B[c+1]=24<=c?String.fromCharCode(112+(c/24|0)-1)+String.fromCharCode(65+c%24):String.fromCharCode(65+c);b&&(f+=g.rb);0===this.Aa&&(n=m=0,l=
A-1);f+="x = "+m+", y = "+n+", rule = ";f="LifeHistory"===a.Mf?f+a.Mf:f+a.Lg;f+=a.jr;f+="\n";for(a=f.length;A<=l;){c=d;u?(H=t[A],x=H[c],m=x<=this.$d||x===this.yc?0:1):m=g.getState(c,A,!1);n=1;for(c+=1;c<=e+1;)c>e?x=-1:u?(x=H[c],x=x<=this.$d||x===this.yc?0:1):x=g.getState(c,A,!1),x!==m?((-1!==x||0!==m)&&0<p&&(1<p&&(f+=p),f+="$",69<=f.length-a&&(f+="\n",a=f.length),p=0),0<m?(1<n&&(f+=n),f+=B[m]):c<=e&&(1<n&&(f+=n),f+=B[m]),69<=f.length-a&&(f+="\n",a=f.length),n=1,m=x):n+=1,c+=1;p+=1;A+=1}f+="!\n";b&&
(f+=g.pe);return f};a.prototype.rv=function(a,g,b){var f=this.sb,c=this.qa,d=this.W,l=this.Ja,h=this.ta,A=this.eb,m=this.Xa,n=this.kc,p=this.C,B=this.ea,x=this.Jd,u=Math.round((this.width-this.la)/2),t=Math.round((this.height-this.na)/2),H=u+this.la-1,k=t+this.na-1,r=!0,D=0,y=this.ca?1:0,F=this.ca?14:15;-1!==this.ka&&(0===this.la&&(u=0,H=this.width-1),0===this.na&&(t=0,k=this.height-1));if(a!==(a&this.ib)||g!==(g&this.mb)){for(r=!1;this.width<this.U&&(a!==(a&this.ib)||g!==(g&this.mb));)this.wq(),
a+=this.width>>2,g+=this.height>>2;a===(a&this.ib)&&g===(g&this.mb)&&(r=!0,f=this.sb,c=this.qa,d=this.W,l=this.Ja,h=this.ta,A=this.eb,m=this.Xa,n=this.kc)}if(r&&(-1===this.ka||a>=u&&a<=H&&g>=t&&g<=k)){this.An=!0;if(this.sa)c=h[g][a],2===this.g?(n=this.cb,1===b&&(b=this.cb)):(n=this.g-1+this.ba,0<b&&(b=this.ba+b)),h[g][a]=b,A[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&15),c!==n&&b===n?this.Aa+=1:c===n&&b!==n&&--this.Aa;else{(u=2>=this.g?1===(b&1):b===this.g-1)?(0===(f[g][a>>4]&1<<(~a&
15))&&(this.Aa+=1),h[g][a]=this.cb,A[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&15),f[g][a>>4]|=1<<(~a&15),c[g>>4][a>>8]|=1<<(~(a>>4)&15),d[g][a>>4]|=1<<(~a&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),A=a&15,0<a&&A<=y?(a-=A+1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=A+1):a<this.width-1&&A>=F&&(a+=16-A,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-A),0<g&&0===(g&15)?(--g,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&A<=y?(a-=A+
1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=A+1):a<this.width-1&&A>=F&&(a+=16-A,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-A),g+=1):g<this.height-1&&15===(g&15)&&(g+=1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&A<=y?(a-=A+1,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a+=A-1):a<this.width-1&&A>=F&&(a+=16-A,c[g>>4][a>>8]|=1<<(~(a>>4)&15),l[g>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-A),--g)):(0!==(f[g][a>>4]&1<<(~a&15))&&
--this.Aa,h[g][a]=this.Ra,A[g>>4][a>>8]|=1<<(~(a>>4)&15),m[g>>4][a>>8]|=1<<(~(a>>4)&15),f[g][a>>4]&=~(1<<(~a&15)),d[g][a>>4]&=~(1<<(~a&15)));if(this.sc&&n){c=n[g][a];0<c&&(c=ViewConstants.hb.indexOf(c-128));if(6===b&&6!==c||6!==b&&6===c)D=1;2===b?h[g][a]=e.Uh:n[g][a]=0===b?0:ViewConstants.hb[b]+128}2<this.g&&(0<b&&(b=this.ba+b),h[g][a]=b)}0<b?(a<p.N&&(p.N=a),a>p.O&&(p.O=a),g<p.K&&(p.K=g),g>p.L&&(p.L=g),a<x.N&&(x.N=a),a>x.O&&(x.O=a),g<x.K&&(x.K=g),g>x.L&&(x.L=g),this.sa&&b===this.g-1+this.ba&&(a<B.N&&
(B.N=a),a>B.O&&(B.O=a),g<B.K&&(B.K=g),g>B.L&&(B.L=g))):0<this.Aa&&(a===p.N||a===p.O||g===p.L||g===p.K)&&a>=p.N&&a<=p.O&&g>=p.K&&g<=p.L&&this.np(a,g)}return D};a.prototype.Iw=function(a){var f=1<<e.ti;a?(this.Sa=Array.Z(Uint32,1,f,0,this.j,"Life.popGraphData"),this.Re=Array.Z(Uint32,1,f,0,this.j,"Life.birthGraphData"),this.nf=Array.Z(Uint32,1,f,0,this.j,"Life.deathGraphData"),this.uf=f):(this.Sa=Array.Z(Uint32,0,0,0,this.j,"Life.popGraphData"),this.Re=Array.Z(Uint32,0,0,0,this.j,"Life.birthGraphData"),
this.nf=Array.Z(Uint32,0,0,0,this.j,"Life.deathGraphData"),this.uf=0)};a.prototype.getState=function(a,g,b){var f=0,c=ViewConstants.hb[3]+128,d=ViewConstants.hb[4]+128,e=ViewConstants.hb[5]+128,l=ViewConstants.hb[6]+128,A=Math.round((this.width-this.la)/2),m=Math.round((this.height-this.na)/2),n=A+this.la-1,p=m+this.na-1;a===(a&this.ib)&&g===(g&this.mb)&&(f=this.ta[g][a],b||2<this.g?2<this.g&&0<f&&!this.Zb&&(f<=this.ba?f=0:(-1!==this.ka&&(0===this.la&&(A=0,n=this.width-1),0===this.na&&(m=0,p=this.height-
1)),f=-1===this.ka||f!==this.yc||a>=A&&a<=n&&g>=m&&g<=p?this.g+this.ba-f:0)):this.kc?(a=this.kc[g][a],a===d||a===l?(f>=this.cb&&(a=c),f=ViewConstants.hb.indexOf(a-128)):a===c||a===e?(f<this.cb&&(a=d),f=ViewConstants.hb.indexOf(a-128)):f=f===this.Ra?0:f<=this.$d?2:1):f=f<=this.$d||f===this.yc?0:1);return f};a.prototype.Cm=function(a){var f,b,c,d=a.length,e=a[0].length,q=this.me,h=0;for(f=0;f<d;f+=1){var A=a[f];for(b=0;b<e;b+=1)(c=A[b])&&(h+=q[c])}return h};a.prototype.mm=function(a,g,b){var f=this.Sd.bd.length,
c=this.Sd.lA(a);f!==this.Sd.bd.length&&(this.qj-=e.vm);if(c){for(this.Qj(c);this.s<a-1;)this.Ba=1,this.pj(!1,!0,b),this.Zj();this.s<a&&(this.Ba=1,this.pj(g,!0,b));this.Zj()}};a.prototype.Qj=function(a){var f,b=this.va,c=this.cg;this.s=a.s;if(0!==(this.s&1)){var d=this.Yb;var e=this.qc;var q=this.Ja;var h=this.qa}else d=this.qc,e=this.Yb,q=this.qa,h=this.Ja;var A=d.length;for(f=0;f<A;f+=1)d[f].set(b),this.ta[f].set(c),this.H[f].set(c);Array.Tf(d,e);Array.Tf(this.Xa,this.eb);a.Lz(d,q,this);a.Kz(this.ta,
this.Xa,this);Array.Tf(q,h);Array.Tf(d,e);this.C.N=a.C.N;this.C.K=a.C.K;this.C.O=a.C.O;this.C.L=a.C.L;this.ea.N=a.ea.N;this.ea.K=a.ea.K;this.ea.O=a.ea.O;this.ea.L=a.ea.L;this.Aa=a.Aa;this.Ab=a.Ab;this.jc=a.jc;this.Ba=a.Ba};a.prototype.nm=function(){if(0!==(this.s&1)){var a=this.Yb;var g=this.Ja}else a=this.qc,g=this.qa;this.Sj(!1,a,g)};a.prototype.Jo=function(a){this.Qj(this.Io);this.Sd.reset();this.qj=e.vm;a||this.nm()};a.prototype.Sj=function(a,g,b){this.Sd.nm(g,b,this.ta,this.Xa,this.kc,this.C,
this.ea,this.Aa,this.Ab,this.jc,this.s,(this.f-1>>4)+1,this.i,this,a,this.Ba)};a.prototype.Uz=function(a){this.Sd.reset();this.Sj(!0,this.qc,this.qa);a||this.nm()};a.prototype.Fz=function(){var a=this.kc,g=this.ha;this.height=this.width=512;this.sa&&this.Tb.resize(this.width,this.height);this.qc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Yb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.sb=Array.If(this.qc,"Life.grid16");this.W=Array.If(this.Yb,
"Life.nextGrid16");g&&(this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.kd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive"),this.Kc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.i=this.height>>4;g&&(this.je=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,
(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.va=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.dg=this.j.V(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Cb=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.cg=this.j.V(Uint8,this.width,"Life.blankColourRow");this.ne=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");
this.ta=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.colourGrid");this.H=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallColourGrid");this.Ca=Array.ad(this.H,1,"Life.smallColourGrid4");this.Fa=Array.ad(this.H,3,"Life.smallColourGrid8");this.bb=Array.ad(this.H,7,"Life.smallColourGrid16");this.Oi=Array.If(this.ta,"Life.colourGrid16");a&&(this.kc=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.overlayGrid"),this.fa=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,
"Life.smallOverlayGrid"),this.wf=Array.ad(this.fa,1,"Life.smallColourGrid4"),this.xf=Array.ad(this.fa,3,"Life.smallColourGrid8"),this.yg=Array.ad(this.fa,7,"Life.smallColourGrid16"),this.ng=Array.If(this.kc,"Life.overlayGrid16"));this.ib=this.width-1;this.mb=this.height-1;this.Sd.hv((this.f-1>>4)+1,this.i,0)};a.prototype.wq=function(){var a=this.qc,g=this.Yb,b=this.ta,c=this.H,d=this.kc,e=this.fa,q=this.ha,h=this.kd,A=this.Kc,m=this.je,n=this.qa,p=this.Ja,B=this.eb,x=this.Xa,u=this.height,t=this.i,
H=this.width>>1,k=this.height>>1,r;if(this.width<this.U){this.width*=2;this.height*=2;this.sa&&this.Tb.resize(this.width,this.height);this.qc=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.grid");this.Yb=Array.Z(Uint8,this.height,(this.width-1>>3)+1,0,this.j,"Life.nextGrid");this.sb=Array.If(this.qc,"Life.grid16");this.W=Array.If(this.Yb,"Life.nextGrid16");q&&(this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask"),this.kd=Array.Z(Uint16,this.height,(this.width-
1>>4)+1,0,this.j,"Life.state6Alive"),this.Kc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells"));this.f=this.width>>4;this.i=this.height>>4;q&&(this.je=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid"));this.qa=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.tileGrid");this.Ja=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.nextTileGrid");this.eb=Array.Z(Uint16,this.i,(this.f-1>>4)+1,0,this.j,"Life.colourTileGrid");this.Xa=Array.Z(Uint16,this.i,
(this.f-1>>4)+1,0,this.j,"Life.colourTileHistoryGrid");this.va=this.j.V(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.dg=this.j.V(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.Cb=this.j.V(Uint16,this.f>>4,"Life.blankTileRow");this.cg=this.j.V(Uint8,this.width,"Life.blankColourRow");this.ne=this.j.V(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.ta=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.colourGrid");this.H=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallColourGrid");
this.Ca=Array.ad(this.H,1,"Life.smallColourGrid4");this.Fa=Array.ad(this.H,3,"Life.smallColourGrid8");this.bb=Array.ad(this.H,7,"Life.smallColourGrid16");this.Oi=Array.If(this.ta,"Life.colourGrid16");d&&(this.kc=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.overlayGrid"),this.fa=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallOverlayGrid"),this.wf=Array.ad(this.fa,1,"Life.smallColourGrid4"),this.xf=Array.ad(this.fa,3,"Life.smallColourGrid8"),this.yg=Array.ad(this.fa,7,"Life.smallColourGrid16"),
this.ng=Array.If(this.kc,"Life.overlayGrid16"));this.ib=this.width-1;this.mb=this.height-1;for(r=0;r<u;r+=1)this.qc[r+k].set(a[r],H>>3),this.Yb[r+k].set(g[r],H>>3),this.ta[r+k].set(b[r],H),this.H[r+k].set(c[r],H),d&&e&&(this.kc[r+k].set(d[r],H),this.fa[r+k].set(e[r],H)),q&&h&&A&&(this.ha[r+k].set(q[r],H>>4),this.kd[r+k].set(h[r],H>>4),this.Kc[r+k].set(A[r],H>>4));k=t>>1;for(r=0;r<t;r+=1)m&&this.je[r+k].set(m[r],this.je[r].length>>2),this.qa[r+k].set(n[r],this.qa[r].length>>2),this.Ja[r+k].set(p[r],
this.Ja[r].length>>2),this.eb[r+k].set(B[r],this.eb[r].length>>2),this.Xa[r+k].set(x[r],this.Xa[r].length>>2);H=this.width>>2;k=this.height>>2;this.Sd.hv((this.f-1>>4)+1,this.i,H);this.da+=H;this.$+=k;this.S&&(this.da-=k/2|0);this.C.N+=H;this.C.O+=H;this.C.L+=k;this.C.K+=k;this.ea.N+=H;this.ea.O+=H;this.ea.L+=k;this.ea.K+=k;this.Ld.N+=H;this.Ld.O+=H;this.Ld.L+=k;this.Ld.K+=k;this.Jd.N+=H;this.Jd.O+=H;this.Jd.L+=k;this.Jd.K+=k}};a.prototype.ax=function(a){var f=this.C,b=this.width,c=this.height,d=
!1;b<this.U&&this.Ba&&(f.N<=a||f.K<=a||f.O>=b-a||f.L>=c-a)&&(this.wq(),d=!0);return d};a.prototype.fl=function(){var a,g,b=this.me;for(a=0;65536>a;a+=1){var c=a;for(g=0;c;g+=1)c&=c-1;b[a]=g}};a.prototype.jl=function(){var a,g,b=this.Pi,c=this.cb;for(a=0;256>a;a+=1)for(g=0;8>g;g+=1)b[(a<<3)+g]=a&1<<7-g?c:0};a.prototype.Hz=function(a,g){var f,b=0,c=this.me;var d=this.C;var e=d.N,h=d.O,A=d.L;d=d.K;if(this.sa)for(;d<=A;d+=1){var m=g[d];for(f=e;f<=h;f+=1)0<m[f]&&(b+=1)}else for(e>>=4,h>>=4;d<=A;d+=1)for(m=
a[d],f=e;f<=h;f+=1)g=c[m[f]],b+=g;this.Aa=b;this.jc=this.Ab=0};a.prototype.gv=function(a,g){var f=this.context;var b=this.hg?4278190080:255;this.A=a;this.v=g;this.Jh=this.Wc=this.Ed=null;this.Ed=f.createImageData(f.canvas.width,f.canvas.height);this.Ed.data.buffer?this.Wc=new Uint32Array(this.Ed.data.buffer):(this.Wc=new Uint32Array(this.Ed.data.length>>2),this.Jh=new Uint8Array(this.Wc.buffer));this.$g=this.j.V(Uint32,a,"Life.blankPixelRow");for(g=0;g<a;g+=1)this.$g[g]=b;this.Sk()};a.prototype.hx=
function(a,g,b){var f,c,d=this.ta,e=a.width,l=a.height,A=this.ib,m=this.mb,n=this.Uh,p=ViewConstants.hb[2];for(c=0;c<l;c+=1){var B=a.De[c];var x=d[c+b&m];for(f=0;f<e;f+=1)B[f]===p&&(x[f+g&A]=n)}};a.prototype.cy=function(){this.ng=this.fa=this.kc=null};a.prototype.rx=function(){this.kc=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.overlayGrid");this.fa=Array.Z(Uint8,this.height,this.width,this.Ra,this.j,"Life.smallOverlayGrid");this.wf=Array.ad(this.fa,1,"Life.smallOverlayGrid4");this.xf=
Array.ad(this.fa,3,"Life.smallOverlayGrid8");this.yg=Array.ad(this.fa,7,"Life.smallOverlayGrid16");this.ng=Array.If(this.kc,"Life.overlayGrid16")};a.prototype.dy=function(){this.je=this.Kc=this.kd=this.ha=null};a.prototype.ux=function(){this.ha=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Mask");this.kd=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Alive");this.Kc=Array.Z(Uint16,this.height,(this.width-1>>4)+1,0,this.j,"Life.state6Cells");this.je=Array.Z(Uint16,
this.i,(this.f-1>>4)+1,0,this.j,"Life.state6TileGrid")};a.prototype.fz=function(){var a,g,b=this.ib,c=this.mb,d=this.je,e=ViewConstants.hb[6]+128;for(g=0;g<this.ha.length;g+=1)this.ha[g].set(this.dg),this.Kc[g].set(this.dg),this.kd[g].set(this.dg);for(g=0;g<this.je.length;g+=1)this.je[g].set(this.Cb);for(g=1;g<this.height-1;g+=1){var q=this.kc[g];var h=this.ha[g-1&c];var A=this.ha[g&c];var m=this.ha[g+1&c];var n=this.Kc[g&c];var p=d[(g-1&c)>>4];var B=d[(g&c)>>4];var x=d[(g+1&c)>>4];for(a=1;a<=this.width-
1;a+=1)if(q[a]===e){var u=a&b;n[u>>4]|=1<<(~u&15);h[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);m[u>>4]|=1<<(~u&15);p[u>>8]|=1<<(~(u>>4)&15);B[u>>8]|=1<<(~(u>>4)&15);x[u>>8]|=1<<(~(u>>4)&15);u=a-1&b;h[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);m[u>>4]|=1<<(~u&15);p[u>>8]|=1<<(~(u>>4)&15);B[u>>8]|=1<<(~(u>>4)&15);x[u>>8]|=1<<(~(u>>4)&15);u=a+1&b;h[u>>4]|=1<<(~u&15);A[u>>4]|=1<<(~u&15);m[u>>4]|=1<<(~u&15);p[u>>8]|=1<<(~(u>>4)&15);B[u>>8]|=1<<(~(u>>4)&15);x[u>>8]|=1<<(~(u>>4)&15)}}};a.prototype.ez=function(a,g,
b){var f,c,d=a.width,e=a.height,l=this.ib,A=this.mb,m=this.je;for(c=0;c<e;c+=1){var n=a.De[c];var p=this.ha[c-1+b&A];var B=this.ha[c+b&A];var x=this.ha[c+1+b&A];var u=this.Kc[c+b&A];var t=m[(c-1+b&A)>>4];var H=m[(c+b&A)>>4];var k=m[(c+1+b&A)>>4];for(f=0;f<d;f+=1)if(6===n[f]){var r=f+g&l;u[r>>4]|=1<<(~r&15);p[r>>4]|=1<<(~r&15);B[r>>4]|=1<<(~r&15);x[r>>4]|=1<<(~r&15);t[r>>8]|=1<<(~(r>>4)&15);H[r>>8]|=1<<(~(r>>4)&15);k[r>>8]|=1<<(~(r>>4)&15);r=f-1+g&l;p[r>>4]|=1<<(~r&15);B[r>>4]|=1<<(~r&15);x[r>>4]|=
1<<(~r&15);t[r>>8]|=1<<(~(r>>4)&15);H[r>>8]|=1<<(~(r>>4)&15);k[r>>8]|=1<<(~(r>>4)&15);r=f+1+g&l;p[r>>4]|=1<<(~r&15);B[r>>4]|=1<<(~r&15);x[r>>4]|=1<<(~r&15);t[r>>8]|=1<<(~(r>>4)&15);H[r>>8]|=1<<(~(r>>4)&15);k[r>>8]|=1<<(~(r>>4)&15)}}};a.prototype.Ez=function(a){var f,b=this.ta,c=this.Pi;var d=this.C;var e=d.N>>4,q=d.O>>4,h=d.L;for(f=d.K;f<=h;f+=1){var A=a[f];var m=b[f];var n=e<<4;for(d=e;d<=q;d+=1){var p=A[d]>>8<<3;m[n]=c[p];n+=1;m[n]=c[p+1];n+=1;m[n]=c[p+2];n+=1;m[n]=c[p+3];n+=1;m[n]=c[p+4];n+=1;
m[n]=c[p+5];n+=1;m[n]=c[p+6];n+=1;m[n]=c[p+7];n+=1;p=(A[d]&255)<<3;m[n]=c[p];n+=1;m[n]=c[p+1];n+=1;m[n]=c[p+2];n+=1;m[n]=c[p+3];n+=1;m[n]=c[p+4];n+=1;m[n]=c[p+5];n+=1;m[n]=c[p+6];n+=1;m[n]=c[p+7];n+=1}}};a.prototype.oy=function(a,g,b){var f=this.Ra,c=this.va,d=this.cg,e=this.$g,l=this.Cb;var A=this.hg?4278190080:255;this.Fn();this.kh=!1;this.ib=this.width-1;this.mb=this.height-1;this.C=new BoundingBox(0,0,this.width-1,this.height-1);this.ea=new BoundingBox(0,0,this.width-1,this.height-1);this.Ld=
new BoundingBox(0,0,this.width-1,this.height-1);this.Jd=new BoundingBox(0,0,this.width-1,this.height-1);this.Tj=new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.jl();AliasManager.Kd();this.gv(g,b);b=(this.width-1>>3)+1;for(a=0;a<b;a+=1)c[a]=0;b=this.width;for(a=0;a<b;a+=1)d[a]=f;b=this.f>>4;for(a=0;a<b;a+=1)l[a]=0;for(a=0;a<g;a+=1)e[a]=A};a.prototype.nx=function(){var a=0;this.La[a]=new d("Mono",new b(new c(0,0,0),new c(0,0,0)),new b(new c(255,255,255),new c(255,255,255)),new c(0,
0,0),new c(255,255,255),new b(new c(0,0,0),new c(-1,-1,-1)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("Blues",new b(new c(0,0,47),new c(0,0,255)),new b(new c(0,255,255),new c(255,255,255)),new c(0,0,0),new c(0,255,255),new b(new c(0,0,255),new c(-1,-1,-1)),new b(new c(0,0,47),new c(0,0,128)),new c(0,0,0));a+=1;this.La[a]=new d("Fire",new b(new c(32,0,0),new c(160,0,0)),new b(new c(255,144,0),new c(255,255,0)),new c(0,0,0),new c(255,144,0),new b(new c(240,0,0),new c(-1,-1,
-1)),new b(new c(32,0,0),new c(160,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("Poison",new b(new c(0,24,0),new c(0,128,0)),new b(new c(0,255,255),new c(255,255,255)),new c(0,0,0),new c(0,255,255),new b(new c(0,192,0),new c(-1,-1,-1)),new b(new c(0,24,0),new c(0,128,0)),new c(0,0,0));a+=1;this.La[a]=new d("Yellow",new b(new c(0,47,0),new c(128,0,128)),new b(new c(255,255,0),new c(255,255,255)),new c(0,32,128),new c(255,255,0),new b(new c(192,64,64),new c(-1,-1,-1)),new b(new c(0,47,0),new c(128,0,128)),
new c(0,32,128));a+=1;this.La[a]=new d("Gray",new b(new c(16,16,16),new c(104,104,104)),new b(new c(176,176,176),new c(240,240,240)),new c(0,0,0),new c(240,240,240),new b(new c(160,160,160),new c(-1,-1,-1)),new b(new c(16,16,16),new c(104,104,104)),new c(0,0,0));a+=1;this.La[a]=new d("Inverse",new b(new c(255,255,255),new c(255,255,255)),new b(new c(0,0,0),new c(0,0,0)),new c(255,255,255),new c(0,0,0),new b(new c(255,255,255),new c(-1,-1,-1)),new b(new c(255,255,255),new c(255,255,255)),new c(255,
255,255));a+=1;this.La[a]=new d("Day",new b(new c(240,240,240),new c(0,255,255)),new b(new c(0,0,255),new c(0,0,0)),new c(255,255,255),new c(0,0,255),new b(new c(0,255,255),new c(-1,-1,-1)),new b(new c(240,240,240),new c(0,192,192)),new c(255,255,255));a+=1;this.La[a]=new d("Occupied",new b(new c(240,240,240),new c(240,240,240)),new b(new c(240,240,240),new c(240,240,240)),new c(0,0,0),new c(240,240,240),new b(new c(240,240,240),new c(240,240,240)),new b(new c(240,240,240),new c(240,240,240)),new c(0,
0,0));a+=1;this.La[a]=new d("Red",new b(new c(160,0,0),new c(160,0,0)),new b(new c(240,240,240),new c(240,240,240)),new c(0,0,0),new c(255,255,255),new b(new c(160,160,160),new c(160,160,160)),new b(new c(160,0,0),new c(160,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("LifeHistory",new b(new c(0,0,96),new c(0,0,160)),new b(new c(0,240,0),new c(16,255,16)),new c(0,0,0),new c(16,255,16),new b(new c(0,128,160),new c(-1,-1,-1)),new b(new c(0,0,96),new c(0,0,160)),new c(0,0,0));a+=1;this.La[a]=new d("Generations",
new b(new c(64,0,0),new c(255,0,0)),new b(new c(255,255,0),new c(255,255,255)),new c(0,0,0),new c(255,255,0),new b(new c(255,0,0),new c(-1,-1,-1)),new b(new c(64,0,0),new c(128,0,0)),new c(0,0,0));a+=1;this.La[a]=new d("Golly",new b(new c(48,48,48),new c(48,48,48)),new b(new c(255,255,255),new c(255,255,255)),new c(48,48,48),new c(255,255,0),new b(new c(255,0,0),new c(-1,-1,-1)),new b(new c(48,48,48),new c(48,48,48)),new c(48,48,48));this.La[a].rm(10,new c(80,80,80),new c(112,112,112));a+=1;this.La[a]=
new d("MCell",new b(new c(0,0,0),new c(0,0,0)),new b(new c(255,255,0),new c(255,255,0)),new c(0,0,0),new c(255,255,0),new b(new c(128,128,0),new c(128,128,128)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));this.La[a].rm(5,new c(64,0,0),new c(99,3,1));a+=1;this.La[a]=new d("Catagolue",new b(new c(160,221,204),new c(160,221,204)),new b(new c(0,0,0),new c(0,0,0)),new c(192,255,238),new c(0,0,0),new b(new c(96,192,139),new c(2,129,2)),new b(new c(160,221,204),new c(160,221,204)),new c(192,255,238));
this.La[a].rm(0,new c(160,221,204),new c(160,221,204));a+=1;this.La[a]=new d("Caterer",new b(new c(54,57,62),new c(54,57,62)),new b(new c(255,255,255),new c(255,255,255)),new c(54,57,62),new c(255,170,0),new b(new c(255,85,0),new c(-1,-1,-1)),new b(new c(54,57,62),new c(54,57,62)),new c(54,57,62));this.La[a].rm(0,new c(0,0,0),new c(0,0,0));a+=1;this.La[a]=new d("Life32",new b(new c(255,255,255),new c(255,255,255)),new b(new c(0,0,128),new c(0,0,128)),new c(255,255,255),new c(0,0,128),new b(new c(0,
0,64),new c(-1,-1,-1)),new b(new c(255,255,255),new c(255,255,255)),new c(255,255,255));this.La[a].rm(5,new c(192,192,192),new c(128,128,128));this.La[a+1]=new d(Keywords.Ik,new b(new c(0,0,0),new c(0,0,0)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0),new c(0,0,0),new b(new c(0,0,0),new c(0,0,0)),new b(new c(0,0,0),new c(0,0,0)),new c(0,0,0));this.ge=this.La.length-1;this.ed=new b(new c(0,0,0),new c(0,0,0));this.Rb=new b(new c(0,0,0),new c(0,0,0));this.ld=new c(0,0,0);this.Se=new c(0,0,0);this.jd=
new b(new c(0,0,0),new c(0,0,0));this.Cd=new b(new c(0,0,0),new c(0,0,0));this.yf=new c(0,0,0);this.xc=new b(new c(0,0,0),new c(0,0,0));this.Ha=new b(new c(0,0,0),new c(0,0,0));this.Sc=new c(0,0,0);this.Yd=new c(0,0,0);this.Ic=new b(new c(0,0,0),new c(0,0,0));this.hd=new b(new c(0,0,0),new c(0,0,0));this.oe=new c(0,0,0)};a.prototype.Bk=function(a,g,b){var f=this.La[a];this.ue=a;this.ed.set(this.xc);this.Rb.set(this.Ha);this.ld.set(this.Sc);this.Se.set(this.Yd);this.Cd.set(this.hd);this.jd.set(this.Ic);
this.yf.set(this.oe);this.xc.set(f.za);this.Ha.set(f.xa);this.Sc.set(f.Ra);this.Yd.set(f.Te);this.hd.set(f.Fb);this.Ic.set(f.Ua);this.oe.set(f.ah);this.Wi=g;this.Dv=f.my(this.sc);this.rc=f.Af;this.de=f.Bf;this.jn||(this.$e=f.vq);this.hg?(this.gg=-16777216|(this.rc&255)<<16|(this.rc>>8&255)<<8|this.rc>>16,this.fg=-16777216|(this.de&255)<<16|(this.de>>8&255)<<8|this.de>>16):(this.gg=this.rc>>16<<24|(this.rc>>8&255)<<16|(this.rc&255)<<8|255,this.fg=this.de>>16<<24|(this.de>>8&255)<<16|(this.de&255)<<
8|255);b.ot()};a.prototype.mx=function(){var a;var g=this.an;var b=this.pc;var c=this.cb;var d=this.Uh;var e=this.$d;g[0]=0;g[b+1]=c;for(a=1;a<b+1;a+=1)g[a]=Math.min(Math.max(a-1,d),e),g[a+b+1]=Math.max(Math.min(a+1,b),c);if(0===this.ba)for(a=this.cb;a<=this.pc;a+=1)g[a]=0;else this.ba<this.$d&&(g[this.$d-this.ba]=0)};a.prototype.mz=function(){var a;for(a=0;a<this.La.length;a+=1){var g=this.La[a];if(g.ck)if(2>=this.g)g.Ua.D.set(g.Te);else{var b=1/(this.g-2);g.Ua.D.red=g.Ua.B.red*b+g.Te.red*(1-b)|
0;g.Ua.D.green=g.Ua.B.green*b+g.Te.green*(1-b)|0;g.Ua.D.blue=g.Ua.B.blue*b+g.Te.blue*(1-b)|0}}};a.prototype.ut=function(){var a=(this.Wi-1)/this.Xi;if(!this.Zb)if(2<this.g){var g=0;this.Qa[g]=this.yf.red*a+this.oe.red*(1-a);this.Pa[g]=this.yf.green*a+this.oe.green*(1-a);this.Ma[g]=this.yf.blue*a+this.oe.blue*(1-a);for(g=1;g<this.g-1;g+=1){var b=3>=this.g?0:(g-1)/(this.g-3);var c=this.jd.D.red*b+this.jd.B.red*(1-b);var d=this.Ic.D.red*b+this.Ic.B.red*(1-b);this.Qa[g+this.ba]=c*a+d*(1-a);c=this.jd.D.green*
b+this.jd.B.green*(1-b);d=this.Ic.D.green*b+this.Ic.B.green*(1-b);this.Pa[g+this.ba]=c*a+d*(1-a);c=this.jd.D.blue*b+this.jd.B.blue*(1-b);d=this.Ic.D.blue*b+this.Ic.B.blue*(1-b);this.Ma[g+this.ba]=c*a+d*(1-a);this.jb.length>=g&&(b=this.sa?this.jb[g]:this.jb[this.g-g],-1!==b&&(this.Qa[g+this.ba]=b>>16,this.Pa[g+this.ba]=b>>8&255,this.Ma[g+this.ba]=b&255))}g=this.g-1;this.Qa[g+this.ba]=this.Se.red*a+this.Yd.red*(1-a);this.Pa[g+this.ba]=this.Se.green*a+this.Yd.green*(1-a);this.Ma[g+this.ba]=this.Se.blue*
a+this.Yd.blue*(1-a);this.jb.length>=g&&(b=this.sa?this.jb[g]:this.jb[this.g-g],-1!==b&&(this.Qa[g+this.ba]=b>>16,this.Pa[g+this.ba]=b>>8&255,this.Ma[g+this.ba]=b&255));for(g=0;g<this.ba;g+=1)b=1<this.ba?1-g/(this.ba-1):1,c=this.Cd.B.red*b+this.Cd.D.red*(1-b),d=this.hd.B.red*b+this.hd.D.red*(1-b),this.Qa[g+1]=c*a+d*(1-a),c=this.Cd.B.green*b+this.Cd.D.green*(1-b),d=this.hd.B.green*b+this.hd.D.green*(1-b),this.Pa[g+1]=c*a+d*(1-a),c=this.Cd.B.blue*b+this.Cd.D.blue*(1-b),d=this.hd.B.blue*b+this.hd.D.blue*
(1-b),this.Ma[g+1]=c*a+d*(1-a);0<this.jb.length&&(b=this.jb[0],-1!==b&&(this.Qa[0]=b>>16,this.Pa[0]=b>>8&255,this.Ma[0]=b&255))}else{g=0;this.Qa[g]=this.ld.red*a+this.Sc.red*(1-a);this.Pa[g]=this.ld.green*a+this.Sc.green*(1-a);this.Ma[g]=this.ld.blue*a+this.Sc.blue*(1-a);if(0===this.ba)for(g=1;g<=this.$d;g+=1)this.Qa[g]=this.ld.red*a+this.Sc.red*(1-a),this.Pa[g]=this.ld.green*a+this.Sc.green*(1-a),this.Ma[g]=this.ld.blue*a+this.Sc.blue*(1-a);else{var e=this.$d-this.ba+1;for(g=1;g<e;g+=1)this.Qa[g]=
this.Rb.B.red*a+this.Ha.B.red*(1-a),this.Pa[g]=this.Rb.B.green*a+this.Ha.B.green*(1-a),this.Ma[g]=this.Rb.B.blue*a+this.Ha.B.blue*(1-a);for(g=e;g<=this.$d;g+=1)b=this.$d===e?1:1-(g-e)/(this.$d-e),c=this.Rb.B.red*b+this.Rb.D.red*(1-b),d=this.Ha.B.red*b+this.Ha.D.red*(1-b),this.Qa[g]=c*a+d*(1-a),c=this.Rb.B.green*b+this.Rb.D.green*(1-b),d=this.Ha.B.green*b+this.Ha.D.green*(1-b),this.Pa[g]=c*a+d*(1-a),c=this.Rb.B.blue*b+this.Rb.D.blue*(1-b),d=this.Ha.B.blue*b+this.Ha.D.blue*(1-b),this.Ma[g]=c*a+d*(1-
a)}for(g=this.cb;g<=this.pc;g+=1)b=1-(g-this.cb)/(this.pc-this.cb),c=this.ed.B.red*b+this.ed.D.red*(1-b),d=this.xc.B.red*b+this.xc.D.red*(1-b),this.Qa[g]=c*a+d*(1-a),c=this.ed.B.green*b+this.ed.D.green*(1-b),d=this.xc.B.green*b+this.xc.D.green*(1-b),this.Pa[g]=c*a+d*(1-a),c=this.ed.B.blue*b+this.ed.D.blue*(1-b),d=this.xc.B.blue*b+this.xc.D.blue*(1-b),this.Ma[g]=c*a+d*(1-a)}};a.prototype.vt=function(a,g){var f=this.Qa,b=this.Pa,c=this.Ma,d,e=g.length;for(d=0;d<a.length;d+=1){var h=d>=e||-1===g[d]?
a[d]:g[d];f[d]=h>>16;b[d]=h>>8&255;c[d]=h&255}this.Wi=0};a.prototype.ox=function(a,g){var f=this.Qa,b=this.Pa,c=this.Ma,d=ViewConstants.hb,e=g.length,h;for(h=0;h<a.length;h+=1)h>=e||-1===g[h]?(f[128+d[h]]=a[h]>>16,b[128+d[h]]=a[h]>>8&255,c[128+d[h]]=a[h]&255):(f[128+d[h]]=g[h]>>16,b[128+d[h]]=g[h]>>8&255,c[128+d[h]]=g[h]&255)};a.prototype.Vc=function(a){var g=this.Qa,f=this.Pa,b=this.Ma,c=this.Nf,d=this.rc,e=this.de,h=this.eg,A=this.S&&this.Oe||this.ca,m;if(2<this.g){if(this.hg)for(m=0;m<=this.g+
this.ba;m+=1)c[m]=-16777216|b[m]<<16|f[m]<<8|g[m],A&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1))}else if(this.hg){for(m=0;m<this.cb;m+=1)c[m]=-16777216|b[m]<<16|f[m]<<8|g[m],A&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));for(m=this.cb;m<=this.pc;m+=1)c[m]=-16777216|b[m]*a<<16|f[m]*a<<8|g[m]*a,A&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));for(m=this.pc+1;256>m;m+=1)c[m]=-16777216|b[m]*a<<16|f[m]*a<<8|g[m]*a,A&&
(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1))}else{for(m=0;m<this.cb;m+=1)c[m]=g[m]<<24|f[m]<<16|b[m]<<8|255,A&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));for(m=this.cb;m<=this.pc;m+=1)c[m]=g[m]*a<<24|f[m]*a<<16|b[m]*a<<8|255,A&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1));for(m=this.pc+1;256>m;m+=1)c[m]=g[m]*a<<24|f[m]*a<<16|b[m]*a<<8|255,A&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1))}this.hg?
(this.gg=-16777216|(d&255)<<16|(d>>8&255)<<8|d>>16,this.fg=-16777216|(e&255)<<16|(e>>8&255)<<8|e>>16):(this.gg=d>>16<<24|(d>>8&255)<<16|(d&255)<<8|255,this.fg=e>>16<<24|(e>>8&255)<<16|(e&255)<<8|255);-1!==this.ka&&(m=this.yc,c[m]=this.hg?-16777216|b[m]*a<<16|f[m]*a<<8|g[m]*a:g[m]*a<<24|f[m]*a<<16|b[m]*a<<8|255,A&&(h[m]="#"+(16777216+((g[m]<<16)+(f[m]<<8)+b[m])).toString(16).substr(1)))};a.prototype.Xz=function(){var a=this.Qa,g=this.Pa,b=this.Ma;this.yc=-1!==this.ka&&256===this.g+this.ba?2:255;-1!==
this.ka&&256>this.g+this.ba&&(a[this.yc]=128,g[this.yc]=128,b[this.yc]=128)};a.prototype.nt=function(a){var g=this.height,f=this.qc,b=this.Yb,c=this.ta,d=this.H,e=this.kc,h=this.fa,A=this.qa,m=this.eb,n=this.Xa,p=this.Ja,B=this.va,x=this.Cb,u=this.cg,t;for(t=0;t<g;t+=1)f[t].set(B),b[t].set(B),a||(c[t].set(u),d[t].set(u),e&&(e[t].set(u),h[t].set(u)));g=this.i;for(t=0;t<g;t+=1)A[t].set(x),p[t].set(x),a||(m[t].set(x),n[t].set(x))};a.prototype.Oj=function(a,g){var f=e.Xt,b;for(b=0;b<f;b+=1)a[b]=g[b]};
a.prototype.Dh=function(a,g){var f=e.yq,b;for(b=0;b<f;b+=1){var c=g[b>>9&448|b>>6&56|b>>3&7]<<3;c|=g[b>>8&448|b>>5&56|b>>2&7]<<2;c|=g[b>>7&448|b>>4&56|b>>1&7]<<1;c|=g[b>>6&448|b>>3&56|b&7];a[b]=c}};a.prototype.CA=function(){var a,g=this.ca?PatternManager.Dr:PatternManager.yk,b=this.ca?PatternManager.Cr:PatternManager.Br,c=PatternManager.gh,d=this.ca?e.Xt:e.ny,G=!1;if(this.ca)this.Oj(this.Lh,g),this.Oj(this.Kh,b);else{if(-1===this.Qe&&g[0]){if(!g[d-1]){for(a=0;a<d/2;a+=1){var q=g[a];g[a]=g[d-a-1];
g[d-a-1]=q}G=!0;this.Dh(this.kg,g)}for(a=0;a<d/2;a+=1)q=g[a],g[a]=1-g[d-a-1],g[d-a-1]=1-q}c?(this.Dh(this.kg,g),this.Dh(this.jg,b)):(this.Dh(this.jg,g),G||this.kg.set(this.jg))}};a.prototype.mg=function(a){var g=0;0!==(a&32768)?g=0:0!==(a&16384)?g=1:0!==(a&8192)?g=2:0!==(a&4096)?g=3:0!==(a&2048)?g=4:0!==(a&1024)?g=5:0!==(a&512)?g=6:0!==(a&256)?g=7:0!==(a&128)?g=8:0!==(a&64)?g=9:0!==(a&32)?g=10:0!==(a&16)?g=11:0!==(a&8)?g=12:0!==(a&4)?g=13:0!==(a&2)?g=14:0!==(a&1)&&(g=15);return g};a.prototype.vg=
function(a){var g=0;0!==(a&1)?g=15:0!==(a&2)?g=14:0!==(a&4)?g=13:0!==(a&8)?g=12:0!==(a&16)?g=11:0!==(a&32)?g=10:0!==(a&64)?g=9:0!==(a&128)?g=8:0!==(a&256)?g=7:0!==(a&512)?g=6:0!==(a&1024)?g=5:0!==(a&2048)?g=4:0!==(a&4096)?g=3:0!==(a&8192)?g=2:0!==(a&16384)&&(g=1);return g};a.prototype.Uk=function(a){var g=this.kc,f=this.qa,b=this.width,c=this.height,d,e=this.C.L,h=this.C.K,A=this.C.N,m=this.C.O,n,p;for(n=0;n<c;n+=1){var B=g[n];var x=f[n>>4];for(p=d=0;p<b;p+=1)0!==B[p]&&(x[p>>8]|=1<<(~(p>>4)&15),d|=
B[p],p<A&&(A=p),p>m&&(m=p));d&&(n<h&&(h=n),n>e&&(e=n))}a||(this.C.L=e,this.C.K=h,this.C.N=A,this.C.O=m)};a.prototype.op=function(){var a,g,b,c=this.sb,d=this.Ja,G=this.qa,q,h=this.i,A=this.f>>4,m=this.Cb;var n=0;var p=n+16;for(g=0;g<h;g+=1)G[g].set(m);for(g=0;g<h;g+=1){var B=0;var x=d[g];var u=G[g];var t=0<g?G[g-1]:m;var H=g<h-1?G[g+1]:m;x[0]&=32767;x[A-1]&=65534;for(b=0;b<A;b+=1)if(q=x[b]){var k=u[b];var r=t[b];var D=H[b];for(a=15;0<=a;--a){if(0!==(q&1<<a)){var y=!1;var F=0;var C=n;var z=c[C];if(z=
z[B])y=!0,0!==(z&32768)&&(F|=e.Nd,F|=e.re),0!==(z&1)&&(F|=e.Rd,F|=e.se),F|=e.Gd;for(C+=1;C<p-1;){z=c[C];if(z=z[B])y=!0,0!==(z&32768)&&(F|=e.Nd),0!==(z&1)&&(F|=e.Rd);C+=1}z=c[C];if(z=z[B])y=!0,0!==(z&32768)&&(F|=e.Nd,F|=e.Me),0!==(z&1)&&(F|=e.Rd,F|=e.Ne),F|=e.Ud;y&&(k|=1<<a,F&&(0!==(F&e.Nd)&&(15>a?k|=1<<a+1:0<b&&(u[b-1]|=1)),0!==(F&e.Rd)&&(0<a?k|=1<<a-1:b<A-1&&(u[b+1]|=32768)),0!==(F&e.Gd)&&(r|=1<<a),0!==(F&e.Ud)&&(D|=1<<a),0!==(F&e.re)&&(15>a?r|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(F&e.se)&&(0<a?r|=1<<a-
1:b<A-1&&(t[b+1]|=32768)),0!==(F&e.Me)&&(15>a?D|=1<<a+1:0<b&&(H[b-1]|=1)),0!==(F&e.Ne)&&(0<a?D|=1<<a-1:b<A-1&&(H[b+1]|=32768))))}B+=1}u[b]|=k;0<g&&(t[b]|=r);g<h-1&&(H[b]|=D)}else B+=16;n+=16;p+=16}for(g=0;g<m.length;g+=1)m[g]=0};a.prototype.pp=function(){var a,g,b,c=this.sb,d=this.Ja,G=this.ta,q=this.qa,h,A=this.i,m=this.f>>4,n=this.Cb;var p=0;var B=p+16;for(g=0;g<A;g+=1)q[g].set(n);for(g=0;g<A;g+=1){var x=0;var u=d[g];var t=q[g];var H=0<g?q[g-1]:n;var k=g<A-1?q[g+1]:n;u[0]&=32767;u[m-1]&=65534;for(b=
0;b<m;b+=1)if(h=u[b]){var r=t[b];var D=H[b];var y=k[b];for(a=15;0<=a;--a){if(0!==(h&1<<a)){var F=!1;var C=0;var z=p;var E=c[z];var v=G[z];E=E[x];var w=x<<4;0<v[w]&&(E|=32768);w+=1;0<v[w]&&(E|=16384);w+=1;0<v[w]&&(E|=8192);w+=1;0<v[w]&&(E|=4096);w+=1;0<v[w]&&(E|=2048);w+=1;0<v[w]&&(E|=1024);w+=1;0<v[w]&&(E|=512);w+=1;0<v[w]&&(E|=256);w+=1;0<v[w]&&(E|=128);w+=1;0<v[w]&&(E|=64);w+=1;0<v[w]&&(E|=32);w+=1;0<v[w]&&(E|=16);w+=1;0<v[w]&&(E|=8);w+=1;0<v[w]&&(E|=4);w+=1;0<v[w]&&(E|=2);w+=1;0<v[w]&&(E|=1);E&&
(F=!0,0!==(E&32768)&&(C|=e.Nd,C|=e.re),0!==(E&1)&&(C|=e.Rd,C|=e.se),C|=e.Gd);for(z+=1;z<B-1;)E=c[z],v=G[z],E=E[x],w=x<<4,0<v[w]&&(E|=32768),w+=1,0<v[w]&&(E|=16384),w+=1,0<v[w]&&(E|=8192),w+=1,0<v[w]&&(E|=4096),w+=1,0<v[w]&&(E|=2048),w+=1,0<v[w]&&(E|=1024),w+=1,0<v[w]&&(E|=512),w+=1,0<v[w]&&(E|=256),w+=1,0<v[w]&&(E|=128),w+=1,0<v[w]&&(E|=64),w+=1,0<v[w]&&(E|=32),w+=1,0<v[w]&&(E|=16),w+=1,0<v[w]&&(E|=8),w+=1,0<v[w]&&(E|=4),w+=1,0<v[w]&&(E|=2),w+=1,0<v[w]&&(E|=1),E&&(F=!0,0!==(E&32768)&&(C|=e.Nd),0!==
(E&1)&&(C|=e.Rd)),z+=1;E=c[z];v=G[z];E=E[x];w=x<<4;0<v[w]&&(E|=32768);w+=1;0<v[w]&&(E|=16384);w+=1;0<v[w]&&(E|=8192);w+=1;0<v[w]&&(E|=4096);w+=1;0<v[w]&&(E|=2048);w+=1;0<v[w]&&(E|=1024);w+=1;0<v[w]&&(E|=512);w+=1;0<v[w]&&(E|=256);w+=1;0<v[w]&&(E|=128);w+=1;0<v[w]&&(E|=64);w+=1;0<v[w]&&(E|=32);w+=1;0<v[w]&&(E|=16);w+=1;0<v[w]&&(E|=8);w+=1;0<v[w]&&(E|=4);w+=1;0<v[w]&&(E|=2);w+=1;0<v[w]&&(E|=1);E&&(F=!0,0!==(E&32768)&&(C|=e.Nd,C|=e.Me),0!==(E&1)&&(C|=e.Rd,C|=e.Ne),C|=e.Ud);F&&(r|=1<<a,C&&(0!==(C&e.Nd)&&
(15>a?r|=1<<a+1:0<b&&(t[b-1]|=1)),0!==(C&e.Rd)&&(0<a?r|=1<<a-1:b<m-1&&(t[b+1]|=32768)),0!==(C&e.Gd)&&(D|=1<<a),0!==(C&e.Ud)&&(y|=1<<a),0!==(C&e.re)&&(15>a?D|=1<<a+1:0<b&&(H[b-1]|=1)),0!==(C&e.se)&&(0<a?D|=1<<a-1:b<m-1&&(H[b+1]|=32768)),0!==(C&e.Me)&&(15>a?y|=1<<a+1:0<b&&(k[b-1]|=1)),0!==(C&e.Ne)&&(0<a?y|=1<<a-1:b<m-1&&(k[b+1]|=32768))))}x+=1}t[b]|=r;0<g&&(H[b]|=D);g<A-1&&(k[b]|=y)}else x+=16;p+=16;B+=16}for(g=0;g<n.length;g+=1)n[g]=0};a.prototype.np=function(a,g){var f,b=this.C.N,c=this.C.O,d=this.C.L,
e=this.C.K,h=this.ta,A,m=2>=this.g?this.cb:this.ba+1,n;if(a===b)for(n=!1;a<=c&&!n;){for(f=e;f<=d&&!n;)h[f][a]>=m?n=!0:f+=1;n?(this.C.N=a,this.sa&&a>this.ea.N&&(this.ea.N=a)):a+=1}else if(a===c)for(n=!1;a>=b&&!n;){f=e;for(A=h[f];f<=d&&!n;)A[a]>=m?n=!0:f+=1;n?(this.C.O=a,this.sa&&a<this.ea.O&&(this.ea.O=a)):--a}if(g===e)for(f=g,n=!1;f<=d&&!n;){a=b;for(A=h[f];a<=c&&!n;)A[a]>=m?n=!0:a+=1;n?(this.C.K=f,this.sa&&f>this.ea.K&&(this.ea.K=f)):f+=1}else if(g===d)for(f=g,n=!1;f>=e&&!n;){for(a=b;a<=c&&!n;)h[f][a]>=
m?n=!0:a+=1;n?(this.C.L=f,this.sa&&f<this.ea.L&&(this.ea.L=f)):--f}};a.prototype.Cz=function(a){var g,f,b=this.width>>4,c=this.height,d=this.width,e=this.sb,h=this.kc;var A=this.ta;var m=this.C,n=this.ea,p=this.Ld,B=this.height,x=-1,u=this.width,t=-1,H=this.height,k=-1,r=this.width,D=-1,y,F=this.ne,C=this.i,z=this.qa,E=this.Ja,v=this.eb,w=this.Xa,M=this.Cb;if(h&&!a)for(f=0;f<c;f+=1){var K=h[f];for(g=y=0;g<d;g+=1){var S=K[g];y|=S;S&&(g<r&&(r=g),g>D&&(D=g))}y&&(f<H&&(H=f),f>k&&(k=f))}for(f=0;f<F.length;f+=
1)F[f]=0;for(f=0;f<C;f+=1)E[f].set(M);if(-1!==this.g)for(f=0;f<c;f+=1){b=A[f];for(g=y=0;g<d;g+=1)S=b[g],y|=S,S&&(g<u&&(u=g),g>t&&(t=g));y&&(f<B&&(B=f),f>x&&(x=f))}else{for(f=0;f<c;f+=1){A=e[f];for(g=y=0;g<b;g+=1)S=A[g],y|=S,F[g]|=S;y&&(f<B&&(B=f),f>x&&(x=f))}for(g=0;g<b;g+=1)F[g]&&(g<u&&(u=g),g>t&&(t=g));u=(u<<4)+this.mg(F[u]);t=(t<<4)+this.vg(F[t])}if(0>x||B>=c||u>=d||0>t)B=x=c>>1,t=u=d>>1;h&&!a&&(k<x&&(x=k),H>B&&(B=H),r<u&&(u=r),D>t&&(t=D));x>this.height-1&&(x=this.height-1);0>B&&(B=0);0>u&&(u=
0);t>this.width-1&&(t=this.width-1);m.L=x;m.K=B;m.N=u;m.O=t;n.L=x;n.K=B;n.N=u;n.O=t;p.L=x;p.K=B;p.N=u;p.O=t;0<u&&--u;0<B&&--B;t<this.width-1&&(t+=1);x<this.height-1&&(x+=1);S=x>>4;u>>=8;t>>=8;for(f=B>>4;f<=S;f+=1)for(B=E[f],g=u;g<=t;g+=1)B[g]=-1;-1!==this.g?this.pp():this.op();h&&(this.Uk(a),p.L=m.L,p.K=m.K,p.N=m.N,p.O=m.O);Array.Tf(z,E);Array.Tf(z,v);Array.Tf(z,w)};a.prototype.Pk=function(a){var g=Math.round((this.width-this.la)/2),f=Math.round((this.height-this.na)/2),b=g+this.la-1,c=f+this.na-
1,d=b+a>>4,e=g-a>>4,h=b+a>>4,A=~(1<<(~(g-a)&15)),m=~(1<<(~(b+a)&15)),n,p=this.me,B=0;var x=0!==(this.s&1)?this.W:this.sb;var u=x[c+a];var t=x[f-a];if(0===this.la)for(d=this.width>>4,n=0;n<d;n+=1)B+=p[t[n]],t[n]=0,B+=p[u[n]],u[n]=0;else if(0===this.na)for(f=0,c=this.height,d=0;d<c;d+=1)u=x[d],u[e]&~A&&(B+=1),u[e]&=A,u[h]&~m&&(B+=1),u[h]&=m;else{for(n=g-a>>4;n<=d;n+=1)B+=p[t[n]],t[n]=0,B+=p[u[n]],u[n]=0;for(d=f-a+1;d<=c+a-1;d+=1)u=x[d],u[e]&~A&&(B+=1),u[e]&=A,u[h]&~m&&(B+=1),u[h]&=m}this.Aa-=B;if(-1!==
this.g)if(x=this.ta,g-=a,b+=a,c+=a,f-=a,u=x[c],t=x[f],0===this.la)for(n=0;n<this.width;n+=1)t[n]=0,u[n]=0;else if(0===this.na)for(d=0;d<this.height;d+=1)x[d][g]=0,x[d][b]=0;else{for(n=g;n<=b;n+=1)t[n]=0,u[n]=0;for(d=f+1;d<=c-1;d+=1)x[d][g]=0,x[d][b]=0}};a.prototype.Fn=function(){var a,g=e.fy,b=this.Zk;for(a=0;3>=a;a+=1){var c=g[a];var d=c[0];var G=c[1];c=c[2];b[a]=d[0]<<3|d[1]<<2|d[2]<<1|G[0]<<8|G[1]<<7|G[2]<<6|c[0]<<13|c[1]<<12|c[2]<<11;b[a+4]=d[2]<<3|d[1]<<2|d[0]<<1|G[2]<<8|G[1]<<7|G[0]<<6|c[2]<<
13|c[1]<<12|c[0]<<11;b[11-a]=b[a];b[15-a]=b[a+4]}};a.prototype.Ir=function(){var a=this.la;var g=this.na;var b=Math.round((this.width-a)/2-1)>>4,c=Math.round((this.width+a)/2)>>4;var d=Math.round((this.height-g)/2-1)>>4;var e=Math.round((this.height+g)/2)>>4;0===g&&(d=0,e=(this.height>>4)-1);0===a&&(b=0,c=(this.width>>4)-1);0>b&&(b=0);0>d&&(d=0);c>=this.width>>4&&(c=(this.width>>4)-1);e>=this.height>>4&&(e=(this.height>>4)-1);for(g=b;g<=c;g+=1)a=1<<(~g&15),this.qa[d][g>>4]|=a,this.Ja[d][g>>4]|=a,
this.eb[d][g>>4]|=a,this.Xa[d][g>>4]|=a,this.qa[e][g>>4]|=a,this.Ja[e][g>>4]|=a,this.eb[e][g>>4]|=a,this.Xa[e][g>>4]|=a;for(;d<=e;d+=1)a=1<<(~b&15),this.qa[d][b>>4]|=a,this.Ja[d][b>>4]|=a,this.eb[d][b>>4]|=a,this.Xa[d][b>>4]|=a,a=1<<(~c&15),this.qa[d][c>>4]|=a,this.Ja[d][c>>4]|=a,this.eb[d][c>>4]|=a,this.Xa[d][c>>4]|=a};a.prototype.xr=function(){var a=this.eb,g=this.la,b=this.na,c=Math.round((this.width-g)/2),d=Math.round((this.height-b)/2),e=c+g-1,q=d+b-1,h=this.hl,A=this.il,m=this.ca&&0<c&&e<this.width-
1,n;if(0!==(this.s&1)){var p=this.W;var B=this.Ja}else p=this.sb,B=this.qa;0===this.la&&(c=0,e=this.width-1,g=this.width);0===this.na&&(d=0,q=this.height-1,b=this.height);if(0!==this.na)for(n=0;n<g;n+=1){var x=c+n;var u=c+(n+h+g)%g;0!==(p[q][x>>4]&1<<(~x&15))&&(p[d-1][u>>4]|=1<<(~u&15),B[d-1>>4][u>>8]|=1<<(~(u>>4)&15),a[d-1>>4][u>>8]|=1<<(~(u>>4)&15),15===(d-1&15)&&(B[(d-1>>4)+1][u>>8]|=1<<(~(u>>4)&15),a[(d-1>>4)+1][u>>8]|=1<<(~(u>>4)&15)));u=c+(n-h+g)%g;0!==(p[d][x>>4]&1<<(~x&15))&&(p[q+1][u>>4]|=
1<<(~u&15),B[q+1>>4][u>>8]|=1<<(~(u>>4)&15),a[q+1>>4][u>>8]|=1<<(~(u>>4)&15),0===(q+1&15)&&(B[(q+1>>4)-1][u>>8]|=1<<(~(u>>4)&15),a[(q+1>>4)-1][u>>8]|=1<<(~(u>>4)&15)))}if(0!==this.la)for(n=0;n<b;n+=1)x=d+n,u=d+(n-A+b)%b,0!==(p[x][c>>4]&1<<(~c&15))&&(p[u][e+1>>4]|=1<<(~(e+1)&15),B[u>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[u>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(B[u>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[u>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),m&&(c+=1,e+=1,0!==(p[x][c>>4]&1<<(~c&15))&&(p[u][e+1>>4]|=1<<
(~(e+1)&15),B[u>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[u>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(B[u>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[u>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),--c,--e),u=d+(n+A+b)%b,0!==(p[x][e>>4]&1<<(~e&15))&&(p[u][c-1>>4]|=1<<(~(c-1)&15),B[u>>4][c-1>>8]|=1<<(~(c-1>>4)&15),a[u>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(B[u>>4][c+15>>8]|=1<<(~(c+15>>4)&15),a[u>>4][c+15>>8]|=1<<(~(c+15>>4)&15))),m&&(--c,--e,0!==(p[x][e>>4]&1<<(~e&15))&&(p[u][c-1>>4]|=1<<(~(c-1)&15),B[u>>4][c-1>>
8]|=1<<(~(c-1>>4)&15),a[u>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(B[u>>4][c+15>>8]|=1<<(~(c+15>>4)&15),a[u>>4][c+15>>8]|=1<<(~(c+15>>4)&15))),c+=1,e+=1);0!==this.la&&0!==this.na&&(x=c+(-h+g)%g,p[d-1][e+1>>4]=0!==(p[d+(b-1+A+b)%b][x>>4]&1<<(~x&15))?p[d-1][e+1>>4]|1<<(~(e+1)&15):p[d-1][e+1>>4]&~(1<<(~(e+1)&15)),x=c+(g-1-h+g)%g,p[d-1][c-1>>4]=0!==(p[d+(b-1-A+b)%b][x>>4]&1<<(~x&15))?p[d-1][c-1>>4]|1<<(~(c-1)&15):p[d-1][c-1>>4]&~(1<<(~(c-1)&15)),x=c+(h+g)%g,p[q+1][e+1>>4]=0!==(p[d+(A+b)%b][x>>4]&
1<<(~x&15))?p[q+1][e+1>>4]|1<<(~(e+1)&15):p[q+1][e+1>>4]&~(1<<(~(e+1)&15)),x=c+(g-1+h+g)%g,p[q+1][c-1>>4]=0!==(p[d+(-A+b)%b][x>>4]&1<<(~x&15))?p[q+1][c-1>>4]|1<<(~(c-1)&15):p[q+1][c-1>>4]&~(1<<(~(c-1)&15)))};a.prototype.wo=function(){var a=this.eb,g=this.la,b=this.na,c=Math.round((this.width-g)/2),d=Math.round((this.height-b)/2),e=c+g-1,q=d+b-1,h=this.hl,A=this.il,m=this.Op,n=this.it,p;if(0!==(this.s&1)){var B=this.W;var x=this.Ja}else B=this.sb,x=this.qa;for(p=0;p<g;p+=1){var u=c+p;var t=m?e-(p+
h+g)%g:c+(p+h+g)%g;0!==(B[q][u>>4]&1<<(~u&15))&&(B[d-1][t>>4]|=1<<(~t&15),x[d-1>>4][t>>8]|=1<<(~(t>>4)&15),a[d-1>>4][t>>8]|=1<<(~(t>>4)&15),15===(d-1&15)&&(x[(d-1>>4)+1][t>>8]|=1<<(~(t>>4)&15),a[(d-1>>4)+1][t>>8]|=1<<(~(t>>4)&15)));t=m?e-(p-h+g)%g:c+(p-h+g)%g;0!==(B[d][u>>4]&1<<(~u&15))&&(B[q+1][t>>4]|=1<<(~t&15),x[q+1>>4][t>>8]|=1<<(~(t>>4)&15),a[q+1>>4][t>>8]|=1<<(~(t>>4)&15),0===(q+1&15)&&(x[(q+1>>4)-1][t>>8]|=1<<(~(t>>4)&15),a[(q+1>>4)-1][t>>8]|=1<<(~(t>>4)&15)))}for(p=0;p<b;p+=1)u=d+p,t=n?q-
(p-A+b)%b:d+(p-A+b)%b,0!==(B[u][c>>4]&1<<(~c&15))&&(B[t][e+1>>4]|=1<<(~(e+1)&15),x[t>>4][e+1>>8]|=1<<(~(e+1>>4)&15),a[t>>4][e+1>>8]|=1<<(~(e+1>>4)&15),0===(e+1&15)&&(x[t>>4][e-15>>8]|=1<<(~(e-15>>4)&15),a[t>>4][e-15>>8]|=1<<(~(e-15>>4)&15))),t=n?q-(p+A+b)%b:d+(p+A+b)%b,0!==(B[u][e>>4]&1<<(~e&15))&&(B[t][c-1>>4]|=1<<(~(c-1)&15),x[t>>4][c-1>>8]|=1<<(~(c-1>>4)&15),a[t>>4][c-1>>8]|=1<<(~(c-1>>4)&15),15===(c-1&15)&&(x[t>>4][c+15>>8]|=1<<(~(c+15>>4)&15),a[t>>4][c+15>>8]|=1<<(~(c+15>>4)&15)));u=m?e-(-h+
g)%g:c+(-h+g)%g;0!==(B[n?q-(b-1+A+b)%b:d+(b-1+A+b)%b][u>>4]&1<<(~u&15))&&(B[d-1][e+1>>4]|=1<<(~(e+1)&15));u=m?e-(g-1-h+g)%g:c+(g-1-h+g)%g;0!==(B[n?q-(b-1+A+b)%b:d+(b-1+A+b)%b][u>>4]&1<<(~u&15))&&(B[d-1][c-1>>4]|=1<<(~(c-1)&15));u=m?e-(h+g)%g:c+(h+g)%g;0!==(B[n?q-(A+b)%b:d+(A+b)%b][u>>4]&1<<(~u&15))&&(B[q+1][e+1>>4]|=1<<(~(e+1)&15));u=m?e-(g-1+h+g)%g:c+(g-1+h+g)%g;0!==(B[n?q-(A+b)%b:d+(A+b)%b][u>>4]&1<<(~u&15))&&(B[q+1][c-1>>4]|=1<<(~(c-1)&15))};a.prototype.ro=function(){var a=this.eb,g=Math.round((this.width-
this.la)/2),b=Math.round((this.height-this.na)/2),c=g+this.la-1,d=b+this.na-1,e;if(0!==(this.s&1)){var q=this.W;var h=this.Ja}else q=this.sb,h=this.qa;for(e=0;e<this.la;e+=1){var A=g+e;var m=c-e;0!==(q[d][A>>4]&1<<(~A&15))&&(q[b-1][m>>4]|=1<<(~m&15),h[b-1>>4][m>>8]|=1<<(~(m>>4)&15),a[b-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(b-1&15)&&(h[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(q[b][A>>4]&1<<(~A&15))&&(q[d+1][m>>4]|=1<<(~m&15),h[d+1>>4][m>>8]|=1<<(~(m>>4)&15),a[d+1>>
4][m>>8]|=1<<(~(m>>4)&15),0===(d+1&15)&&(h[(d+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(d+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(e=0;e<=this.na;e+=1)A=b+e,m=d-e,0!==(q[A][g>>4]&1<<(~g&15))&&(q[m][c+1>>4]|=1<<(~(c+1)&15),h[m>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[m>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(h[m>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[m>>4][c-15>>8]|=1<<(~(c-15>>4)&15))),0!==(q[A][c>>4]&1<<(~c&15))&&(q[m][g-1>>4]|=1<<(~(g-1)&15),h[m>>4][g-1>>8]|=1<<(~(g-1>>4)&15),a[m>>4][g-1>>8]|=1<<(~(g-1>>4)&15),
15===(g-1&15)&&(h[m>>4][g+15>>8]|=1<<(~(g+15>>4)&15),a[m>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));0!==(q[d][g>>4]&1<<(~g&15))&&(q[d+1][g-1>>4]|=1<<(~(g-1)&15));0!==(q[d][c>>4]&1<<(~c&15))&&(q[d+1][c+1>>4]|=1<<(~(c+1)&15));0!==(q[b][g>>4]&1<<(~g&15))&&(q[b-1][g-1>>4]|=1<<(~(g-1)&15));0!==(q[b][c>>4]&1<<(~c&15))&&(q[b-1][c+1>>4]|=1<<(~(c+1)&15))};a.prototype.Eo=function(){var a=this.eb,g=Math.round((this.width-this.la)/2),b=Math.round((this.height-this.na)/2),c=g+this.la-1,d=b+this.la-1,e;if(0!==(this.s&
1)){var q=this.W;var h=this.Ja}else q=this.sb,h=this.qa;for(e=0;e<this.la;e+=1){var A=b+e;var m=g+e;0!==(q[A][g>>4]&1<<(~g&15))&&(q[b-1][m>>4]|=1<<(~m&15),h[b-1>>4][m>>8]|=1<<(~(m>>4)&15),a[b-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(b-1&15)&&(h[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(b-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));0!==(q[A][c>>4]&1<<(~c&15))&&(q[d+1][m>>4]|=1<<(~m&15),h[d+1>>4][m>>8]|=1<<(~(m>>4)&15),a[d+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(d+1&15)&&(h[(d+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(d+1>>4)-1][m>>
8]|=1<<(~(m>>4)&15)));0!==(q[b][m>>4]&1<<(~m&15))&&(q[A][g-1>>4]|=1<<(~(g-1)&15),h[A>>4][g-1>>8]|=1<<(~(g-1>>4)&15),a[A>>4][g-1>>8]|=1<<(~(g-1>>4)&15),15===(g-1&15)&&(h[A>>4][g+15>>8]|=1<<(~(g+15>>4)&15),a[A>>4][g+15>>8]|=1<<(~(g+15>>4)&15)));0!==(q[d][m>>4]&1<<(~m&15))&&(q[A][c+1>>4]|=1<<(~(c+1)&15),h[A>>4][c+1>>8]|=1<<(~(c+1>>4)&15),a[A>>4][c+1>>8]|=1<<(~(c+1>>4)&15),0===(c+1&15)&&(h[A>>4][c-15>>8]|=1<<(~(c-15>>4)&15),a[A>>4][c-15>>8]|=1<<(~(c-15>>4)&15)))}0!==(q[d][g>>4]&1<<(~g&15))&&(q[d+1][g-
1>>4]|=1<<(~(g-1)&15));0!==(q[d][c>>4]&1<<(~c&15))&&(q[d+1][c+1>>4]|=1<<(~(c+1)&15));0!==(q[b][g>>4]&1<<(~g&15))&&(q[b-1][g-1>>4]|=1<<(~(g-1)&15));0!==(q[b][c>>4]&1<<(~c&15))&&(q[b-1][c+1>>4]|=1<<(~(c+1)&15))};a.prototype.ao=function(){var a,g=1;0!==this.ka&&(g=2);this.ca&&(g+=1);for(a=1;a<=g+1;a+=1)this.Pk(a)};a.prototype.mo=function(){this.Ir();switch(this.ka){case 1:this.xr();break;case 2:this.wo();break;case 3:this.ro();break;case 4:this.Eo()}this.Ir()};a.prototype.pj=function(a,g,b){this.Zb?
(this.Ba=1,this.s+=1):this.yo(a,g,b)};a.prototype.yo=function(a,g,b){var c=!1,f=this.C,d=this.Jd;b||(a=!0);!g&&this.An&&(this.An=!1);this.s===this.qj-1&&(c=!0,g||(a=!0));-1===this.ka||this.sa||this.mo();this.ha&&this.tp();this.Ba&&(this.sa?this.Tb.Py(this.s):a&&2>this.g?this.ca?this.Wn():this.Vn():this.ca?this.Tn():this.Rn());this.s+=1;-1===this.g||this.sa||this.Hn();this.ha&&this.qp();-1===this.ka||this.sa||this.ao();this.width===this.U&&(b=this.sa?2*this.Tb.vc:16,f.N<=b||f.O>=this.U-b||f.K<=b||
f.L>=this.U-b)&&(this.sa?this.Rk():this.Qk());c&&(this.qj+=e.vm,g||this.nm());f.N<d.N&&(d.N=f.N);f.O>d.O&&(d.O=f.O);f.K<d.K&&(d.K=f.K);f.L>d.L&&(d.L=f.L);this.s<e.wu&&(a?(this.Rj(this.Aa,this.Ab,this.jc),this.Aa>this.Lb&&(this.Lb=this.Aa),this.Ab>this.Lb&&(this.Lb=this.Ab),this.jc>this.Lb&&(this.Lb=this.jc)):this.Rj(0,0,0))};a.prototype.Rj=function(a,g,b){var c=this.s>>e.ti,f=this.s&(1<<e.ti)-1;this.Sa&&0<this.Sa.length&&(this.s>=this.uf&&(Array.$k(this.Sa,"Life.popGraphData"),Array.$k(this.Re,"Life.birthGraphData"),
Array.$k(this.nf,"Life.deathGraphData"),this.uf+=1<<e.ti),this.Sa[c][f]=a,this.Re[c][f]=g,this.nf[c][f]=b)};a.prototype.Nh=function(a,g,b,c,d,G,q,h){var f,m=1,n=(1<<e.ti)-1;this.s>b&&(m=b/this.s);if(h){a.strokeStyle=g;a.beginPath();var p=c-q[0]/this.Lb*c|0;a.moveTo(0+G+.5,p+d+G+.5)}else a.fillStyle=g;var l=0;for(g=f=1;g<b;g+=1){if(f<e.wu){var L=f>>e.ti;var u=f&n;u=L=q[L][u];l+=m;for(f+=1;0===(l|0);){var I=q[f];f+=1;I>u&&(u=I);I<L&&(L=I);l+=m}--l}else u=L=0;g<=this.s&&(I=0+G+1+g,p=c-L/this.Lb*c|0,
h?(a.lineTo(I+.5,p+d+G+.5),L!==u&&(p=c-u/this.Lb*c|0,a.lineTo(I+.5,p+d+G+.5))):0<L&&0<u&&(L!==u&&(p=c-u/this.Lb*c|0),a.fillRect(I+.5,p+d+G+.5,1,1)))}h&&a.stroke()};a.prototype.En=function(a,g,b,c){var f=this.context,d=40,e=40,l=this.A-e,I=this.v-d-e,m="rgb("+this.$f[0]+","+this.$f[1]+","+this.$f[2]+")",n="rgb("+this.Zf[0]+","+this.Zf[1]+","+this.Zf[2]+")",p="rgb("+this.Yf[0]+","+this.Yf[1]+","+this.Yf[2]+")",B="rgb("+this.ag[0]+","+this.ag[1]+","+this.ag[2]+")",x="rgb("+this.bg[0]+","+this.bg[1]+
","+this.bg[2]+")";if(this.Sa&&0<this.Sa.length){if(b||c)d=0,I+=80;c&&(e=0,l=this.A);var u=l-e;f.save();f.fillStyle=m;f.globalAlpha=g;f.fillRect(0,d,l+e,I);f.globalAlpha=1;b&&(I-=40);if(!c){f.font="16px Arial";f.textAlign="center";f.fillStyle="black";for(g=2;0<=g;g-=2)f.save(),f.translate(this.A/2,I+e/2-6),f.fillText("Generation",g,g),f.restore(),f.save(),f.translate(e/2+6,this.v/2),f.rotate(-90*Math.PI/180),320>this.v?f.fillText("Pop",g,g):f.fillText("Population",g,g),f.restore(),f.fillStyle=n;f.fillStyle=
"black";for(g=2;0<=g;g-=2)f.save(),f.translate(e-e/2+6,d+e),f.rotate(-90*Math.PI/180),f.fillText(String(this.Lb),g,g),f.restore(),f.save(),f.translate(e-e/2+6,I),f.rotate(-90*Math.PI/180),f.fillText("0",g,g),f.restore(),f.save(),f.translate(e,I+e/2-6),f.fillText("0",g,g),f.restore(),f.save(),f.translate(l,I+e/2-6),f.fillText(String(this.s>u?this.s:u),g,g),f.restore(),f.fillStyle=n}-1===this.ka&&(this.Nh(f,x,u,I-d-e,d,e,this.nf,a),this.Nh(f,B,u,I-d-e,d,e,this.Re,a));this.Nh(f,p,u,I-d-e,d,e,this.Sa,
a);f.strokeStyle=n;f.lineWidth=1;f.beginPath();f.moveTo(e+.5,d+e+.5);f.lineTo(e+.5,I+.5);f.lineTo(l+.5,I+.5);f.lineTo(l+.5,I+2.5);f.moveTo(e+.5,I+.5);f.lineTo(e+.5,I+2.5);f.moveTo(e+.5,I+.5);f.lineTo(e+.5-2,I+.5);f.moveTo(e+.5,d+e+.5);f.lineTo(e+.5-2,d+e+.5);f.stroke();f.restore()}};a.prototype.fv=function(){var a=(1<<e.ti)-1,g;if(this.Sa&&0<this.Sa.length){for(g=0;g<this.uf;g+=1){var b=g>>e.ti;var c=g&a;this.Sa[b][c]=0;this.Re[b][c]=0;this.nf[b][c]=0}this.Sa[0][0]=this.Aa}this.Lb=this.Aa};a.prototype.zr=
function(){var a=this.C,g=this.Jd;g.N=a.N;g.O=a.O;g.L=a.L;g.K=a.K};a.prototype.tp=function(){var a,g,b,c,d=this.ha,e=this.kd,q=this.Kc,h=this.je,A=this.i,m=this.f>>4,n;var p=0;var B=0!==(this.s&1)?this.W:this.sb;for(a=0;a<A;a+=1){var x=0;var u=h[a];for(g=0;g<m;g+=1)if(n=u[g])for(b=15;0<=b;--b){if(0!==(n&1<<b))for(c=p;c<p+16;c+=1)e[c][x]=(B[c][x]|q[c][x])&d[c][x];x+=1}else x+=16;p+=16}};a.prototype.qp=function(){var a,g,b,c,d,e=this.kd,q=this.je,h=this.i,A=this.f>>4,m;var n=0!==(this.s&1)?this.W:this.sb;
for(a=d=0;a<h;a+=1){var p=0;var B=q[a];for(g=0;g<A;g+=1)if(m=B[g])for(b=15;0<=b;--b){if(0!==(m&1<<b))for(c=d;c<d+16;c+=1)n[c][p]&=~e[c][p];p+=1}else p+=16;d+=16}};a.prototype.Mh=function(a,g,b){var c,f,d=this.bh,l=0,h=this.fd[l],A=this.gd[l],m=0,n=e.Go,p=n-1,B=0,x=n,u=this.km,t=this.ib,H=this.mb;h[m]=a;A[m]=g;m+=1;for(b[g][a>>4]&=~(1<<(~a&15));0<m;)for(--m,m<B&&(--l,B-=n,x-=n,h=this.fd[l],A=this.gd[l]),a=h[m&p],g=A[m&p],f=g-u;f<=g+u;){for(c=a-u;c<=a+u;)c===(c&t)&&f===(f&H)&&0!==(b[f][c>>4]&1<<(~c&
15))&&(b[f][c>>4]&=~(1<<(~c&15)),m===x&&(l+=1,B+=n,x+=n,l>d&&(this.fd[l]=this.j.V(Int32,n,"Life.boundaryX"+l),this.gd[l]=this.j.V(Int32,n,"Life.boundaryY"+l),this.bh=d+=1),h=this.fd[l],A=this.gd[l]),h[m&p]=c,A[m&p]=f,m+=1),c+=1;f+=1}};a.prototype.Pj=function(a,g,b){for(var c=b[g][a],f=15;0<=f;)0!==(c&1<<f)&&this.Mh((a<<4)+(~f&15),g,b),--f};a.prototype.Fr=function(a,g){this.Mh(0,a,g)};a.prototype.cs=function(a,g,b){this.Mh((a<<4)+15,g,b)};a.prototype.Qk=function(){var a;var g=0!==(this.s&1)?this.W:
this.sb;var b=g.length;var c=g[0].length;var d=g[0];var e=g[b-1];for(a=0;a<c;)d[a]&&this.Pj(a,0,g),e[a]&&this.Pj(a,b-1,g),a+=1;for(a=0;a<b;)0!==(g[a][0]&32768)&&this.Fr(a,g),0!==(g[a][c-1]&1)&&this.cs(c-1,a,g),a+=1};a.prototype.Ih=function(a,g){var b,c=this.ta,f,d=this.bh,q=0,h=this.fd[q],A=this.gd[q],m=0,n=e.Go,p=n-1,B=0,x=n,u=this.ib,t=this.mb,H=2<this.g?0:e.cb,k=2<this.g?0:e.$d,r=this.km;h[m]=a;A[m]=g;m+=1;for(c[g][a]=0;0<m;)for(--m,m<B&&(--q,B-=n,x-=n,h=this.fd[q],A=this.gd[q]),a=h[m&p],g=A[m&
p],b=g-r;b<=g+r;){var D=a-r;for(f=c[b];D<=a+r;)D===(D&u)&&b===(b&t)&&f[D]>=H&&(f[D]=k,m===x&&(q+=1,B+=n,x+=n,q>d&&(this.fd[q]=this.j.V(Int32,n,"Life.boundaryX"+q),this.gd[q]=this.j.V(Int32,n,"Life.boundaryY"+q),this.bh=d+=1),h=this.fd[q],A=this.gd[q]),h[m&p]=D,A[m&p]=b,m+=1),D+=1;b+=1}};a.prototype.Rk=function(){var a=this.ta,g=a.length,b=a[0].length,c=this.C,d=c.N,G=c.O,q=c.K,h=c.L,A=2*this.Tb.vc+1,m=2<this.g?0:e.cb,n,p;if(g-h<=A){for(p=g-A;p<=h;p+=1){var B=a[p];for(n=d;n<=G;n+=1)B[n]>=m&&this.Ih(n,
p)}c.L=g-A}if(q<=A){for(p=q;p<=A;p+=1)for(B=a[p],n=d;n<=G;n+=1)B[n]>=m&&this.Ih(n,p);c.K=A}if(d<=A){for(p=q;p<=h;p+=1)for(B=a[p],n=d;n<=A;n+=1)B[n]>=m&&this.Ih(n,p);c.N=A}if(b-G<=A){for(p=q;p<=h;p+=1)for(B=a[p],n=b-A;n<=G;n+=1)B[n]>=m&&this.Ih(n,p);c.O=b-A}};a.prototype.Wn=function(){var a,g,b,c,d,G=this.ne,q,h=this.height,A=this.width,m=A>>4,n=this.C,p=h,B=-1,x=A,u=-1,t=this.i,H=this.f>>4,k=this.Cb;var r=0;var D=t,y=this.me,F=0,C=0,z=0;if(0!==(this.s&1)){var E=this.W;var v=this.sb;var w=this.Ja;
var M=this.qa;var K=this.Lh}else E=this.sb,v=this.W,w=this.qa,M=this.Ja,K=this.Kh;for(g=0;g<G.length;g+=1)G[g]=0;0>r&&(r=0);D>t&&(D=t);var S=r<<4;var ba=S+16;for(g=r;g<D;g+=1){var Y=M[g];for(b=0;b<Y.length;b+=1)Y[b]=0}for(g=r;g<D;g+=1){var T=0;Y=w[g];var aa=M[g];var X=0<g?M[g-1]:k;var N=g<t-1?M[g+1]:k;for(b=0;b<H;b+=1)if(c=Y[b]){var R=aa[b];var U=X[b];var ca=N[b];for(a=15;0<=a;--a){if(0!==(c&1<<a)){var P=q=0;var J=S;var Q=0===J?this.va:E[J-1];var W=E[J];r=E[J+1];var fa=d=W[T];Q=Q[T-1]<<18|Q[T]<<2|
Q[T+1]>>14;var V=W[T-1]<<18|d<<2|W[T+1]>>14;var O=r[T-1]<<18|r[T]<<2|r[T+1]>>14;var Z=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;Z|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;Z|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;Z|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;Z|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;Z|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;Z|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;Z|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;Z|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;Z|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;Z|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;Z|=K[O<<
4&7936|Q>>0&224|V>>4&31]<<4;Z|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;Z|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;Z|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;Z|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;v[J][T]=Z;F+=y[Z];C+=y[Z&~d];z+=y[d&~Z];Z&&(q|=Z,J<p&&(p=J),J>B&&(B=J),0!==(Z&49152)&&(P|=e.re),0!==(Z&3)&&(P|=e.se),P|=e.Gd);for(J+=1;J<ba-1;){d=r[T];fa|=d;r=E[J+1];Q=V;V=O;O=r[T-1]<<18|r[T]<<2|r[T+1]>>14;0!==(J&1)&&(W=Q,Q=O,O=W);Z=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;Z|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;Z|=K[Q>>5&7936|O>>9&224|
V>>13&31]<<13;Z|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;Z|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;Z|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;Z|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;Z|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;Z|=K[Q<<1&7936|O>>3&224|V>>7&31]<<7;Z|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;Z|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;Z|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;Z|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;Z|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;Z|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;Z|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;F+=y[Z];C+=y[Z&
~d];z+=y[d&~Z];0!==(J&1)&&(O=W=Q);if(v[J][T]=Z)q|=Z,J<p&&(p=J),J>B&&(B=J);J+=1}d=r[T];fa|=d;r=J===this.height-1?this.va:E[J+1];Q=V;V=O;O=r[T-1]<<18|r[T]<<2|r[T+1]>>14;0!==(J&1)&&(W=Q,Q=O,O=W);Z=K[Q>>7&7936|O>>11&224|V>>15&31]<<15;Z|=K[O>>6&7936|Q>>10&224|V>>14&31]<<14;Z|=K[Q>>5&7936|O>>9&224|V>>13&31]<<13;Z|=K[O>>4&7936|Q>>8&224|V>>12&31]<<12;Z|=K[Q>>3&7936|O>>7&224|V>>11&31]<<11;Z|=K[O>>2&7936|Q>>6&224|V>>10&31]<<10;Z|=K[Q>>1&7936|O>>5&224|V>>9&31]<<9;Z|=K[O>>0&7936|Q>>4&224|V>>8&31]<<8;Z|=K[Q<<
1&7936|O>>3&224|V>>7&31]<<7;Z|=K[O<<2&7936|Q>>2&224|V>>6&31]<<6;Z|=K[Q<<3&7936|O>>1&224|V>>5&31]<<5;Z|=K[O<<4&7936|Q>>0&224|V>>4&31]<<4;Z|=K[Q<<5&7936|O<<1&224|V>>3&31]<<3;Z|=K[O<<6&7936|Q<<2&224|V>>2&31]<<2;Z|=K[Q<<7&7936|O<<3&224|V>>1&31]<<1;Z|=K[O<<8&7936|Q<<4&224|V>>0&31]<<0;F+=y[Z];C+=y[Z&~d];z+=y[d&~Z];if(v[J][T]=Z)q|=Z,J<p&&(p=J),J>B&&(B=J),0!==(Z&49152)&&(P|=e.Me),0!==(Z&3)&&(P|=e.Ne),P|=e.Ud;q&&(0!==(q&49152)&&(P|=e.Nd),0!==(q&3)&&(P|=e.Rd));G[T]|=q;if(q||fa)R|=1<<a,P&&(0!==(P&e.Nd)&&(15>
a?R|=1<<a+1:0<b&&0<T&&(aa[b-1]|=1)),0!==(P&e.Rd)&&(0<a?R|=1<<a-1:b<H-1&&T<m-1&&(aa[b+1]|=32768)),0!==(P&e.Gd)&&(U|=1<<a),0!==(P&e.Ud)&&(ca|=1<<a),0!==(P&e.re)&&(15>a?U|=1<<a+1:0<b&&0<T&&(X[b-1]|=1)),0!==(P&e.se)&&(0<a?U|=1<<a-1:b<H-1&&T<m-1&&(X[b+1]|=32768)),0!==(P&e.Me)&&(15>a?ca|=1<<a+1:0<b&&0<T&&(N[b-1]|=1)),0!==(P&e.Ne)&&(0<a?ca|=1<<a-1:b<H-1&&T<m-1&&(N[b+1]|=32768)))}T+=1}aa[b]|=R;0<g&&(X[b]|=U);g<t-1&&(N[b]|=ca)}else T+=16;S+=16;ba+=16}for(b=0;b<m;b+=1)G[b]&&(b<x&&(x=b),b>u&&(u=b));x=(x<<4)+
this.mg(G[x]);u=(u<<4)+this.vg(G[u]);0>B&&(B=h-1);p>=h&&(p=0);x>=A&&(x=0);0>u&&(u=A-1);B>h-1&&(B=h-1);0>p&&(p=0);0>x&&(x=0);u>A-1&&(u=A-1);n.L=B;n.K=p;n.N=x;n.O=u;for(g=0;g<k.length;g+=1)k[g]=0;this.Aa=F;this.Ab=C;this.jc=z};a.prototype.Tn=function(){var a,b,c,d,L=this.ne,G,q=this.height,h=this.width,A=h>>4,m=this.C,n=q,p=-1,B=h,x=-1,u=this.i,t=this.f>>4,H=this.Cb;var k=0;var r=u;if(0!==(this.s&1)){var D=this.W;var y=this.sb;var F=this.Ja;var C=this.qa;var z=this.Lh}else D=this.sb,y=this.W,F=this.qa,
C=this.Ja,z=this.Kh;for(b=0;b<L.length;b+=1)L[b]=0;0>k&&(k=0);r>u&&(r=u);var E=k<<4;var v=E+16;for(b=k;b<r;b+=1){var w=C[b];for(c=0;c<w.length;c+=1)w[c]=0}for(b=k;b<r;b+=1){var M=0;w=F[b];var K=C[b];var S=0<b?C[b-1]:H;var ba=b<u-1?C[b+1]:H;for(c=0;c<t;c+=1)if(d=w[c]){var Y=K[c];var T=S[c];var aa=ba[c];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var X=G=0;var N=E;var R=0===N?this.va:D[N-1];var U=D[N];k=D[N+1];var ca=U[M];R=R[M-1]<<18|R[M]<<2|R[M+1]>>14;var P=U[M-1]<<18|ca<<2|U[M+1]>>14;var J=k[M-1]<<18|k[M]<<
2|k[M+1]>>14;var Q=z[R>>7&7936|J>>11&224|P>>15&31]<<15;Q|=z[J>>6&7936|R>>10&224|P>>14&31]<<14;Q|=z[R>>5&7936|J>>9&224|P>>13&31]<<13;Q|=z[J>>4&7936|R>>8&224|P>>12&31]<<12;Q|=z[R>>3&7936|J>>7&224|P>>11&31]<<11;Q|=z[J>>2&7936|R>>6&224|P>>10&31]<<10;Q|=z[R>>1&7936|J>>5&224|P>>9&31]<<9;Q|=z[J>>0&7936|R>>4&224|P>>8&31]<<8;Q|=z[R<<1&7936|J>>3&224|P>>7&31]<<7;Q|=z[J<<2&7936|R>>2&224|P>>6&31]<<6;Q|=z[R<<3&7936|J>>1&224|P>>5&31]<<5;Q|=z[J<<4&7936|R>>0&224|P>>4&31]<<4;Q|=z[R<<5&7936|J<<1&224|P>>3&31]<<3;Q|=
z[J<<6&7936|R<<2&224|P>>2&31]<<2;Q|=z[R<<7&7936|J<<3&224|P>>1&31]<<1;Q|=z[J<<8&7936|R<<4&224|P>>0&31]<<0;if(y[N][M]=Q)G|=Q,N<n&&(n=N),N>p&&(p=N),0!==(Q&49152)&&(X|=e.re),0!==(Q&3)&&(X|=e.se),X|=e.Gd;for(N+=1;N<v-1;){ca|=k[M];k=D[N+1];R=P;P=J;J=k[M-1]<<18|k[M]<<2|k[M+1]>>14;0!==(N&1)&&(U=R,R=J,J=U);Q=z[R>>7&7936|J>>11&224|P>>15&31]<<15;Q|=z[J>>6&7936|R>>10&224|P>>14&31]<<14;Q|=z[R>>5&7936|J>>9&224|P>>13&31]<<13;Q|=z[J>>4&7936|R>>8&224|P>>12&31]<<12;Q|=z[R>>3&7936|J>>7&224|P>>11&31]<<11;Q|=z[J>>2&7936|
R>>6&224|P>>10&31]<<10;Q|=z[R>>1&7936|J>>5&224|P>>9&31]<<9;Q|=z[J>>0&7936|R>>4&224|P>>8&31]<<8;Q|=z[R<<1&7936|J>>3&224|P>>7&31]<<7;Q|=z[J<<2&7936|R>>2&224|P>>6&31]<<6;Q|=z[R<<3&7936|J>>1&224|P>>5&31]<<5;Q|=z[J<<4&7936|R>>0&224|P>>4&31]<<4;Q|=z[R<<5&7936|J<<1&224|P>>3&31]<<3;Q|=z[J<<6&7936|R<<2&224|P>>2&31]<<2;Q|=z[R<<7&7936|J<<3&224|P>>1&31]<<1;Q|=z[J<<8&7936|R<<4&224|P>>0&31]<<0;0!==(N&1)&&(J=U=R);if(y[N][M]=Q)G|=Q,N<n&&(n=N),N>p&&(p=N);N+=1}ca|=k[M];k=N===this.height-1?this.va:D[N+1];R=P;P=J;J=
k[M-1]<<18|k[M]<<2|k[M+1]>>14;0!==(N&1)&&(U=R,R=J,J=U);Q=z[R>>7&7936|J>>11&224|P>>15&31]<<15;Q|=z[J>>6&7936|R>>10&224|P>>14&31]<<14;Q|=z[R>>5&7936|J>>9&224|P>>13&31]<<13;Q|=z[J>>4&7936|R>>8&224|P>>12&31]<<12;Q|=z[R>>3&7936|J>>7&224|P>>11&31]<<11;Q|=z[J>>2&7936|R>>6&224|P>>10&31]<<10;Q|=z[R>>1&7936|J>>5&224|P>>9&31]<<9;Q|=z[J>>0&7936|R>>4&224|P>>8&31]<<8;Q|=z[R<<1&7936|J>>3&224|P>>7&31]<<7;Q|=z[J<<2&7936|R>>2&224|P>>6&31]<<6;Q|=z[R<<3&7936|J>>1&224|P>>5&31]<<5;Q|=z[J<<4&7936|R>>0&224|P>>4&31]<<4;Q|=
z[R<<5&7936|J<<1&224|P>>3&31]<<3;Q|=z[J<<6&7936|R<<2&224|P>>2&31]<<2;Q|=z[R<<7&7936|J<<3&224|P>>1&31]<<1;Q|=z[J<<8&7936|R<<4&224|P>>0&31]<<0;if(y[N][M]=Q)G|=Q,N<n&&(n=N),N>p&&(p=N),0!==(Q&49152)&&(X|=e.Me),0!==(Q&3)&&(X|=e.Ne),X|=e.Ud;G&&(0!==(G&49152)&&(X|=e.Nd),0!==(G&3)&&(X|=e.Rd));L[M]|=G;if(G||ca)Y|=1<<a,X&&(0!==(X&e.Nd)&&(15>a?Y|=1<<a+1:0<c&&0<M&&(K[c-1]|=1)),0!==(X&e.Rd)&&(0<a?Y|=1<<a-1:c<t-1&&M<A-1&&(K[c+1]|=32768)),0!==(X&e.Gd)&&(T|=1<<a),0!==(X&e.Ud)&&(aa|=1<<a),0!==(X&e.re)&&(15>a?T|=1<<
a+1:0<c&&0<M&&(S[c-1]|=1)),0!==(X&e.se)&&(0<a?T|=1<<a-1:c<t-1&&M<A-1&&(S[c+1]|=32768)),0!==(X&e.Me)&&(15>a?aa|=1<<a+1:0<c&&0<M&&(ba[c-1]|=1)),0!==(X&e.Ne)&&(0<a?aa|=1<<a-1:c<t-1&&M<A-1&&(ba[c+1]|=32768)))}M+=1}K[c]|=Y;0<b&&(S[c]|=T);b<u-1&&(ba[c]|=aa)}else M+=16;E+=16;v+=16}for(c=0;c<A;c+=1)L[c]&&(c<B&&(B=c),c>x&&(x=c));B=(B<<4)+this.mg(L[B]);x=(x<<4)+this.vg(L[x]);0>p&&(p=q-1);n>=q&&(n=0);B>=h&&(B=0);0>x&&(x=h-1);p>q-1&&(p=q-1);0>n&&(n=0);0>B&&(B=0);x>h-1&&(x=h-1);m.L=p;m.K=n;m.N=B;m.O=x;for(b=0;b<
H.length;b+=1)H[b]=0};a.prototype.Rn=function(){var a,b,c,d,L=this.ne,G,q=this.height,h=this.width,A=h>>4,m=this.C,n=q,p=-1,B=h,x=-1,u=this.i,t=this.f>>4,H=this.Cb;var k=0;var r=u;if(0!==(this.s&1)){var D=this.W;var y=this.sb;var F=this.Ja;var C=this.qa;var z=this.kg}else D=this.sb,y=this.W,F=this.qa,C=this.Ja,z=this.jg;for(b=0;b<L.length;b+=1)L[b]=0;0>k&&(k=0);r>u&&(r=u);var E=k<<4;var v=E+16;for(b=k;b<r;b+=1){var w=C[b];for(c=0;c<w.length;c+=1)w[c]=0}for(b=k;b<r;b+=1){var M=0;w=F[b];var K=C[b];
var S=0<b?C[b-1]:H;var ba=b<u-1?C[b+1]:H;for(c=0;c<t;c+=1)if(d=w[c]){var Y=K[c];var T=S[c];var aa=ba[c];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var X=G=0;var N=E;var R=0===N?this.va:D[N-1];var U=D[N];k=D[N+1];var ca=U[M];if(M)if(M>=A-1){R=R[M-1]<<17|R[M]<<1;U=U[M-1]<<17|ca<<1;var P=k[M-1]<<17|k[M]<<1;var J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&
(p=N),0!==(J&32768)&&(X|=e.re),X|=e.Gd;for(N+=1;N<v-1;){ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1}ca|=k[M];k=N===this.height-1?this.va:D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<
6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&32768)&&(X|=e.Me),X|=e.Ud}else{R=R[M-1]<<17|R[M]<<1|R[M+1]>>15;U=U[M-1]<<17|ca<<1|U[M+1]>>15;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&32768)&&(X|=e.re),0!==(J&1)&&(X|=e.se),X|=e.Gd;N+=1;ca|=k[M];k=
D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,
N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&
63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&
63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<
6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&
63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>
15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=D[N+1];
R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1;ca|=k[M];k=N===this.height-1?this.va:D[N+1];R=U;U=P;P=k[M-1]<<17|k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];
if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&32768)&&(X|=e.Me),0!==(J&1)&&(X|=e.Ne),X|=e.Ud}else{R=R[M]<<1|R[M+1]>>15;U=ca<<1|U[M+1]>>15;P=k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&1)&&(X|=e.se),X|=e.Gd;for(N+=1;N<v-1;){ca|=k[M];k=D[N+1];R=U;U=P;P=k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<
12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N);N+=1}ca|=k[M];k=N===this.height-1?this.va:D[N+1];R=U;U=P;P=k[M]<<1|k[M+1]>>15;J=z[R>>12&63|(U>>12&63)<<6|(P>>12&63)<<12]<<12;J|=z[R>>8&63|(U>>8&63)<<6|(P>>8&63)<<12]<<8;J|=z[R>>4&63|(U>>4&63)<<6|(P>>4&63)<<12]<<4;J|=z[R&63|(U&63)<<6|(P&63)<<12];if(y[N][M]=J)G|=J,N<n&&(n=N),N>p&&(p=N),0!==(J&1)&&(X|=e.Ne),X|=e.Ud}G&&(0!==(G&32768)&&(X|=e.Nd),
0!==(G&1)&&(X|=e.Rd));L[M]|=G;if(G||ca)Y|=1<<a,X&&(0!==(X&e.Nd)&&(15>a?Y|=1<<a+1:0<c&&0<M&&(K[c-1]|=1)),0!==(X&e.Rd)&&(0<a?Y|=1<<a-1:c<t-1&&M<A-1&&(K[c+1]|=32768)),0!==(X&e.Gd)&&(T|=1<<a),0!==(X&e.Ud)&&(aa|=1<<a),0!==(X&e.re)&&(15>a?T|=1<<a+1:0<c&&0<M&&(S[c-1]|=1)),0!==(X&e.se)&&(0<a?T|=1<<a-1:c<t-1&&M<A-1&&(S[c+1]|=32768)),0!==(X&e.Me)&&(15>a?aa|=1<<a+1:0<c&&0<M&&(ba[c-1]|=1)),0!==(X&e.Ne)&&(0<a?aa|=1<<a-1:c<t-1&&M<A-1&&(ba[c+1]|=32768)))}M+=1}K[c]|=Y;0<b&&(S[c]|=T);b<u-1&&(ba[c]|=aa)}else M+=16;
E+=16;v+=16}for(c=0;c<A;c+=1)L[c]&&(c<B&&(B=c),c>x&&(x=c));B=(B<<4)+this.mg(L[B]);x=(x<<4)+this.vg(L[x]);0>p&&(p=q-1);n>=q&&(n=0);B>=h&&(B=0);0>x&&(x=h-1);p>q-1&&(p=q-1);0>n&&(n=0);0>B&&(B=0);x>h-1&&(x=h-1);m.L=p;m.K=n;m.N=B;m.O=x;for(b=0;b<H.length;b+=1)H[b]=0};a.prototype.Vn=function(){var a,b,c,d,L,G=this.ne,q,h=this.height,A=this.width,m=A>>4,n=this.C,p=h,B=-1,x=A,u=-1,t=this.i,H=this.f>>4,k=this.Cb,r=this.me,D=0,y=0,F=0;var C=0;var z=t;if(0!==(this.s&1)){var E=this.W;var v=this.sb;var w=this.Ja;
var M=this.qa;var K=this.kg}else E=this.sb,v=this.W,w=this.qa,M=this.Ja,K=this.jg;for(b=0;b<G.length;b+=1)G[b]=0;0>C&&(C=0);z>t&&(z=t);var S=C<<4;var ba=S+16;for(b=C;b<z;b+=1){var Y=M[b];for(c=0;c<Y.length;c+=1)Y[c]=0}for(b=C;b<z;b+=1){var T=0;Y=w[b];var aa=M[b];var X=0<b?M[b-1]:k;var N=b<t-1?M[b+1]:k;for(c=0;c<H;c+=1)if(d=Y[c]){var R=aa[c];var U=X[c];var ca=N[c];for(a=15;0<=a;--a){if(0!==(d&1<<a)){var P=q=0;var J=S;var Q=0===J?this.va:E[J-1];var W=E[J];C=E[J+1];var fa=L=W[T];if(T)if(T>=m-1){Q=Q[T-
1]<<17|Q[T]<<1;W=W[T-1]<<17|L<<1;var V=C[T-1]<<17|C[T]<<1;var O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;D+=r[O];y+=r[O&~L];F+=r[L&~O];O&&(q|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.re),P|=e.Gd);for(J+=1;J<ba-1;)L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>
4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1;L=C[T];fa|=L;C=J===this.height-1?this.va:E[J+1];Q=W;W=V;V=C[T-1]<<17|C[T]<<1;O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;D+=r[O];y+=r[O&~L];F+=r[L&~O];O&&(q|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.Me),P|=e.Ud)}else Q=
Q[T-1]<<17|Q[T]<<1|Q[T+1]>>15,W=W[T-1]<<17|L<<1|W[T+1]>>15,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.re),0!==(O&1)&&(P|=e.se),P|=e.Gd),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=
K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=
C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,
O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<
6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&
(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&
63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,
O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],
F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<
8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1,L=C[T],fa|=L,C=J===this.height-1?this.va:E[J+1],Q=W,W=V,V=C[T-1]<<17|C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&32768)&&(P|=e.Me),
0!==(O&1)&&(P|=e.Ne),P|=e.Ud);else{Q=Q[T]<<1|Q[T+1]>>15;W=L<<1|W[T+1]>>15;V=C[T]<<1|C[T+1]>>15;O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;D+=r[O];y+=r[O&~L];F+=r[L&~O];O&&(q|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&1)&&(P|=e.se),P|=e.Gd);for(J+=1;J<ba-1;)L=C[T],fa|=L,C=E[J+1],Q=W,W=V,V=C[T]<<1|C[T+1]>>15,O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12,O|=K[Q>>8&63|(W>>8&63)<<
6|(V>>8&63)<<12]<<8,O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4,O|=K[Q&63|(W&63)<<6|(V&63)<<12],v[J][T]=O,D+=r[O],y+=r[O&~L],F+=r[L&~O],O&&(q|=O,J<p&&(p=J),J>B&&(B=J)),J+=1;L=C[T];fa|=L;C=J===this.height-1?this.va:E[J+1];Q=W;W=V;V=C[T]<<1|C[T+1]>>15;O=K[Q>>12&63|(W>>12&63)<<6|(V>>12&63)<<12]<<12;O|=K[Q>>8&63|(W>>8&63)<<6|(V>>8&63)<<12]<<8;O|=K[Q>>4&63|(W>>4&63)<<6|(V>>4&63)<<12]<<4;O|=K[Q&63|(W&63)<<6|(V&63)<<12];v[J][T]=O;D+=r[O];y+=r[O&~L];F+=r[L&~O];O&&(q|=O,J<p&&(p=J),J>B&&(B=J),0!==(O&1)&&(P|=
e.Ne),P|=e.Ud)}q&&(0!==(q&32768)&&(P|=e.Nd),0!==(q&1)&&(P|=e.Rd));G[T]|=q;if(q||fa)R|=1<<a,P&&(0!==(P&e.Nd)&&(15>a?R|=1<<a+1:0<c&&0<T&&(aa[c-1]|=1)),0!==(P&e.Rd)&&(0<a?R|=1<<a-1:c<H-1&&T<m-1&&(aa[c+1]|=32768)),0!==(P&e.Gd)&&(U|=1<<a),0!==(P&e.Ud)&&(ca|=1<<a),0!==(P&e.re)&&(15>a?U|=1<<a+1:0<c&&0<T&&(X[c-1]|=1)),0!==(P&e.se)&&(0<a?U|=1<<a-1:c<H-1&&T<m-1&&(X[c+1]|=32768)),0!==(P&e.Me)&&(15>a?ca|=1<<a+1:0<c&&0<T&&(N[c-1]|=1)),0!==(P&e.Ne)&&(0<a?ca|=1<<a-1:c<H-1&&T<m-1&&(N[c+1]|=32768)))}T+=1}aa[c]|=R;
0<b&&(X[c]|=U);b<t-1&&(N[c]|=ca)}else T+=16;S+=16;ba+=16}for(c=0;c<m;c+=1)G[c]&&(c<x&&(x=c),c>u&&(u=c));x=(x<<4)+this.mg(G[x]);u=(u<<4)+this.vg(G[u]);0>B&&(B=h-1);p>=h&&(p=0);x>=A&&(x=0);0>u&&(u=A-1);B>h-1&&(B=h-1);0>p&&(p=0);0>x&&(x=0);u>A-1&&(u=A-1);n.L=B;n.K=p;n.N=x;n.O=u;for(b=0;b<k.length;b+=1)k[b]=0;this.Aa=D;this.Ab=y;this.jc=F};a.prototype.Ri=function(a,b){var c,g=this.Xa,d,f,e,h,A=this.i,m=this.f>>4;var n=0;var p=n+16;for(d=0;d<A;d+=1){var B=0;var x=g[d];for(f=0;f<m;f+=1)if(h=x[f])for(e=
15;0<=e;--e){if(0!==(h&1<<e))for(c=n;c<p;c+=2){var u=a[c];var t=a[c+1];var H=b[c];var k=B<<3;var r=0;var D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);H[k+k]=r;k+=1;r=0;D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);H[k+k]=r;k+=1;r=0;D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);H[k+k]=r;k+=1;r=0;D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);
D>>=8;D>r&&(r=D);H[k+k]=r;k+=1;r=0;D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);H[k+k]=r;k+=1;r=0;D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);H[k+k]=r;k+=1;r=0;D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);H[k+k]=r;k+=1;r=0;D=u[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);D=t[k];(D&255)>r&&(r=D&255);D>>=8;D>r&&(r=D);H[k+k]=r}B+=1}else B+=16;n+=16;p+=16}};a.prototype.Si=
function(a,b){var c,g=this.Xa,d,f,e,h,A=this.i,m=this.f>>4;var n=0;var p=n+16;for(d=0;d<A;d+=1){var B=0;var x=g[d];for(f=0;f<m;f+=1)if(h=x[f])for(e=15;0<=e;--e){if(0!==(h&1<<e))for(c=n;c<p;c+=4){var u=b[c];var t=a[c];var H=a[c+2];var k=B<<4;var r=t[k];var D=t[k+2];D>r&&(r=D);D=H[k];D>r&&(r=D);D=H[k+2];D>r&&(r=D);u[k]=r;k+=4;r=t[k];D=t[k+2];D>r&&(r=D);D=H[k];D>r&&(r=D);D=H[k+2];D>r&&(r=D);u[k]=r;k+=4;r=t[k];D=t[k+2];D>r&&(r=D);D=H[k];D>r&&(r=D);D=H[k+2];D>r&&(r=D);u[k]=r;k+=4;r=t[k];D=t[k+2];D>r&&
(r=D);D=H[k];D>r&&(r=D);D=H[k+2];D>r&&(r=D);u[k]=r}B+=1}else B+=16;n+=16;p+=16}};a.prototype.Nj=function(a,b){var c,g=this.Xa,d,f,e,h,A=this.i,m=this.f>>4;var n=0;var p=n+16;for(d=0;d<A;d+=1){var B=0;var x=g[d];for(f=0;f<m;f+=1)if(h=x[f])for(e=15;0<=e;--e){if(0!==(h&1<<e))for(c=n;c<p;c+=8){var u=b[c];var t=a[c];var H=a[c+4];var k=B<<4;var r=t[k];var D=t[k+4];D>r&&(r=D);D=H[k];D>r&&(r=D);D=H[k+4];D>r&&(r=D);u[k]=r;k+=8;r=t[k];D=t[k+4];D>r&&(r=D);D=H[k];D>r&&(r=D);D=H[k+4];D>r&&(r=D);u[k]=r}B+=1}else B+=
16;n+=16;p+=16}};a.prototype.Qi=function(a,b){var c=this.Xa,g,d,f,e,h,A=this.i,m=this.f>>4;for(g=e=0;g<A;g+=1){var n=0;var p=c[g];for(d=0;d<m;d+=1)if(h=p[d])for(f=15;0<=f;--f){if(0!==(h&1<<f)){var B=b[e];var x=a[e];var u=a[e+8];var t=n<<4;var H=x[t];x=x[t+8];x>H&&(H=x);x=u[t];x>H&&(H=x);x=u[t+8];x>H&&(H=x);B[t]=H}n+=1}else n+=16;e+=16}};a.prototype.Vk=function(){1>this.ma&&(this.Ri(this.Oi,this.H),.5>this.ma&&(this.Si(this.H,this.Ca),.25>this.ma&&(this.Nj(this.Ca,this.Fa),.125>this.ma&&this.Qi(this.Fa,
this.bb))));this.kh&&1>this.ma&&(this.Ri(this.ng,this.fa),.5>this.ma&&(this.Si(this.fa,this.wf),.25>this.ma&&(this.Nj(this.wf,this.xf),.125>this.ma&&this.Qi(this.xf,this.yg))))};a.prototype.Hn=function(){var a=this.ta,b=this.Xa,c=this.eb,d,e,G,q,h,A=0,m=0,n=0;var p=this.i;var B=this.f>>4;var x=0;var u=p,t=this.g+this.ba-1,H=this.ba,k=0<this.ba?1:0;this.Ba=0;if(0!==(this.s&1)){var r=this.W;var D=this.Ja}else r=this.sb,D=this.qa;0>x&&(x=0);u>p&&(u=p);p=x<<4;var y=p+16;for(e=x;e<u;e+=1){var F=0;var C=
D[e];var z=c[e];var E=b[e];for(G=0;G<B;G+=1){var v=C[G]|z[G];var w=0;if(v)for(q=15;0<=q;--q){if(0!==(v&1<<q)){var M=0;for(x=p;x<y;x+=1){var K=r[x];var S=a[x];var ba=F<<4;var Y=K[F];for(h=32768;0<h;h>>=1){var T=d=S[ba];(d<=H||d===t)&&0!==(Y&h)?d=t:(Y&=~h,d>k&&--d);S[ba]=d;d>k&&(M=1,d===t&&(A+=1,T!==t&&(m+=1)));T===t&&d!==t&&(n+=1);ba+=1}K[F]=Y;this.Ba|=Y}M&&(w|=1<<q)}F+=1}else F+=16;z[G]=w;E[G]|=w}p+=16;y+=16}this.Aa=A;this.Ab=m;this.jc=n};a.prototype.Ok=function(){var a=this.ta,b=this.Xa,c,d,e,G,
q;var h=this.i;var A=this.f>>4;var m=0;var n=h,p=0<this.ba?1:0;0>m&&(m=0);n>h&&(n=h);h=m<<4;var B=h+16;for(c=m;c<n;c+=1){var x=0;var u=b[c];for(d=0;d<A;d+=1)if(q=u[d])for(e=15;0<=e;--e){if(0!==(q&1<<e))for(m=h;m<B;m+=1){var t=a[m];var H=x<<4;for(G=15;0<=G;--G){var k=t[H];k>p&&(--k,t[H]=k);H+=1}}x+=1}else x+=16;h+=16;B+=16}};a.prototype.Zj=function(){this.Zb||(-1===this.g?this.Tk():this.Ba||this.Ok())};a.prototype.Tk=function(){var a=this.ta,b=this.Xa,c=this.eb,d=this.an,e=this.pc+1,G,q,h;var A=this.i;
var m=this.f>>4;var n=0;var p=A;this.Ba=0;if(0!==(this.s&1)){var B=this.W;var x=this.Ja}else B=this.sb,x=this.qa;0>n&&(n=0);p>A&&(p=A);A=n<<4;var u=A+16;for(G=n;G<p;G+=1){var t=0;var H=x[G];var k=c[G];var r=b[G];for(q=0;q<m;q+=1){var D=H[q]|k[q];var y=0;if(D)for(h=15;0<=h;--h){if(0!==(D&1<<h)){var F=0;for(n=A;n<u;){var C=B[n];var z=a[n];var E=t<<4;C=C[t];this.Ba|=C;F|=C;if(0!==(C&32768))var v=d[z[E]+e];else v=d[z[E]],F|=1<v;z[E]=v;E+=1;0!==(C&16384)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==
(C&8192)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&4096)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&2048)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1024)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&512)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&256)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&128)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&64)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&32)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&16)?
v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&8)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&4)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&2)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;n+=1;C=B[n];z=a[n];E=t<<4;C=C[t];this.Ba|=C;F|=C;0!==(C&32768)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&16384)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&8192)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&4096)?v=d[z[E]+e]:(v=d[z[E]],
F|=1<v);z[E]=v;E+=1;0!==(C&2048)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1024)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&512)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&256)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&128)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&64)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&32)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&16)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&8)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=
v;E+=1;0!==(C&4)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&2)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;n+=1;C=B[n];z=a[n];E=t<<4;C=C[t];this.Ba|=C;F|=C;0!==(C&32768)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&16384)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&8192)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&4096)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&2048)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1024)?
v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&512)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&256)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&128)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&64)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&32)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&16)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&8)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&4)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&2)?v=d[z[E]+e]:(v=
d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;n+=1;C=B[n];z=a[n];E=t<<4;C=C[t];this.Ba|=C;F|=C;0!==(C&32768)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&16384)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&8192)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&4096)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&2048)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1024)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&512)?v=d[z[E]+e]:(v=d[z[E]],F|=
1<v);z[E]=v;E+=1;0!==(C&256)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&128)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&64)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&32)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&16)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&8)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&4)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&2)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;E+=1;0!==(C&1)?v=d[z[E]+e]:(v=d[z[E]],F|=1<v);z[E]=v;n+=1}F&&
(y|=1<<h)}t+=1}else t+=16;k[q]=y;r[q]|=y}A+=16;u+=16}};a.prototype.ew=function(a,b,c,d,e,G,q,h,A,m){var g=this.Ld;d=d*a+g.L;c=c*a+g.O;b=b*a+g.K;e=e*a+g.N;g=c-e+1;a=d-b+1;this.S&&(g=c-b/2-(e-d/2)+1);0===g&&(g=1);0===a&&(a=1);G/=g;q/=a;m=Math.round(1E3*(G>q?q:G)/m)/1E3;m<h?m=h:m>A&&(m=A);return m};a.prototype.Gn=function(a){var b=a;1>a&&(b=1/a);var c=Math.round(b);(c<b?c/b:b/c)>=ViewConstants.py&&(a=1>a?1/c:c);return a};a.prototype.Xf=function(a,b,c,d,e,G,q,h,A,m,n,p,B,x,u,t,H){var g=this.C,f=this.Ld,
l=this.Jd,L=this.Tj;n?(L.L=x*a+f.L,L.O=B*a+f.O,L.K=p*a+f.K,L.N=u*a+f.N,m&&(l.N<L.N&&(L.N=l.N),l.K<L.K&&(L.K=l.K),l.O>L.O&&(L.O=l.O),l.L>L.L&&(L.L=l.L)),g=L):m?g=l:this.sa&&(g=this.ea);a=g.N;m=g.O;n=g.L;g=g.K;this.sc&&!t&&(f.N<a&&(a=f.N),f.O>m&&(m=f.O),f.L>n&&(n=f.L),f.K<g&&(g=f.K));-1!==this.ka&&(t=this.la,f=this.na,0<t&&(this.width/2-t/2<a&&(a=this.width/2-t/2),this.width/2+t/2>m&&(m=this.width/2+t/2)),0<f&&(this.height/2-f/2<g&&(g=this.height/2-f/2),this.height/2+f/2>n&&(n=this.height/2+f/2)));
A?(t=q,f=h,a=this.width/2-t/2,m=this.width/2+t/2,n=this.height/2+f/2,g=this.height/2-f/2):(t=m-a+1,f=n-g+1);this.S&&(a-=n/2,t=m-g/2-a+1);0===t&&(t=1);0===f&&(f=1);b/=t;c/=f;G=Math.round(1E3*(b>c?c:b)/G)/1E3;G/=this.Ob;G<d?G=d:G>e&&(G=e);d=g-this.vb+f/2;e=a-this.Bb+t/2;H||(G=this.Gn(G));return[G,e,d]};a.prototype.Xk=function(a,b,c,d){var g=this.Wc,e=this.A,f=this.v;if(a>b){var l=b;b=a;a=l}0>a?a=0:a>=e&&(a=e-1);0>b?b=0:b>=e&&(b=e-1);a=c*e+a;b=c*e+b;e=b-15;if(0<=c&&c<f){for(;a<=e;)g[a]=d,a+=1,g[a]=d,
a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1,g[a]=d,a+=1;for(;a<=b;)g[a]=d,a+=1}};a.prototype.Yk=function(a,b,c,d){var g=this.Wc,e=this.A,f=this.v;if(b>c){var l=c;c=b;b=l}0>b?b=0:b>=f&&(b=f-1);0>c?c=0:c>=f&&(c=f-1);b=b*e+a;c=c*e+a;f=c-15*e;if(0<=a&&a<e){for(;b<=f;)g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,
g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e,g[b]=d,b+=e;for(;b<=c;)g[b]=d,b+=e}};a.prototype.Wk=function(a,b,c,d,e){var g=Math.abs(c-a),f=Math.abs(d-b),l=a<c?1:-1,L=b<d?1:-1,m=g-f,n=this.A,p=this.v,B=this.Wc;if(!(0>a&&0>c||a>=n&&c>=n||0>b&&0>d||b>=p&&d>=p))if(0<=a&&a<n&&0<=b&&b<p&&0<=c&&c<n&&0<=d&&d<p)for(B[b*n+a]=e;a!==c||b!==d;){var x=m+m;x>-f&&(m-=f,a+=l);x<g&&(m+=g,b+=L);B[b*n+a]=e}else for(0<=a&&a<n&&0<=b&&b<p&&(B[b*n+a]=e);a!==c||b!==d;)x=m+m,x>-f&&(m-=f,a+=l),x<g&&(m+=g,b+=
L),0<=a&&a<n&&0<=b&&b<p&&(B[b*n+a]=e)};a.prototype.Gh=function(a,b,c,d,e){var g=this.A/2,f=this.v/2;if(0!==this.Na){a-=g;b-=f;var l=Math.sqrt(a*a+b*b);var L=180/Math.PI*Math.atan2(b,a);L+=this.Na;a=Math.round(l*Math.cos(Math.PI/180*L)+g);b=Math.round(l*Math.sin(Math.PI/180*L)+f);c-=g;d-=f;l=Math.sqrt(c*c+d*d);L=180/Math.PI*Math.atan2(d,c);L+=this.Na;c=Math.round(l*Math.cos(Math.PI/180*L)+g);d=Math.round(l*Math.sin(Math.PI/180*L)+f)}a===c?this.Yk(a,b,d,e):b===d?this.Xk(a,c,b,e):this.Wk(a,b,c,d,e)};
a.prototype.Dd=function(){var a,b=this.A,c=this.v,d=this.gg,e=this.fg,G=this.ma,q=d,h,A,m=0<this.$e&&this.mh,n=((this.height/2-(this.$+this.vb))*G+c/2)%G,p=((this.width/2-(this.da+this.Bb))*G+b/2)%G;if(this.kb)var B=m?2:1;else B=1,m=!1,q=d=this.Nf[0];for(h=d;B;){var x=-(b/2/G)-(this.width/2-this.da-this.Bb)|0;var u=22*-G;var t=b+G+22*G;var H=n-22*G;var k=c+22*G;var r=-b/1.5;var D=b+b/1.5;var y=-c/1.5;for(A=c+c/1.5;u<=t;u+=G)if(m&&(0===x%this.$e?q=e:q=d),x+=1,q===h)if(this.S){var F=-(c/2/G)-(this.height/
2-this.$-this.vb)|0;for(a=H;a<k;a+=G)0===(F&1)?this.Gh(Math.round(u+p),Math.round(a),Math.round(u+p),Math.round(a+G-1),q):this.Gh(Math.round(u+p+G/2),Math.round(a),Math.round(u+p+G/2),Math.round(a+G-1),q),F+=1}else this.Gh(Math.round(u+p),y,Math.round(u+p),A-1,q);x=-(c/2/G)-(this.height/2-this.$-this.vb)|0;for(a=H;a<k;a+=G)m&&(0===x%this.$e?q=e:q=d),x+=1,q===h&&this.Gh(r,Math.round(a),D-1,Math.round(a),q);--B;h=e}};a.prototype.hh=function(){return 4<=this.ma};a.prototype.Gt=function(a){var b=this.la,
c=this.na,d=this.ta,e=Math.round((this.width-b)/2-1),f=e+b+1,q=Math.round((this.height-c)/2-1),h=q+c+1,A=d[q],m=d[h];if(0===b)for(b=0;b<this.width;b+=1)A[b]=a,m[b]=a;else if(0===c)for(b=0;b<this.height;b+=1)d[b][e]=a,d[b][f]=a;else{for(b=e;b<=f;b+=1)A[b]=a,m[b]=a;for(b=q+1;b<=h-1;b+=1)d[b][e]=a,d[b][f]=a}};a.prototype.sz=function(){var a=this.Nf[0],b=this.Wc,c;this.Wi&&(this.ut(),--this.Wi,this.Wi||(this.ed.set(this.xc),this.Rb.set(this.Ha),this.ld.set(this.Sc),this.Se.set(this.Yd),this.jd.set(this.Ic),
this.yf.set(this.oe)));this.ma=this.zoom*this.Ob;this.ma<ViewConstants.Wa?this.ma=ViewConstants.Wa:this.ma>ViewConstants.Hb&&(this.ma=ViewConstants.Hb);this.Ac=this.da+this.Bb;this.Bc=this.$+this.vb;this.m=this.tc/2+1;this.Na=this.S||this.ca?0:this.angle;-1!==this.ka&&this.Gt(this.yc);if(4<=this.ma&&(this.Oe&&this.S||this.ca)){var d=0;for(c=b.length;d<c;)b[d]=a,d+=1;this.Vc(1)}else this.Vk(),.125>this.ma?this.kh?this.tg(this.yg,this.bb,15):this.ug(this.bb,15):.25>this.ma?this.kh?this.tg(this.xf,this.Fa,
7):this.ug(this.Fa,7):.5>this.ma?this.kh?this.tg(this.wf,this.Ca,3):this.ug(this.Ca,3):1>this.ma?this.kh?this.tg(this.fa,this.H,1):this.ug(this.H,1):this.kh?this.tg(this.kc,this.ta,0):this.ug(this.ta,0)};a.prototype.Os=function(a,b){var c=this.A>>3,d=this.Nf,g=this.Wc,e,f,h=1,A=1,m=0,n=this.ib&~b,p=this.mb&~b,B=~b;b=~b;var x=a,u=this.ma;1<this.m&&(h=this.G);a=Math.sin(this.Na/180*Math.PI)/this.ma;var t=Math.cos(this.Na/180*Math.PI)/this.ma;var H=-(this.A/2*-a+this.v/2*t)+this.Bc;var k=-(this.A/2*
t+this.v/2*a)+this.Ac;1<this.G&&1<this.m&&(m=.4/(this.G-1),A=.6);this.Vc(A);var r=this.width<this.U?d[0]|0:this.Xj|0;var D=0;var y=H;for(e=0;e<this.v;e+=1){var F=k;for(f=0;f<c;f+=1){if((F&B)===(F&n)&&(y&b)===(y&p)){var C=x[y&p][F&n]|0;g[D]=d[C]}else g[D]=r;D+=1;F+=t;y-=a;(F&B)===(F&n)&&(y&b)===(y&p)?(C=x[y&p][F&n]|0,g[D]=d[C]):g[D]=r;D+=1;F+=t;y-=a;(F&B)===(F&n)&&(y&b)===(y&p)?(C=x[y&p][F&n]|0,g[D]=d[C]):g[D]=r;D+=1;F+=t;y-=a;(F&B)===(F&n)&&(y&b)===(y&p)?(C=x[y&p][F&n]|0,g[D]=d[C]):g[D]=r;D+=1;F+=
t;y-=a;(F&B)===(F&n)&&(y&b)===(y&p)?(C=x[y&p][F&n]|0,g[D]=d[C]):g[D]=r;D+=1;F+=t;y-=a;(F&B)===(F&n)&&(y&b)===(y&p)?(C=x[y&p][F&n]|0,g[D]=d[C]):g[D]=r;D+=1;F+=t;y-=a;(F&B)===(F&n)&&(y&b)===(y&p)?(C=x[y&p][F&n]|0,g[D]=d[C]):g[D]=r;D+=1;F+=t;y-=a;(F&B)===(F&n)&&(y&b)===(y&p)?(C=x[y&p][F&n]|0,g[D]=d[C]):g[D]=r;D+=1;F+=t;y-=a}k+=a;y=H+=t}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(r=1;r<h;r+=1){var z=2<this.g?this.g/this.G*r|0:(this.pc+1)/this.G*r|0;A+=m;this.Vc(A);a/=this.m;t/=this.m;u*=this.m;.125>
u?(x=this.bb,b=15):.25>u?(x=this.Fa,b=7):.5>u?(x=this.Ca,b=3):1>u?(x=this.H,b=1):(x=this.ta,b=0);n=this.ib&~b;p=this.mb&~b;B=~b;b=~b;H=-(this.A/2*-a+this.v/2*t)+this.Bc;k=-(this.A/2*t+this.v/2*a)+this.Ac;D=0;y=H;for(e=0;e<this.v;e+=1){F=k;for(f=0;f<c;f+=1)(F&B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a,(F&B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a,(F&B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a,(F&
B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a,(F&B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a,(F&B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a,(F&B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a,(F&B)===(F&n)&&(y&b)===(y&p)&&(C=x[y&p][F&n]|0,C>=z&&(g[D]=d[C])),D+=1,F+=t,y-=a;k+=a;y=H+=t}}};a.prototype.Ps=function(a,b){var c=this.A>>3,d=this.Nf,g=this.Wc,e,f,h=1,A=1,m=0,n=this.ib&
~b,p=this.mb&~b,B=~b;b=~b;var x=a,u=this.ma;1<this.m&&(h=this.G);a=1/this.ma;var t=-(this.v/2*a)+this.Bc;var H=-(this.A/2*a)+this.Ac;1<this.G&&1<this.m&&(m=.4/(this.G-1),A=.6);this.Vc(A);var k=this.width<this.U?d[0]|0:this.Xj|0;var r=0;var D=t;for(e=0;e<this.v;e+=1){if((D&b)===(D&p)){var y=x[D&p];var F=H;this.S&&(F+=.5*(D|0));for(f=0;f<c;f+=1){if((F&B)===(F&n)){var C=y[F&n]|0;g[r]=d[C]}else g[r]=k;r+=1;F+=a;(F&B)===(F&n)?(C=y[F&n]|0,g[r]=d[C]):g[r]=k;r+=1;F+=a;(F&B)===(F&n)?(C=y[F&n]|0,g[r]=d[C]):
g[r]=k;r+=1;F+=a;(F&B)===(F&n)?(C=y[F&n]|0,g[r]=d[C]):g[r]=k;r+=1;F+=a;(F&B)===(F&n)?(C=y[F&n]|0,g[r]=d[C]):g[r]=k;r+=1;F+=a;(F&B)===(F&n)?(C=y[F&n]|0,g[r]=d[C]):g[r]=k;r+=1;F+=a;(F&B)===(F&n)?(C=y[F&n]|0,g[r]=d[C]):g[r]=k;r+=1;F+=a;(F&B)===(F&n)?(C=y[F&n]|0,g[r]=d[C]):g[r]=k;r+=1;F+=a}}else for(f=0;f<c;f+=1)g[r]=k,r+=1,g[r]=k,r+=1,g[r]=k,r+=1,g[r]=k,r+=1,g[r]=k,r+=1,g[r]=k,r+=1,g[r]=k,r+=1,g[r]=k,r+=1;D=t+=a}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(k=1;k<h;k+=1){var z=2<this.g?this.g/this.G*
k|0:(this.pc+1)/this.G*k|0;A+=m;this.Vc(A);a/=this.m;u*=this.m;.125>u?(x=this.bb,b=15):.25>u?(x=this.Fa,b=7):.5>u?(x=this.Ca,b=3):1>u?(x=this.H,b=1):(x=this.ta,b=0);n=this.ib&~b;p=this.mb&~b;B=~b;b=~b;t=-(this.v/2*a)+this.Bc;H=-(this.A/2*a)+this.Ac;r=0;D=t;for(e=0;e<this.v;e+=1){if((D&b)===(D&p))for(y=x[D&p],F=H,this.S&&(F+=.5*(D|0)),f=0;f<c;f+=1)(F&B)===(F&n)&&(C=y[F&n]|0,C>=z&&(g[r]=d[C])),r+=1,F+=a,(F&B)===(F&n)&&(C=x[D&p][F&n]|0,C>=z&&(g[r]=d[C])),r+=1,F+=a,(F&B)===(F&n)&&(C=x[D&p][F&n]|0,C>=
z&&(g[r]=d[C])),r+=1,F+=a,(F&B)===(F&n)&&(C=x[D&p][F&n]|0,C>=z&&(g[r]=d[C])),r+=1,F+=a,(F&B)===(F&n)&&(C=x[D&p][F&n]|0,C>=z&&(g[r]=d[C])),r+=1,F+=a,(F&B)===(F&n)&&(C=x[D&p][F&n]|0,C>=z&&(g[r]=d[C])),r+=1,F+=a,(F&B)===(F&n)&&(C=x[D&p][F&n]|0,C>=z&&(g[r]=d[C])),r+=1,F+=a,(F&B)===(F&n)&&(C=x[D&p][F&n]|0,C>=z&&(g[r]=d[C])),r+=1,F+=a;else r+=c<<3;D=t+=a}}};a.prototype.lp=function(a,b){var c=this.A>>3,d=this.Nf,g=this.Wc,e,f,h=1,A=1,m=0,n=this.ib&~b;b=this.mb&~b;var p=a,B=this.ma;1<this.m&&(h=this.G);var x=
Math.sin(this.Na/180*Math.PI)/this.ma;var u=Math.cos(this.Na/180*Math.PI)/this.ma;var t=-(this.A/2*-x+this.v/2*u)+this.Bc;var H=-(this.A/2*u+this.v/2*x)+this.Ac;1<this.G&&1<this.m&&(m=.4/(this.G-1),A=.6);this.Vc(A);var k=0;var r=t;for(e=0;e<this.v;e+=1){var D=H;for(f=0;f<c;f+=1){var y=p[r&b][D&n]|0;g[k]=d[y];k+=1;D+=u;r-=x;y=p[r&b][D&n]|0;g[k]=d[y];k+=1;D+=u;r-=x;y=p[r&b][D&n]|0;g[k]=d[y];k+=1;D+=u;r-=x;y=p[r&b][D&n]|0;g[k]=d[y];k+=1;D+=u;r-=x;y=p[r&b][D&n]|0;g[k]=d[y];k+=1;D+=u;r-=x;y=p[r&b][D&n]|
0;g[k]=d[y];k+=1;D+=u;r-=x;y=p[r&b][D&n]|0;g[k]=d[y];k+=1;D+=u;r-=x;y=p[r&b][D&n]|0;g[k]=d[y];k+=1;D+=u;r-=x}H+=x;r=t+=u}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(a=1;a<h;a+=1){var F=2<this.g?this.g/this.G*a|0:(this.pc+1)/this.G*a|0;A+=m;this.Vc(A);x/=this.m;u/=this.m;B*=this.m;.125>B?(p=this.bb,b=15):.25>B?(p=this.Fa,b=7):.5>B?(p=this.Ca,b=3):1>B?(p=this.H,b=1):(p=this.ta,b=0);n=this.ib&~b;b=this.mb&~b;t=-(this.A/2*-x+this.v/2*u)+this.Bc;H=-(this.A/2*u+this.v/2*x)+this.Ac;k=0;r=t;for(e=0;e<this.v;e+=
1){D=H;for(f=0;f<c;f+=1)y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x,y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x,y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x,y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x,y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x,y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x,y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x,y=p[r&b][D&n]|0,y>=F&&(g[k]=d[y]),k+=1,D+=u,r-=x;H+=x;r=t+=u}}};a.prototype.mp=function(a,b){var c=this.A>>3,d=this.Nf,g=this.Wc,e,f=1,
h=1,A=0,m=this.ib&~b;b=this.mb&~b;var n=a,p=this.ma;1<this.m&&(f=this.G);var B=1/this.ma;var x=-(this.v/2*B)+this.Bc;var u=-(this.A/2*B)+this.Ac;1<this.G&&1<this.m&&(A=.4/(this.G-1),h=.6);this.Vc(h);var t=0;var H=x;for(e=0;e<this.v;e+=1){var k=n[H&b];var r=u;this.S&&(r+=.5*(H|0));for(H=0;H<c;H+=1){var D=k[r&m]|0;g[t]=d[D];t+=1;r+=B;D=k[r&m]|0;g[t]=d[D];t+=1;r+=B;D=k[r&m]|0;g[t]=d[D];t+=1;r+=B;D=k[r&m]|0;g[t]=d[D];t+=1;r+=B;D=k[r&m]|0;g[t]=d[D];t+=1;r+=B;D=k[r&m]|0;g[t]=d[D];t+=1;r+=B;D=k[r&m]|0;g[t]=
d[D];t+=1;r+=B;D=k[r&m]|0;g[t]=d[D];t+=1;r+=B}H=x+=B}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(a=1;a<f;a+=1){var y=2<this.g?this.g/this.G*a|0:(this.pc+1)/this.G*a|0;h+=A;this.Vc(h);B/=this.m;p*=this.m;.125>p?(n=this.bb,b=15):.25>p?(n=this.Fa,b=7):.5>p?(n=this.Ca,b=3):1>p?(n=this.H,b=1):(n=this.ta,b=0);m=this.ib&~b;b=this.mb&~b;x=-(this.v/2*B)+this.Bc;u=-(this.A/2*B)+this.Ac;t=0;H=x;for(e=0;e<this.v;e+=1){k=n[H&b];r=u;this.S&&(r+=.5*(H|0));for(H=0;H<c;H+=1)D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B,
D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B,D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B,D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B,D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B,D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B,D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B,D=k[r&m]|0,D>=y&&(g[t]=d[D]),t+=1,r+=B;H=x+=B}}};a.prototype.ug=function(a,b){var c=Math.sin(this.Na/180*Math.PI)/this.ma,d=Math.cos(this.Na/180*Math.PI)/this.ma,g=this.A,e=this.v,f=-(this.A/2*-c+this.v/2*d)+this.Bc,h=-(this.A/2*d+this.v/2*c)+this.Ac,A=f+g*-c,m=h+g*d,
n=f+e*d;e=h+e*c;c=n+g*-c;d=e+g*d;g=f;var p=h;m<p&&(p=m);e<p&&(p=e);d<p&&(p=e);m>h&&(h=m);e>h&&(h=e);d>h&&(h=d);A<g&&(g=A);n<g&&(g=n);c<g&&(g=c);A>f&&(f=A);n>f&&(f=n);c>f&&(f=c);0>(p|0)||(h|0)>=this.width||0>(g|0)||(f|0)>=this.height?0===this.Na?this.Ps(a,b):this.Os(a,b):0===this.Na?this.mp(a,b):this.lp(a,b)};a.prototype.ps=function(a,b,c){var d=this.A>>3,g=this.Nf,e=this.Wc,f,h;var l=ViewConstants.hb[3]+128;var m=ViewConstants.hb[4]+128,n=ViewConstants.hb[5]+128,p=ViewConstants.hb[6]+128,B=1,x=1,
u=0,t=this.cb,H=this.ib&~c,k=this.mb&~c,r=~c;c=~c;var D=b,y=this.ma;1<this.m&&(B=this.G);b=Math.sin(this.Na/180*Math.PI)/this.ma;var F=Math.cos(this.Na/180*Math.PI)/this.ma;var C=-(this.A/2*-b+this.v/2*F)+this.Bc;var z=-(this.A/2*F+this.v/2*b)+this.Ac;1<this.G&&1<this.m&&(u=.4/(this.G-1),x=.6);this.Vc(x);var E=this.width<this.U?g[0]|0:this.Xj|0;var v=0;var w=C;for(f=0;f<this.v;f+=1){var M=z;for(h=0;h<d;h+=1){if((M&r)===(M&H)&&(w&c)===(w&k)){var K=D[w&k][M&H];var S=a[w&k][M&H];S===m||S===p?(K>=t&&
(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0;e[v]=K}else e[v]=E;v+=1;M+=F;w-=b;(M&r)===(M&H)&&(w&c)===(w&k)?(K=D[w&k][M&H],S=a[w&k][M&H],S===m||S===p?(K>=t&&(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0,e[v]=K):e[v]=E;v+=1;M+=F;w-=b;(M&r)===(M&H)&&(w&c)===(w&k)?(K=D[w&k][M&H],S=a[w&k][M&H],S===m||S===p?(K>=t&&(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0,e[v]=K):e[v]=E;v+=1;M+=F;w-=b;(M&r)===(M&H)&&(w&c)===(w&k)?(K=D[w&k][M&H],S=a[w&k][M&H],S===m||S===p?
(K>=t&&(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0,e[v]=K):e[v]=E;v+=1;M+=F;w-=b;(M&r)===(M&H)&&(w&c)===(w&k)?(K=D[w&k][M&H],S=a[w&k][M&H],S===m||S===p?(K>=t&&(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0,e[v]=K):e[v]=E;v+=1;M+=F;w-=b;(M&r)===(M&H)&&(w&c)===(w&k)?(K=D[w&k][M&H],S=a[w&k][M&H],S===m||S===p?(K>=t&&(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0,e[v]=K):e[v]=E;v+=1;M+=F;w-=b;(M&r)===(M&H)&&(w&c)===(w&k)?(K=D[w&k][M&H],S=a[w&k][M&H],S===m||S===
p?(K>=t&&(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0,e[v]=K):e[v]=E;v+=1;M+=F;w-=b;(M&r)===(M&H)&&(w&c)===(w&k)?(K=D[w&k][M&H],S=a[w&k][M&H],S===m||S===p?(K>=t&&(S=l),K=g[S]|0):S===l||S===n?(K<t&&(S=m),K=g[S]|0):K=g[K]|0,e[v]=K):e[v]=E;v+=1;M+=F;w-=b}z+=b;w=C+=F}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(a=1;a<B;a+=1)for(l=2<this.g?this.g/this.G*a|0:(this.pc+1)/this.G*a|0,x+=u,this.Vc(x),b/=this.m,F/=this.m,y*=this.m,.125>y?(D=this.bb,c=15):.25>y?(D=this.Fa,c=7):.5>y?(D=this.Ca,
c=3):1>y?(D=this.H,c=1):(D=this.ta,c=0),H=this.ib&~c,k=this.mb&~c,r=~c,c=~c,C=-(this.A/2*-b+this.v/2*F)+this.Bc,z=-(this.A/2*F+this.v/2*b)+this.Ac,v=0,w=C,f=0;f<this.v;f+=1){M=z;for(h=0;h<d;h+=1)(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),v+=1,M+=F,w-=b,(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),v+=1,M+=F,w-=b,(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),v+=1,M+=F,w-=b,(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),
v+=1,M+=F,w-=b,(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),v+=1,M+=F,w-=b,(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),v+=1,M+=F,w-=b,(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),v+=1,M+=F,w-=b,(M&r)===(M&H)&&(w&c)===(w&k)&&(K=D[w&k][M&H]|0,K>=l&&(e[v]=g[K])),v+=1,M+=F,w-=b;z+=b;w=C+=F}};a.prototype.Js=function(a,b,c){var d=this.A>>3,e=this.Nf,g=this.Wc,f,h;var l=ViewConstants.hb[3]+128;var m=ViewConstants.hb[4]+128,n=ViewConstants.hb[5]+
128,p=ViewConstants.hb[6]+128,B=1,x=1,u=0,t=this.cb,H=this.ib&~c;c=this.mb&~c;var k=b,r=this.ma;1<this.m&&(B=this.G);b=Math.sin(this.Na/180*Math.PI)/this.ma;var D=Math.cos(this.Na/180*Math.PI)/this.ma;var y=-(this.A/2*-b+this.v/2*D)+this.Bc;var F=-(this.A/2*D+this.v/2*b)+this.Ac;1<this.G&&1<this.m&&(u=.4/(this.G-1),x=.6);this.Vc(x);var C=0;var z=y;for(f=0;f<this.v;f+=1){var E=F;for(h=0;h<d;h+=1){var v=k[z&c][E&H];var w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|
0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b;v=k[z&c][E&H];w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b;v=k[z&c][E&H];w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b;v=k[z&c][E&H];w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b;v=k[z&c][E&H];w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?
(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b;v=k[z&c][E&H];w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b;v=k[z&c][E&H];w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b;v=k[z&c][E&H];w=a[z&c][E&H];w===m||w===p?(v>=t&&(w=l),v=e[w]|0):w===l||w===n?(v<t&&(w=m),v=e[w]|0):v=e[v]|0;g[C]=v;C+=1;E+=D;z-=b}F+=b;z=y+=D}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(a=
1;a<B;a+=1)for(l=2<this.g?this.g/this.G*a|0:(this.pc+1)/this.G*a|0,x+=u,this.Vc(x),b/=this.m,D/=this.m,r*=this.m,.125>r?(k=this.bb,c=15):.25>r?(k=this.Fa,c=7):.5>r?(k=this.Ca,c=3):1>r?(k=this.H,c=1):(k=this.ta,c=0),H=this.ib&~c,c=this.mb&~c,y=-(this.A/2*-b+this.v/2*D)+this.Bc,F=-(this.A/2*D+this.v/2*b)+this.Ac,C=0,z=y,f=0;f<this.v;f+=1){E=F;for(h=0;h<d;h+=1)v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,z-=b,v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,z-=b,v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,
z-=b,v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,z-=b,v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,z-=b,v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,z-=b,v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,z-=b,v=k[z&c][E&H]|0,v>=l&&(g[C]=e[v]),C+=1,E+=D,z-=b;F+=b;z=y+=D}};a.prototype.Ms=function(a,b,c){var d=this.A>>3,e=this.Nf,g=this.Wc,f;var h=ViewConstants.hb[3]+128;var l=ViewConstants.hb[4]+128,m=ViewConstants.hb[5]+128,n=ViewConstants.hb[6]+128,p=1,B=1,x=0,u=this.cb,t=this.ib&~c;c=this.mb&~c;var H=b,
k=this.ma;1<this.m&&(p=this.G);b=1/this.ma;var r=-(this.v/2*b)+this.Bc;var D=-(this.A/2*b)+this.Ac;1<this.G&&1<this.m&&(x=.4/(this.G-1),B=.6);this.Vc(B);var y=0;var F=r;for(f=0;f<this.v;f+=1){var C=H[F&c];var z=a[F&c];var E=D;this.S&&(E+=.5*(F|0));for(F=0;F<d;F+=1){var v=C[E&t];var w=z[E&t];w===l||w===n?(v>=u&&(w=h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=b;v=C[E&t];w=z[E&t];w===l||w===n?(v>=u&&(w=h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=
b;v=C[E&t];w=z[E&t];w===l||w===n?(v>=u&&(w=h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=b;v=C[E&t];w=z[E&t];w===l||w===n?(v>=u&&(w=h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=b;v=C[E&t];w=z[E&t];w===l||w===n?(v>=u&&(w=h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=b;v=C[E&t];w=z[E&t];w===l||w===n?(v>=u&&(w=h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=b;v=C[E&t];w=z[E&t];w===l||w===n?(v>=u&&(w=
h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=b;v=C[E&t];w=z[E&t];w===l||w===n?(v>=u&&(w=h),v=e[w]|0):w===h||w===m?(v<u&&(w=l),v=e[w]|0):v=e[v]|0;g[y]=v;y+=1;E+=b}F=r+=b}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(a=1;a<p;a+=1)for(h=2<this.g?this.g/this.G*a|0:(this.pc+1)/this.G*a|0,B+=x,this.Vc(B),b/=this.m,k*=this.m,.125>k?(H=this.bb,c=15):.25>k?(H=this.Fa,c=7):.5>k?(H=this.Ca,c=3):1>k?(H=this.H,c=1):(H=this.ta,c=0),t=this.ib&~c,c=this.mb&~c,r=-(this.v/2*b)+this.Bc,D=-(this.A/
2*b)+this.Ac,y=0,F=r,f=0;f<this.v;f+=1){C=H[F&c];E=D;this.S&&(E+=.5*(F|0));for(F=0;F<d;F+=1)v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b,v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b,v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b,v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b,v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b,v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b,v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b,v=C[E&t]|0,v>=h&&(g[y]=e[v]),y+=1,E+=b;F=r+=b}};a.prototype.ys=function(a,b,c){var d=this.A>>3,e=this.Nf,g=this.Wc,f;var h=ViewConstants.hb[3]+
128;var l=ViewConstants.hb[4]+128,m=ViewConstants.hb[5]+128,n=ViewConstants.hb[6]+128,p=1,B=1,x=0,u=this.cb,t=this.ib&~c,H=this.mb&~c,k=~c;c=~c;var r=b,D=this.ma;1<this.m&&(p=this.G);b=1/this.ma;var y=-(this.v/2*b)+this.Bc;var F=-(this.A/2*b)+this.Ac;1<this.G&&1<this.m&&(x=.4/(this.G-1),B=.6);this.Vc(B);var C=this.width<this.U?e[0]|0:this.Xj|0;var z=0;var E=y;for(f=0;f<this.v;f+=1){if((E&c)===(E&H)){var v=r[E&H];var w=a[E&H];var M=F;this.S&&(M+=.5*(E|0));for(E=0;E<d;E+=1){if((M&k)===(M&t)){var K=
v[M&t];var S=w[M&t];S===l||S===n?(K>=u&&(S=h),K=e[S]|0):S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=e[K]|0}else K=C;g[z]=K;z+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=u&&(S=h),K=e[S]|0):S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=e[K]|0):K=C;g[z]=K;z+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=u&&(S=h),K=e[S]|0):S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=e[K]|0):K=C;g[z]=K;z+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=u&&(S=h),K=e[S]|0):S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=
e[K]|0):K=C;g[z]=K;z+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=u&&(S=h),K=e[S]|0):S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=e[K]|0):K=C;g[z]=K;z+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=u&&(S=h),K=e[S]|0):S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=e[K]|0):K=C;g[z]=K;z+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=u&&(S=h),K=e[S]|0):S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=e[K]|0):K=C;g[z]=K;z+=1;M+=b;(M&k)===(M&t)?(K=v[M&t],S=w[M&t],S===l||S===n?(K>=u&&(S=h),K=e[S]|0):
S===h||S===m?(K<u&&(S=l),K=e[S]|0):K=e[K]|0):K=C;g[z]=K;z+=1;M+=b}}else for(E=0;E<d;E+=1)g[z]=C,z+=1,g[z]=C,z+=1,g[z]=C,z+=1,g[z]=C,z+=1,g[z]=C,z+=1,g[z]=C,z+=1,g[z]=C,z+=1,g[z]=C,z+=1;E=y+=b}(this.kb||this.Cc)&&this.hh()&&this.Dd();for(a=1;a<p;a+=1)for(h=2<this.g?this.g/this.G*a|0:(this.pc+1)/this.G*a|0,B+=x,this.Vc(B),b/=this.m,D*=this.m,.125>D?(r=this.bb,c=15):.25>D?(r=this.Fa,c=7):.5>D?(r=this.Ca,c=3):1>D?(r=this.H,c=1):(r=this.ta,c=0),t=this.ib&~c,H=this.mb&~c,k=~c,c=~c,y=-(this.v/2*b)+this.Bc,
F=-(this.A/2*b)+this.Ac,z=0,E=y,f=0;f<this.v;f+=1){if((E&c)===(E&H))for(v=r[E&H],M=F,this.S&&(M+=.5*(E|0)),E=0;E<d;E+=1)(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),z+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),z+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),z+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),z+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),z+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),z+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),
z+=1,M+=b,(M&k)===(M&t)&&(K=v[M&t]|0,K>=h&&(g[z]=e[K])),z+=1,M+=b;else z+=d<<3;E=y+=b}};a.prototype.tg=function(a,b,c){var d=Math.sin(this.Na/180*Math.PI)/this.ma,e=Math.cos(this.Na/180*Math.PI)/this.ma,g=this.A,f=this.v,h=-(this.A/2*-d+this.v/2*e)+this.Bc,l=-(this.A/2*e+this.v/2*d)+this.Ac,m=h+g*-d,n=l+g*e,p=h+f*e;f=l+f*d;d=p+g*-d;e=f+g*e;g=h;var B=l;n<B&&(B=n);f<B&&(B=f);e<B&&(B=f);n>l&&(l=n);f>l&&(l=f);e>l&&(l=e);m<g&&(g=m);p<g&&(g=p);d<g&&(g=d);m>h&&(h=m);p>h&&(h=p);d>h&&(h=d);0>(B|0)||(l|0)>=
this.width||0>(g|0)||(h|0)>=this.height?0===this.Na?this.ys(a,b,c):this.ps(a,b,c):0===this.Na?this.Ms(a,b,c):this.Js(a,b,c)};a.prototype.Dn=function(){var a;if(!this.Ed.data.buffer){var b=this.Ed.data;var c=this.Jh;var d=c.length;for(a=0;a<d;)b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1,b[a]=c[a],a+=1}this.context.putImageData(this.Ed,0,0)};a.prototype.Sk=function(){var a,b=0,c=this.v,d=this.A,e=this.Wc,G=this.$g;for(a=0;a<c;a+=1)e.set(G,b),b+=d};window.LifeConstants=e;window.Life=a})();(function(){function d(c){this.source=c.replace(/&amp;/gi,"&");this.f=this.source.match(/\S+/g);this.current=0}d.prototype.Y=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current],this.current+=1);return c};d.prototype.ua=function(){var c="";this.f&&this.current<this.f.length&&(c=this.f[this.current]);return c};d.prototype.Jt=function(){var c=Keywords.xj,b=!1;if(this.f)for(;this.current<this.f.length&&!b;)this.f[this.current]===c&&(b=!0),this.current+=1;return b};d.prototype.i=
function(c){return!isNaN(parseFloat(c))&&isFinite(Number(c))};d.prototype.m=function(c){var b=!1,a=c.indexOf("/");-1!==a&&(b=c.substr(0,a),c=c.substr(a+1),b=this.i(b)&&this.i(c));return b};d.prototype.H=function(c){var b=0;if(this.m(c)){var a=c.indexOf("/");var d=c.substr(0,a);c=c.substr(a+1);0!==Number(c)&&(b=Number(d)/Number(c))}else this.i(c)&&(b=parseFloat(c));return b};d.prototype.I=function(){var c=this.Y();return this.H(c)};d.prototype.J=function(){var c=!1;if(this.f&&this.current<this.f.length){var b=
this.f[this.current];this.m(b)?c=!0:c=this.i(b)}return c};window.Script=d})();(function(){function d(a){this.m=a;this.vj=this.Ef=!1;this.Ce=f.hr;this.Mg=f.vk;this.oa=this.yb=-1;this.angle=this.y=this.x=0;this.depth=this.G=this.zoom=1;this.ob=0;this.lb=60;this.step=1;this.ec=this.ab=0;this.yd="";this.jm=this.jj=this.To=this.Pm=this.Hh=this.Fh=this.es=this.Av=this.ym=this.ki=this.Gi=this.Qf=this.zf=this.Td=this.vf=this.Ff=this.Gc=this.pf=this.Wd=this.le=this.qc=this.Ci=this.mf=this.lf=this.kf=this.od=!1}function c(a,b,c,d,e,f,h,A,m,n,p,B,x,u,t,H,k){this.coords=a;this.Jq=b;this.zoom=
c;this.te=d;this.alpha=e;this.size=f;this.$a=h;this.Le=A;this.dc=m;this.angle=n;this.Ph=p;this.xi=B;this.Ji=x;this.Ki=u;this.xd=t;this.Xh=H;this.Yh=k}function b(a,b,c,d,e,f,h,A,m,n,p,B,x,u,t,H,k,r,D,y){this.Ls=a;this.Ns=b;this.cw=c;this.dw=d;this.zoom=e;this.te=f;this.alpha=h;this.size=A;this.Yt=m;this.$a=n;this.Le=p;this.dc=B;this.angle=x;this.Ph=u;this.xi=t;this.Ji=H;this.Ki=k;this.xd=r;this.Xh=D;this.Yh=y}function a(a,b,c,d,e,f,h,A,m,n,p,B,x,u,t,H,k){this.message="";this.x=a;this.y=b;this.zoom=
c;this.te=d;this.alpha=e;this.size=f;this.$a=h;this.Le=A;this.dc=m;this.angle=n;this.Ph=p;this.xi=B;this.Ji=x;this.Ki=u;this.xd=t;this.Xh=H;this.Yh=k}function e(){this.ja=[];this.wb=[];this.rd=[];this.nd=[];this.vd=[];this.current=new d(this);this.va=new d(this);this.i=new d(this);this.m=!1;this.xh=0;this.H=!1}var f={hr:0,play:1,stop:2,vk:12,Su:0,Ru:200};d.prototype.set=function(a){this.Ef=a.Ef;this.vj=a.vj;this.Ce=a.Ce;this.Mg=a.Mg;this.yb=a.yb;this.oa=a.oa;this.x=a.x;this.y=a.y;this.kf=a.kf;this.lf=
a.lf;this.mf=a.mf;this.od=a.od;this.angle=a.angle;this.zoom=a.zoom;this.G=a.G;this.depth=a.depth;this.ob=a.ob;this.lb=a.lb;this.ab=a.ab;this.ec=a.ec;this.yd=a.yd;this.Ci=a.Ci;this.qc=a.qc};d.prototype.f=function(){var a="";switch(this.Ce){case f.play:a=Keywords.wk;break;case f.stop:a=Keywords.xk}return a};d.prototype.bA=function(a){this.Ef?(this.Ce!==f.hr&&(a[a.length]=[Keywords.wk,"overwrites "+this.f()]),this.Ce=f.play):a[a.length]=[Keywords.wk,"only valid at POI"]};d.prototype.dA=function(a){this.Ef?
(this.Ce!==f.hr&&(a[a.length]=[Keywords.xk,"overwrites "+this.f()]),this.Ce=f.stop):a[a.length]=[Keywords.xk,"only valid at POI"]};d.prototype.cA=function(a){this.Ef?(this.vj&&(a[a.length]=[Keywords.fm,"already defined"]),this.vj=!0):a[a.length]=[Keywords.fm,"only valid at POI"]};d.prototype.gA=function(a,b){this.Ef?(this.Mg!==f.vk&&(b[b.length]=[Keywords.gm+" "+a,"overwrites "+this.Mg]),this.Mg=a):b[b.length]=[Keywords.gm,"only valid at POI"]};d.prototype.i=function(a,b,c){var d=a.ec+0,e=b.ec+0,
g=a.angle+0,f=b.angle+0,l=1,m=1,n=1,p=1,B=1;c>e&&(c=e);e-d===ViewConstants.kA&&(d=e);e!==d&&(l=Math.round((c-d)/(e-d)*1E6)/1E6,m=this.m.bt(l)+0);b.kf||b.od?n=l:n=m;b.lf||b.od?p=l:p=m;b.mf||b.od?B=l:B=m;this.x=a.x+n*(b.x-a.x);this.y=a.y+p*(b.y-a.y);this.zoom=a.zoom*Math.pow(b.zoom/a.zoom,B);180<f-g?g+=360:-180>f-g&&(f+=360);this.angle=(g+m*(f-g))%360;this.G=a.G+l*(b.G-a.G)|0;this.depth=a.depth+l*(b.depth-a.depth);this.ob=b.ob;this.lb=b.lb;this.step=b.step;this.ab=a.ab+l*(b.ab-a.ab)|0;this.ec=c;this.yd=
b.yd;this.od=b.od};e.prototype.sx=function(a,b,d,e,f,q,h,A,m,n,p,B,x,u,t,H,k){return new c(a,b,d,e,f,q,h,A,m,n,p,B,x,u,t,H,k)};e.prototype.Ha=function(){this.vd=[]};e.prototype.Gw=function(a){this.vd[this.vd.length]=a};e.prototype.lx=function(a,c,d,e,f,q,h,A,m,n,p,B,x,u,t,H,k,r,D,y){return new b(a,c,d,e,f,q,h,A,m,n,p,B,x,u,t,H,k,r,D,y)};e.prototype.Ca=function(){this.nd=[]};e.prototype.Cw=function(a){this.nd[this.nd.length]=a};e.prototype.px=function(b,c,d,e,f,q,h,A,m,n,p,B,x,u,t,H,k){return new a(b,
c,d,e,f,q,h,A,m,n,p,B,x,u,t,H,k)};e.prototype.Fa=function(){this.rd=[]};e.prototype.Rs=function(a){this.rd[this.rd.length]=a};e.prototype.Xl=function(){return this.rd.length+this.nd.length+this.vd.length};e.prototype.bx=function(){this.Fa();this.Ca();this.Ha()};e.prototype.az=function(a){var b="",c="";0<=a&&a<this.vd.length&&(a=this.vd[a],a.xi&&(c="*"),b=a.Jq?"FILL\t":"LINE\t",b+="X1"+c+" "+a.coords[0]+"\tY1"+c+" "+a.coords[1]);return b};e.prototype.bz=function(a){var b="",c="";0<=a&&a<this.vd.length&&
(b=this.vd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Ph&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};e.prototype.cz=function(a){var b="";0<=a&&a<this.vd.length&&(a=this.vd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Le,0<a.dc&&(b+="\tFade "+a.dc)));return b};e.prototype.dz=function(a){var b="";0<=a&&a<this.vd.length&&(b=this.vd[a].te);return b};e.prototype.Mw=function(a){var b="",c="";0<=a&&a<this.nd.length&&(a=this.nd[a],a.xi&&(c="*"),b="X1"+c+" "+a.Ls+
"\tY1"+c+" "+a.Ns,b+="\tX2"+c+" "+a.cw+"\tY2"+c+" "+a.dw);return b};e.prototype.Nw=function(a){var b="",c="";0<=a&&a<this.nd.length&&(b=this.nd[a],a=b.zoom,0<=a&&1>a&&(a=-1/a),b.Ph&&(c="*"),b="Z "+a.toFixed(1)+"\tA"+c+" "+b.angle.toFixed(1));return b};e.prototype.Ow=function(a){var b="";0<=a&&a<this.nd.length&&(a=this.nd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Le,0<a.dc&&(b+="\tFade "+a.dc)));return b};e.prototype.Um=function(a){var b="";0<=a&&a<this.nd.length&&(b=this.nd[a].te);
return b};e.prototype.sy=function(a){var b="",c="",d="";if(0<=a&&a<this.rd.length){var e=this.rd[a];a=e.zoom;0<=a&&1>a&&(a=-1/a);e.xi&&(c="*");e.Ph&&(d="*");b="X"+c+" "+e.x+"\tY"+c+" "+e.y;b+="\tZ "+a.toFixed(1)+"\tA"+d+" "+e.angle.toFixed(1)}return b};e.prototype.ty=function(a){var b="";0<=a&&a<this.rd.length&&(a=this.rd[a],b="Alpha "+a.alpha.toFixed(1),-1!==a.$a&&(b+="\tT1 "+a.$a+"\tT2 "+a.Le,0<a.dc&&(b+="\tFade "+a.dc)));return b};e.prototype.uy=function(a){var b="";0<=a&&a<this.rd.length&&(a=
this.rd[a],b="Size "+a.size+'\t"'+a.message+'"');return b};e.prototype.vy=function(a){var b="";0<=a&&a<this.rd.length&&(b=this.rd[a].te);return b};e.prototype.Lb=function(){this.rd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.Rb=function(){this.nd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.Yb=function(){this.vd.sort(function(a,b){return a.zoom-b.zoom})};e.prototype.mA=function(){this.Lb();this.Rb();this.Yb()};e.prototype.W=function(a,b){var c,d=a.a,e=d.context,g=d.width/2-d.da-
d.Bb,f=d.height/2-d.$-d.vb,l=d.zoom*d.Ob,m=d.A/2,n=d.v/2,p=a.a.s,B=d.S?-(d.height>>2):0,x=0,u=0,t=0,H=0,k=0;d.S&&(g+=f/2);b&&(e.strokeStyle=ViewConstants.Qw);for(c=0;c<this.nd.length;c+=1){var r=this.nd[c];var D=!0;-1!==r.$a&&(p<r.$a||p>r.Le)&&(D=!1);if(D){var y=r.size*l/r.zoom;var F=r.size/4;var C=4*r.size;b&&(x=1,24<=y&&(x=2,48<=y&&(x=3)));if(y>=F&&y<=C){F=Math.log(y/F)/Math.log(C/F);F=.25>=F?4*F:.75<=F?4*(1-F):1;C=1;-1!==r.$a&&0<r.dc&&(p-r.$a<r.dc?C=(p-r.$a+1)/r.dc:r.Le-p<r.dc&&(C=(r.Le-p+1)/r.dc));
D=!0;var z=1;if(-1!==r.xd){var E=Math.sqrt((-(g+B)-r.Ji)*(-(g+B)-r.Ji)+(-f-r.Ki)*(-f-r.Ki));E>r.xd?D=!1:0<r.xd&&.75<E/r.xd&&(z=4*(1-E/r.xd))}D&&(e.globalAlpha=F*r.alpha*C*z,z=r.Ns+f-(a.Kg>>1)+.5,F=r.Ls+g+B-(a.pg>>1)+.5,r.xi||(F+=d.Bb,z+=d.vb),-1!==r.$a?(F+=r.Xh*(a.Ga-r.$a),z+=r.Yh*(a.Ga-r.$a)):(F+=r.Xh*a.Ga,z+=r.Yh*a.Ga),0!==d.Na&&(C=Math.sqrt(F*F+z*z),D=180/Math.PI*Math.atan2(z,F),D+=d.Na,F=C*Math.cos(Math.PI/180*D),z=C*Math.sin(Math.PI/180*D)),d.S&&(F-=z/2),D=z*l+n,E=F*l+m,F=(r.cw-r.Ls)*l,C=(r.dw-
r.Ns)*l,d.S&&(F-=C/2),z=0===r.Yt?0:Math.sqrt(F*F+C*C)*r.Yt,e.save(),e.translate(E,D),D=r.angle,r.Ph||(D+=d.Na),e.rotate(D/180*Math.PI),e.lineWidth=y,b||(e.strokeStyle=r.te),e.lineCap="round",e.lineJoin="round",0<z&&(r=Math.atan2(C,F),u=Math.cos(.85*Math.PI+r),t=Math.sin(.85*Math.PI+r),H=Math.cos(.85*-Math.PI+r),k=Math.sin(.85*-Math.PI+r)),0<x&&e.translate(x,x),e.beginPath(),e.moveTo(0,0),e.lineTo(F,C),0<z&&(e.moveTo(F,C),e.lineTo(F+z*u,C+z*t),e.moveTo(F,C),e.lineTo(F+z*H,C+z*k)),e.stroke(),e.restore())}}}e.globalAlpha=
1};e.prototype.Sa=function(a){this.W(a,!0);this.W(a,!1)};e.prototype.fa=function(a,b){var c,d=a.a,e=d.context,g=d.width/2-d.da-d.Bb,f=d.height/2-d.$-d.vb,l=d.zoom*d.Ob,m=d.A/2,n=d.v/2,p=a.a.s,B=d.S?-(d.height>>2):0,x=0;b&&(e.strokeStyle=ViewConstants.Uu,e.fillStyle=ViewConstants.Uu);d.S&&(g+=f/2);for(c=0;c<this.vd.length;c+=1){var u=this.vd[c];var t=u.coords;var H=t.length;var k=!0;-1!==u.$a&&(p<u.$a||p>u.Le)&&(k=!1);if(k){var r=u.size*l/u.zoom;var D=u.size/4;var y=4*u.size;b&&(x=1,24<=r&&(x=2,48<=
r&&(x=3)));if(r>=D&&r<=y){D=Math.log(r/D)/Math.log(y/D);D=.25>=D?4*D:.75<=D?4*(1-D):1;y=1;-1!==u.$a&&0<u.dc&&(p-u.$a<u.dc?y=(p-u.$a+1)/u.dc:u.Le-p<u.dc&&(y=(u.Le-p+1)/u.dc));k=!0;var F=1;if(-1!==u.xd){var C=Math.sqrt((-(g+B)-u.Ji)*(-(g+B)-u.Ji)+(-f-u.Ki)*(-f-u.Ki));C>u.xd?k=!1:0<u.xd&&.75<C/u.xd&&(F=4*(1-C/u.xd))}if(k){e.globalAlpha=D*u.alpha*y*F;D=0;F=t[D]+g+B-(a.pg>>1)+.5;y=t[D+1]+f-(a.Kg>>1)+.5;D+=2;u.xi||(F+=d.Bb,y+=d.vb);-1!==u.$a?(F+=u.Xh*(a.Ga-u.$a),y+=u.Yh*(a.Ga-u.$a)):(F+=u.Xh*a.Ga,y+=u.Yh*
a.Ga);0!==d.Na&&(k=Math.sqrt(F*F+y*y),y=180/Math.PI*Math.atan2(y,F),y+=d.Na,F=k*Math.cos(Math.PI/180*y),y=k*Math.sin(Math.PI/180*y));d.S&&(F-=y/2);y=y*l+n;C=F*l+m;F=(t[D]-t[0])*l;k=(t[D+1]-t[1])*l;d.S&&(F-=k/2);D+=2;e.save();e.translate(C,y);y=u.angle;u.Ph||(y+=d.Na);e.rotate(y/180*Math.PI);e.lineWidth=r;b||(u.Jq?e.fillStyle=u.te:e.strokeStyle=u.te);e.lineCap="round";e.lineJoin="round";0<x&&e.translate(x,x);e.beginPath();e.moveTo(0,0);for(e.lineTo(F,k);D<H;)F=(t[D]-t[0])*l,k=(t[D+1]-t[1])*l,d.S&&
(F-=k/2),D+=2,e.lineTo(F,k);u.Jq?e.fill():e.stroke();e.restore()}}}}e.globalAlpha=1};e.prototype.Cb=function(a){this.fa(a,!0);this.fa(a,!1)};e.prototype.bb=function(a){var b,c=a.a,d=c.context,e=c.width/2-c.da-c.Bb,g=c.height/2-c.$-c.vb,f=c.zoom*c.Ob,A=c.A/2,m=c.v/2,n=ViewConstants.yy,p="px "+ViewConstants.wy,B=a.a.s,x=c.S?-(c.height>>2):0;c.S&&(e+=g/2);for(b=0;b<this.rd.length;b+=1){var u=this.rd[b];var t=!0;-1!==u.$a&&(B<u.$a||B>u.Le)&&(t=!1);if(t){var H=u.size*f/u.zoom;var k=u.size/4;var r=4*u.size;
var D=1;24<=H&&(D=2,48<=H&&(D=3));if(H>=k&&H<=r){k=Math.log(H/k)/Math.log(r/k);d.font=H+p;k=.25>=k?4*k:.75<=k?4*(1-k):1;r=1;-1!==u.$a&&0<u.dc&&(B-u.$a<u.dc?r=(B-u.$a+1)/u.dc:u.Le-B<u.dc&&(r=(u.Le-B+1)/u.dc));t=!0;var y=1;if(-1!==u.xd){var F=Math.sqrt((-(e+x)-u.Ji)*(-(e+x)-u.Ji)+(-g-u.Ki)*(-g-u.Ki));F>u.xd?t=!1:0<u.xd&&.75<F/u.xd&&(y=4*(1-F/u.xd))}if(t){d.globalAlpha=k*u.alpha*r*y;t=u.x+e+x-(a.pg>>1)+.5;y=u.y+g-(a.Kg>>1)+.5;u.xi||(t+=c.Bb,y+=c.vb);-1!==u.$a?(t+=u.Xh*(a.Ga-u.$a),y+=u.Yh*(a.Ga-u.$a)):
(t+=u.Xh*a.Ga,y+=u.Yh*a.Ga);0!==c.Na&&(k=Math.sqrt(t*t+y*y),y=180/Math.PI*Math.atan2(y,t),y+=c.Na,t=k*Math.cos(Math.PI/180*y),y=k*Math.sin(Math.PI/180*y));c.S&&(t-=y/2);k=u.message;r=k.indexOf("\\n");y=y*f+m;t=t*f+A;d.save();d.translate(t,y);y=u.angle;u.Ph||(y+=c.Na);d.rotate(y/180*Math.PI);for(y=0;-1!==r;)t=k.substr(0,r),k=k.substr(r+2),r=d.measureText(t).width>>1,d.fillStyle=n,d.fillText(t,-r+D,y+D),d.fillStyle=u.te,d.fillText(t,-r,y),y+=H,r=k.indexOf("\\n");r=d.measureText(k).width>>1;d.fillStyle=
n;d.fillText(k,-r+D,y+D);d.fillStyle=u.te;d.fillText(k,-r,y);d.restore()}}}}d.globalAlpha=1};e.prototype.hq=function(a){this.Cb(a);this.Sa(a);this.bb(a)};e.prototype.pA=function(a){var b;for(b=this.ja.length-1;0<=b;--b){var c=this.ja[b];c.ec>a&&c.jm&&(this.xh=b,c.jm=!1)}};e.prototype.Gz=function(){var a;for(a=0;a<this.ja.length;a+=1)this.ja[a].jm=!1;this.xh=0;this.H=!1};e.prototype.dn=function(){return new d(this)};e.prototype.bt=function(a){return-2*Math.pow(a,3)+3*Math.pow(a,2)+0*a};e.prototype.reset=
function(){this.ja=[];this.wb=[];this.m=!1;this.xh=0};e.prototype.zy=function(){return this.ja[this.ja.length-1]};e.prototype.It=function(a){var b=this.ha(a),c=this.ja[b];a>c.ab?a=c.ec+1E3*(a-c.ab)/(c.lb*c.step):0<b?(b=this.ja[b-1],a=b.ec+1E3*(a-b.ab)/(c.lb*c.step)):a=1E3*a/(c.lb*c.step);return a};e.prototype.wt=function(a,b,c,d,e,f,h,A,m,n,p){var g=this.va;g.x=a;g.y=b;g.zoom=c;g.angle=d;g.lb=A;g.step=m;g.G=e;g.depth=f;g.ob=h;g.ab=n;this.m&&(p=this.i.ec);g.ec=p-1E3;this.update(p,n);this.i.set(this.current);
this.i.od=!1;this.i.ec=p;this.m=!0;return g.ec};e.prototype.Al=function(){return this.ja[0]};e.prototype.Ry=function(){return this.ja.length};e.prototype.add=function(a){a.Ef?this.wb[this.wb.length]=a:this.ja[this.ja.length]=a};e.prototype.Np=function(a){var b=!1;this.xh>=this.ja.length-1&&a>=this.ja[this.xh].ec&&(b=!0);return b};e.prototype.f=function(a){return a===(a|0)?String(a|0):String(a.toFixed(1))};e.prototype.Wy=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.le&&(b+=" X "+-a.x),
a.Wd&&(b+=" Y "+-a.y),a.Gc&&(b+=" ZOOM "+this.f(a.zoom)),a.pf&&(b+=" ANGLE "+a.angle));return b.substr(1)};e.prototype.Qu=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.vj&&(b+=" POIRESET"),a.Ce===f.play?b+=" POIPLAY":a.Ce===f.stop&&(b+=" POISTOP"),a.Mg!==f.vk&&(b+=" POITRANS "+a.Mg));return b.substr(1)};e.prototype.Xy=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.ki&&(b+=" LOOP "+(-1===a.oa?"OFF":a.oa)),a.Gi&&(b+=" STOP "+(-1===a.yb?"OFF":a.yb)),a.zf&&(b+=" GPS "+a.lb),
a.Qf&&(b+=" STEP "+a.step));return b.substr(1)};e.prototype.Qu=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.vj&&(b+=" POIRESET"),a.Ce===f.play?b+=" POIPLAY":a.Ce===f.stop&&(b+=" POISTOP"),a.Mg!==f.vk&&(b+=" POITRANS "+a.Mg));return b.substr(1)};e.prototype.$y=function(a){var b="";0<=a&&a<this.wb.length&&(a=this.wb[a],a.Td&&(b+=" THEME "+a.ob),a.vf&&(b+=" DEPTH "+this.f(a.depth)),a.Ff&&(b+=" LAYERS "+a.G));return b.substr(1)};e.prototype.Zy=function(a){var b="";0<=a&&a<this.wb.length&&
(a=this.wb[a],a.ym&&(b+=" POIT "+a.ab));return b.substr(1)};e.prototype.Yy=function(a){var b=Keywords.Wb,c="";0<=a&&a<this.wb.length&&(a=this.wb[a],""!==a.yd&&(c+=" "+b+a.yd+b));return c.substr(1)};e.prototype.PA=function(a){var b=Keywords.Wb,c="";if(0<=a&&a<this.ja.length){var d=this.ja[a];0<a?(a=this.ja[a-1],c=d.ab===a.ab?"P "+this.f((d.ec-a.ec|0)/1E3):"T "+d.ab,d.od?c+=" F":(d.x!==a.x&&(c+=" X "+-d.x),d.y!==a.y&&(c+=" Y "+-d.y),d.zoom!==a.zoom&&(c+=" Z "+this.f(d.zoom))),d.angle!==a.angle&&(c+=
" A "+d.angle),d.G!==a.G&&(c+=" L "+d.G),d.depth!==a.depth&&(c+=" D "+this.f(d.depth)),d.ob!==a.ob&&(c+=" C "+d.ob),d.lb!==a.lb&&(c+=" G "+d.lb),d.step!==a.step&&(c+=" S "+d.step),""!==d.yd&&(c+=" "+b+d.yd+b)):c="T "+d.ab+" X "+-d.x+" Y "+-d.y+" Z "+this.f(d.zoom)+" A "+d.angle+" L "+d.G+" D "+this.f(d.depth)+" C "+d.ob+" G "+d.lb+" S "+d.step}return c};e.prototype.update=function(a,b){var c=this.ja.length,d=!1,e=this.xh,f=!1;if(this.m)this.current.i(this.va,this.i,a),a>=this.i.ec&&(this.m=!1);else{for(;e<
c&&!d;){var g=this.ja[e];g.ec>=a||!g.jm?d=!0:e+=1}d?(this.ja[e].jm=!0,0<e?(this.ja[e].od&&(this.ja[e].x=this.current.x,this.ja[e].y=this.current.y,this.ja[e].zoom=this.current.zoom),this.current.i(this.ja[e-1],this.ja[e],a)):(e=0,this.current.set(this.ja[e]))):(e=c-1,this.current.set(this.ja[e]),b>=this.current.ab&&this.H&&(f=!0),this.H=!0);this.xh=e}return f};e.prototype.ha=function(a){for(var b=0,c=!1,d=this.ja,e=this.ja.length;b<e&&!c;)d[b].ab>=a?c=!0:b+=1;c||(b=e-1);return b};e.prototype.$x=function(a){this.xh=
this.ha(a)};e.prototype.ic=function(a,b,c,d){if(0===this.ja.length)c[c.length]=[a+" "+Keywords.Va,"no initial waypoint defined"];else switch(a){case Keywords.cd:b.le&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+-b.x]);b.x=this.ja[0].x;b.le=!0;break;case Keywords.dd:b.Wd&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+-b.y]);b.y=this.ja[0].y;b.Wd=!0;break;case Keywords.oc:b.Gc&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+this.f(1>b.zoom?
-(1/b.zoom):b.zoom)]);b.zoom=this.ja[0].zoom;b.Gc=!0;break;case Keywords.Qh:b.pf&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+b.angle]);b.angle=this.ja[0].angle;b.pf=!0;break;case Keywords.cj:b.vf&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+this.f(b.depth)]);b.depth=this.ja[0].depth;b.vf=!0;break;case Keywords.mj:b.Ff&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+b.G]);b.G=this.ja[0].G;b.Ff=!0;break;case Keywords.yh:b.Td&&(c[c.length]=
[a+" "+Keywords.Va,d?"already defined":"overwrites "+b.ob]);b.ob=this.ja[0].ob;b.Td=!0;break;case Keywords.ij:b.zf&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+b.lb]);b.lb=this.ja[0].lb;b.zf=!0;break;case Keywords.Bj:b.Qf&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+b.step]);b.step=this.ja[0].step;b.Qf=!0;break;case Keywords.xg:b.Gi&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+(-1===b.yb?"OFF":b.yb)]);b.yb=this.ja[0].yb;b.Gi=!0;break;
case Keywords.ig:b.ki&&(c[c.length]=[a+" "+Keywords.Va,d?"already defined":"overwrites "+(-1===b.oa?"OFF":b.oa)]);b.oa=this.ja[0].oa;b.ki=!0;break;default:c[c.length]=[a+" "+Keywords.Va,"illegal command before "+Keywords.Va]}};e.prototype.ex=function(a,b){this.ic(Keywords.cd,a,b,!1);this.ic(Keywords.dd,a,b,!1);this.ic(Keywords.oc,a,b,!1);this.ic(Keywords.Qh,a,b,!1);this.ic(Keywords.mj,a,b,!1);this.ic(Keywords.cj,a,b,!1);this.ic(Keywords.yh,a,b,!1);this.ic(Keywords.ij,a,b,!1);this.ic(Keywords.Bj,a,
b,!1);this.ic(Keywords.ig,a,b,!1);this.ic(Keywords.xg,a,b,!1)};e.prototype.gz=function(a){var b,c=this.ja,d=this.ja.length;for(b=1;b<d;b+=1){var e=c[b-1];var f=c[b];f.le||(f.x=e.x);f.Wd||(f.y=e.y);f.Fh||(f.kf=e.kf);f.Hh||(f.lf=e.lf);f.Pm||(f.mf=e.mf);f.pf||(f.angle=e.angle);f.Gc||(f.zoom=e.zoom);f.Ff||(f.G=e.G);f.vf||(f.depth=e.depth);f.Td||(f.ob=e.ob);f.zf||(f.lb=e.lb);f.Qf||(f.step=e.step);f.ym?f.ab<=e.ab&&(a[a.length]=[Keywords.xm+" "+f.ab,"target generation must be later than previous ("+e.ab+
")"]):f.ab=e.ab;f.ec=f.Av?1E3*f.ec+e.ec:e.ec+1E3*(f.ab-e.ab)/(f.lb*f.step);f.To||(f.Ci=e.Ci);f.jj||(f.qc=e.qc)}};window.Waypoint=d;window.WaypointManager=e;window.WaypointConstants=f})();(function(){function d(c,b){var a=this;this.Ks=c;this.h=b;this.top=this.left=0;""!==c.style.left&&(this.left=parseInt(c.style.left,10));""!==c.style.top&&(this.top=parseInt(c.style.top,10));this.$b=this.dj=!1;this.Ml=this.Ll=this.Ol=this.Nl=this.th=this.sh=-1;this.Ar=this.offsetTop=this.offsetLeft=0;registerEvent(c,"mousedown",function(b){a.i(a,b)},!1);registerEvent(document,"mousemove",function(b){a.m(a,b)},!1);registerEvent(document,"mouseup",function(b){a.H(a,b)},!1);registerEvent(c,"touchstart",
function(b){a.f(a,b)},!1);registerEvent(c,"touchmove",function(b){a.f(a,b)},!1);registerEvent(c,"touchend",function(b){a.f(a,b)},!1);registerEvent(window,"resize",function(){a.iv(a)},!1)}d.prototype.iv=function(c){c.tv(c.left+c.Ar,c.top,c.Ks);c.Ar=0};d.prototype.DA=function(c,b){this.tv(this.left+c,this.top+b,this.Ks)};d.prototype.tv=function(c,b,a){var d=window.innerWidth-a.clientWidth,f=window.innerHeight-a.clientHeight;window.innerHeight<document.getElementsByTagName("body")[0].clientHeight&&(d-=
21);0>c&&(c=0);0>b&&(b=0);c>d&&(c=d);b>f&&(b=f);a.style.left=c+"px";a.style.top=b+"px";a.style.position="fixed";this.left=c;this.top=b};d.prototype.dx=function(){var c=this.Ks,b=c.offsetParent;this.offsetLeft=c.offsetLeft;for(this.offsetTop=c.offsetTop;b;)this.offsetLeft+=b.offsetLeft,this.offsetTop+=b.offsetTop,b=b.offsetParent;b=c.parentNode;if("fixed"===b.style.position)this.offsetLeft+=document.body.scrollLeft+document.documentElement.scrollLeft,this.offsetTop+=document.body.scrollTop+document.documentElement.scrollTop;
else for(;"body"!==b.tagName.toLowerCase();)this.offsetLeft-=b.scrollLeft,this.offsetTop-=b.scrollTop,b=b.parentNode};d.prototype.f=function(c,b){var a="";if("touchend"===b.type){a="mouseup";var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,c.Nl,c.Ol,c.Ll,c.Ml,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);b.preventDefault()}else{if(1===b.touches.length)switch(b.type){case "touchstart":a="mousedown";break;case "touchmove":a="mousemove"}if(""!==a){var f=b.changedTouches[0];
d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,window,1,f.screenX,f.screenY,f.clientX,f.clientY,!1,!1,!1,!1,0,null);f.target.dispatchEvent(d);b.preventDefault();c.Nl=f.screenX;c.Ol=f.screenY;c.Ll=f.clientX;c.Ml=f.clientY}}};d.prototype.i=function(c,b){c.Lj(c,b);c.$b=!0;c.h.tj=!0;b.stopPropagation&&b.stopPropagation();b.preventDefault()};d.prototype.H=function(c,b){c.dj&&c.$b&&(c.Lj(c,b),c.$b=!1,c.h.tj=!1,b.stopPropagation&&b.stopPropagation(),b.preventDefault())};d.prototype.m=function(c,
b){if(c.dj&&c.$b){var a=c.sh,d=c.th;c.Lj(c,b);c.$b&&c.DA(c.sh-a,c.th-d);c.sh=a;c.th=d;b.stopPropagation&&b.stopPropagation();b.preventDefault()}};d.prototype.Lj=function(c,b){if(b.pageX||b.pageY){var a=b.pageX;b=b.pageY}else a=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,b=b.clientY+document.body.scrollTop+document.documentElement.scrollTop;c.dx();a-=c.offsetLeft;b-=c.offsetTop;c.sh=a-1|0;c.th=b-1|0};window.PopupWindow=d})();(function(){function d(){this.key=new Uint8Array(256);this.i=this.f=0}d.prototype.Kd=function(c){var b,a,d=this.key;for(b=0;256>b;b+=1)d[b]=b;for(b=a=0;256>b;b+=1){a=a+d[b]+c.charCodeAt(b%c.length)&255;var f=d[b];d[b]=d[a];d[a]=f}this.i=this.f=0};d.prototype.random=function(){var c,b=0,a=1,d=this.key,f=this.f,g=this.i;for(c=0;8>c;c+=1){f=f+1&255;g=g+d[f]&255;var l=d[f];d[f]=d[g];d[g]=l;b+=d[d[f]+d[g]&255]*a;a*=256}this.f=f;this.i=g;return b/1.8446744073709552E19};window.Random=d;window.myRand=new d})();(function(){function d(c,b){this.uo=c;this.x=b.V(Float32,0,"Stars.x");this.y=b.V(Float32,0,"Stars.y");this.f=b.V(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.i=new Random;this.i.Kd(Date.now().toString());this.sin=b.V(Float32,0,"Stars.sin");this.cos=b.V(Float32,0,"Stars.cos");this.m=Math.PI/180;this.W=180/Math.PI;this.j=b;this.H=!1}d.prototype.Kd=function(c,b,a){var d,f=this.uo,g=c*c+b*b;this.x=this.j.V(Float32,f,"Stars.x");this.y=this.j.V(Float32,f,"Stars.y");this.f=this.j.V(Float32,
f,"Stars.z");for(d=0;d<f;d+=1){var l=d/f*(d/f)*(d/f)*(d/f)*a+1;do{var I=3*(this.i.random()*c-c/2);var L=3*(this.i.random()*b-b/2)}while(I*I+L*L>g);this.x[d]=I;this.y[d]=L;this.f[d]=l}this.sin=this.j.V(Float32,2880,"Stars.sin");this.cos=this.j.V(Float32,2880,"Stars.cos");for(d=0;2880>d;)this.sin[d]=Math.sin(d/8*this.m),this.cos[d]=Math.cos(d/8*this.m),d+=1};d.prototype.kx=function(c,b,a,d,f,g,l,I){var e;this.H||(this.Kd(8192,8192,1024),this.H=!0);if(littleEndian){var G=I>>16&255;var q=I>>8&255;var h=
I&255}else h=I>>24&255,q=I>>16&255,G=I>>8&255;for(e=0;e<this.uo;e+=1){var A=this.x[e]+c;var m=this.y[e]+b;if(0!==d){var n=Math.sqrt(A*A+m*m);m=Math.atan2(m,A)*this.W;m+=d;0>m?m+=360:360<=m&&(m-=360);m*=8;m|=0;A=n*this.cos[m];m=n*this.sin[m]}n=this.f[e]/a*2;A=f/2+A/n|0;m=g/2+m/n|0;if(0<A&&A<f-1&&0<m&&m<g-1){A+=m*f;n=1536/n|0;255<n&&(n=255);n/=255;if(l[A]===I){m=h+(this.red-h)*n;var p=q+(this.green-q)*n;var B=G+(this.blue-G)*n;m=littleEndian?-16777216|B<<16|p<<8|m:m<<24|B<<16|p<<8|255;l[A]=m}n/=2;m=
h+(this.red-h)*n;p=q+(this.green-q)*n;B=G+(this.blue-G)*n;m=littleEndian?-16777216|B<<16|p<<8|m:m<<24|B<<16|p<<8|255;--A;l[A]===I&&(l[A]=m);A+=2;l[A]===I&&(l[A]=m);--A;A-=f;l[A]===I&&(l[A]=m);A+=f+f;l[A]===I&&(l[A]=m)}}};window.Stars=d})();(function(){function d(a,b,c,d,e){this.name=a;this.pattern=b;this.Mz=c;this.width=d;this.height=e}function c(a){this.Kb=0;this.Un=!1;this.ia=null;this.Kj=0;this.fl=!0;this.Pf=0;this.Ye=1;this.Ck=this.tk=!1;this.ph=7;this.Ro=!0;this.Oj=this.Nj=0;this.dk=!1;this.ba=this.fo=63;this.Bd=this.Jc=this.gg=this.kg=this.Yb=this.jg=this.fg=this.eg=this.Cd=this.ng=this.mg=this.Vk=!1;this.Jg=this.Ga=0;this.Sc=null;this.Pd=this.Od=0;this.Is=!1;this.aj=this.Qg=this.Rg=-1;this.Gn=Date.now().toString();this.di=h.Eh;
this.Of=!0;this.gb=!1;this.Ge=!0;this.Vb=h.Dt;this.Pc=!1;this.element=a;this.Ea=!1;this.Bh=this.Yg=this.Zg=this.Ah=this.hn=this.en=this.gn=this.fn=0;this.gc=this.Yd=this.fc=this.Hj=!1;this.Cl=!0;this.Jn=!1;this.In=0;this.$h=!1;this.wi=this.vi=0;this.sg=!1;this.o="";this.Ad=this.zd=0;this.mq=this.lq=this.ek=this.Zh=this.gj=this.lh=this.Vr=this.Ur=this.Di=this.zj=this.Fi=this.Ei=this.we=-1;this.$n=this.zn=!1;this.zm=this.Ke=-1;this.kl=this.Zi=!1;this.bn=-1;this.Cj=this.Ii=null;this.Am="";this.Dj=this.Ug=
0;this.tA=32768;this.Vp=this.Wp=0;this.Up=!0;this.Vm=this.qb=!1;this.Ti=0;this.Uw=.01;this.Sg=this.Cf=!1;this.ih=this.We=null;this.Wf=h.Wf;this.Th=[96,96,96];this.Zo=null;this.Sa="";this.wg=this.ya=this.Lf=this.dr=!1;this.vh=null;this.ye=!1;this.M=1;this.qg=this.rg=0;this.hc=this.Lq=!1;this.w=new WaypointManager;this.Zn="";this.Uq=-1;this.ee=this.Sb=!1;this.ga=1;this.qq=this.ir=this.Zl=0;this.Hg=h.Gy;this.Ca=this.ha=this.fa=this.W=this.jh=-1;this.cm=this.rk="";this.em=this.uh=this.Kg=this.pg=0;this.dm=
null;this.jr=this.Mf=this.Lg=this.og="";this.Uf=!1;this.f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.jn=!1;this.Qj=h.iu;this.Pj=h.Um;this.Rj=h.Tu;this.Yj="";this.Nc=[];this.Rm=!1;this.jb=[];this.$i=[];this.Qb=[];this.Ya=1;this.X=0;this.um=!1;this.qk=100;this.ac=10;this.P=[64,200,290,530,700];this.ke=!1;this.R=[];this.zq=[];this.Aq=[];this.oa=this.yb=-1;this.Rn=this.Qn=this.Rh=this.qe=this.Ub=this.si=this.so=this.Ib=this.Hl=this.Xb=this.nc=this.Za=!1;this.Ok=
this.Qk=this.Wk=-1;this.a=null;this.elapsedTime=0;this.A=640;this.v=512;this.Xk=!1;this.Uk=640;this.hf=this.Or=this.lg=this.Dc=!1;this.i=this.bc=this.yg=this.uk=this.oj=this.pa=this.He=this.Vh=this.ne=this.Cg=this.Cb=this.ui=this.Se=this.yc=this.fj=this.Re=this.bh=this.gk=this.tg=this.ug=this.Fk=this.kk=this.oh=this.lk=this.Rk=this.ai=this.Wj=this.fi=this.ei=this.hi=this.Rb=this.vg=this.hj=this.bi=this.Ag=this.bb=this.oe=this.nf=this.qf=this.xf=this.sf=this.wf=this.uf=this.Lh=this.Nh=this.Ri=this.ci=
this.Ed=this.li=this.Ha=this.me=this.gd=this.jd=this.hd=this.fd=this.Oi=this.Kh=this.Jh=this.Ih=this.Sk=this.ed=this.yf=this.ld=this.dg=this.kd=this.cg=this.mk=this.Lb=this.xc=this.ce=this.uc=this.Mb=this.zb=this.Eb=this.Rc=this.Jf=this.cc=this.Oa=null;this.ii=this.lj=-1;this.wheelDelta=0;this.ud=this.sj=this.Hf=this.H=this.Kc=null;this.Id=60;this.u=this.h=null;this.bj=this.ae=this.$j=0;this.yn=this.Ft=1;this.eq=60;this.bk=this.xn=1;this.cq=.1;this.Pi=-1;this.wj=this.he=this.Er=0;this.zk=1;this.zh=
this.wa=this.Tj=this.Sj=this.Pk=!1;this.Fc=h.Et;this.Tn=this.Wn=this.js=this.Vn=0;this.Qi=this.Vg=!1;this.pm=this.Zk=0;this.xe=!1;this.sk=-1}function b(a,b,d,e,f){var m,g=b.parentNode,n=null;for(m=0;m<A.mc.length&&!n;)A.mc[m][0].tabIndex===b.tabIndex?n=A.mc[m][1]:m+=1;n||(n=new c(f),n.ye=e,q.Pl&&!e&&(n.Hg=d&-8,n.Hg<h.td&&(n.Hg=h.td)),b.tabIndex=A.mc.length+1,n.cs(b),"none"===g.style.display&&(A.tr=new PopupWindow(g,n.h)),A.mc[A.mc.length]=[b,n,A.tr]);e||n.wh(a,!1)}function a(a){a=a.parentNode;for(var b=
!1;!b;)"div"!==a.localName||a.className!==q.Bn&&a.className!==q.Cn||(b=!0),b||(a=a.parentNode);return a}function e(){var a=A.Tr(),b=a[1],c=a[2];a[0].parentNode.style.display="none";c.dj=!1;b.Dc&&(b.pa.current=b.Vd(h.nb,!0,b))}function f(a){e();a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function g(a){a=a.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,
"").trim();a=a.replace(/\n[ ]+/g,"\n");return a=a.replace(/\n\t+/g,"\n")}function l(c){c=a(c);var d=c.getElementsByTagName(q.uj)[0],m=g(d),e=A.Tr();if(e)e[1].element=d,e[1].Ds(e[1]);else{e=document.createElement("canvas");e.width=h.td;e.height=h.rh+80;e.style.display="block";var l=document.createElement("a");l.setAttribute("href","#");l.innerHTML="&nbsp;X&nbsp;";l.style.textDecoration="none";l.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";l.style.color="#FFFFFF";l.style.backgroundColor=
"#C75050";l.style.cssFloat="right";l.style.height="28px";l.style.fontSize="18px";var u=document.createElement("a");u.innerHTML="&nbsp;X&nbsp;";u.style.textDecoration="none";u.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";u.style.visibility="hidden";u.style.cssFloat="left";u.style.height="28px";u.style.fontSize="18px";var t=document.createElement("div");t.style.textAlign="center";t.style.color="rgb(83,100,130)";t.style.fontFamily="Arial, Verdana, Helvetica, sans-serif";t.style.fontSize=
"18px";t.style.height="28px";var H=document.createTextNode("LifeViewer");t.style.cursor="default";t.appendChild(H);registerEvent(l,"click",f,!1);var k=document.createElement("div");k.style.display="none";k.style.position="fixed";k.style.border="1px solid rgb(128,128,128)";k.style.left="2048px";k.style.top="0px";k.style.textAlign="right";k.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";k.style.margin="1px";var r=document.createElement("div");r.className=q.Cn;r.style.backgroundColor=
"#FFFFFF";r.style.height="28px";r.style.lineHeight="28px";r.appendChild(u);r.appendChild(l);r.appendChild(t);k.appendChild(r);k.appendChild(e);c.appendChild(k);b(m,e,h.td,!0,d);A.Sr=A.mc.length-1;e=A.Tr();e[1].Zo=H}c=e[0].parentNode;""!==c.style.display&&(c.style.display="");e[1].A=h.td;e[1].v=h.rh+80;e[1].resize();e[1].h.notification.clear(!0,!0);e[1].h.notification.clear(!1,!0);e[1].wh(m,!0);e[1].resize();c=e[2];c.dj=!0;c.iv(c);e[1].Hf.canvas.focus();e[1].h.hasFocus=!0;return!1}function I(a,b){var c=
!1,m=null;try{m=PatternManager.create("",a,b),m.$c&&(c=!0,q.Ia&&(A.Ec[A.Ec.length]=new d(m.name,a,m.aa+m.Zm,m.width,m.height)))}catch(x){}return c}function L(a){l(this);a.stopPropagation&&a.stopPropagation();a.preventDefault();return!1}function G(){var a=document.getElementsByTagName("div"),c,d,e=new Allocator;var f=document.getElementsByTagName("meta");for(c=0;c<f.length;c+=1){var h=f[c];if(h.name===q.tagName&&(q.Eq=!1,q.Pl=!1,h=h.content,(d=h.match(/\S+/g))&&2<=d.length&&5>=d.length))for(q.Bn=d[0],
q.uj=d[1],h=2;h<d.length;h+=1)switch(d[h]){case "hide":q.Eq=!0;break;case "limit":q.Pl=!0;break;case "multi":q.Ia=!0;break;default:var l=d[h];!isNaN(parseFloat(l))&&isFinite(Number(l))&&(q.xo=parseFloat(l)|0)}}for(f=0;f<a.length;f+=1)(h=a[f],h.className===q.Bn)?(c=h.getElementsByTagName(q.uj)[0],h=h.getElementsByTagName("canvas")[0],(d=c.getElementsByTagName(q.uj)[0])&&(c=d),typedArrays&&c&&(d=g(c),q.Ia&&I(d,e),h&&h.getContext?(-1<q.xo&&c.clientHeight>q.xo&&(c.style.height=q.xo+"px"),b(d,h,c.offsetWidth,
!1,c)):q.Eq&&h&&(h.style.display="none"))):typedArrays&&h.className===q.Cn&&h.parentNode.className!==q.Bn&&(c=h.getElementsByTagName(q.uj)[0])&&(d=g(c),I(d,e)&&(h=h.getElementsByTagName("a")[0],d=document.createElement("a"),d.setAttribute("href","#"),d.innerHTML="Show in Viewer",registerEvent(d,"click",L,!1),h?(c=document.createTextNode(" / "),h.parentNode.appendChild(c),h.parentNode.appendChild(d)):c.parentNode.appendChild(d)))}var q={tagName:"LifeViewer",Bn:"rle",uj:"code",xo:37,Eq:!0,Pl:!1,Ia:!1,
Cn:"codebox",Ec:[]},h={So:Math.sqrt(3),gx:65536,ix:500,jx:17,Ut:13750737,Vt:15066597,Nn:7368816,On:5263440,uv:.016,kA:16,Hu:16384,Dt:.7,uo:1E4,Wz:"Script errors",Be:-2,ze:2,Eu:2,yu:4,Et:4,Pv:16.7,Bu:9,uu:14,Ox:13,cu:null,Au:1,su:16,Ct:3,Xe:0,Fg:1,kn:2,Vf:3,ml:4,nl:5,ol:6,tn:7,un:8,ln:9,qn:10,pn:11,on:12,rn:13,sn:14,nn:15,pl:16,mn:17,$p:18,tl:19,rl:20,ul:21,wl:22,vl:23,sl:24,ll:25,ql:26,Ju:0,Lu:1,bu:2,nu:3,ru:4,pu:5,hu:6,hb:[0,6,2,5,3,4,1],wv:"Dead Alive History Mark1 MarkOff Mark2 Kill".split(" "),
oA:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),Vy:0,Uy:160,Pu:10,lr:100,Ou:20,by:18.5,vv:1E3/60,RA:!1,oq:1800,Yx:"LifeViewer",Gr:"LifeViewer Image",Sv:"LifeViewer",zs:327,Rv:"Chris Rowett",oo:1,ho:10,$q:0,Ny:1,nb:2,ni:3,Fu:0,Ul:1,jp:1.25,py:.99,no:0,tu:10,Wh:10,Wa:.0625,Hb:64,Tl:-16,Sl:-1,Ae:1,mi:60,nj:1,fe:50,fontSize:18,Bl:"18px Courier",Mi:"18px Arial",Tg:"18px Arial",Je:"14px Arial",Qo:"9px Arial",Um:"rgb(240,255,255)",Qw:"rgb(0,0,0)",Tu:"rgb(240,255,255)",Uu:"rgb(0,0,0)",Ys:2,po:1,io:64,
Pw:.2,iu:"rgb(240,255,255)",yy:"rgb(0,0,0)",xy:18,Cu:4,vu:128,wy:"Arial",jk:"rgb(32,255,255)",Gl:"#000000",Wf:"rgb(255,96,96)",Ln:"rgb(128,128,128)",Ly:64,Ky:64,td:480,Gy:2048,ly:80,pk:240,lo:2048,rh:480,kp:132,fw:292,Sy:154,Xr:0,xv:1,yv:2,Iy:0,Ay:16,Eh:0,fu:1,Hr:2,Il:3,Ev:4,qt:5,Ts:6,zu:7,Zs:8},A={j:new Allocator,mc:[],Sr:-1,tr:null,Ec:[],Tr:function(){var a=null;-1!==this.Sr&&(a=this.mc[this.Sr]);return a},ey:function(a){var b=null;0<=a&&a<this.mc.length&&(b=this.mc[a][1]);return b},eB:function(){return this.mc.length},
OA:function(){var a=0,b;for(b=0;b<this.mc.length;b+=1){var c=this.mc[b][1];c.Dc&&(a+=1)}return a},Bz:function(){var a,b=0;for(a=0;a<this.mc.length;a+=1){var c=this.mc[a][1];c.pa.current=c.Vd(h.$q,!0,c);c.h.Og(!0);b+=1}return b},qA:function(){var a,b=0;for(a=0;a<this.mc.length;a+=1){var c=this.mc[a][1];c.Dc&&(c.pa.current=c.Vd(h.nb,!0,c),b+=1)}return b},rA:function(a){var b,c=0;for(b=0;b<this.mc.length;b+=1){var d=this.mc[b][1];d!==a&&d.Dc&&(d.pa.current=d.Vd(h.nb,!0,d),c+=1)}return c}};c.prototype.Hn=
function(a){this.Bd=this.Jc=this.gg=this.kg=this.Yb=this.jg=this.fg=this.eg=this.Cd=this.ng=this.mg=a};c.prototype.ps=function(){this.Hn(!1)};c.prototype.qw=function(){this.Hn(!0)};c.prototype.ot=function(){this.zq=[];this.Aq=[]};c.prototype.Yw=function(a){var b=a.sj.toDataURL("image/png"),c;(c=document.getElementById("screenshot"))?c.src=b:(c=window.open("",h.Gr))?(c.width=a.A+20,c.height=a.v+20,c.document.open(),c.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+
h.Gr+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+a.A+'" height="'+a.v+'" src="'+b+'" alt="'+h.Gr+'"/>\n\t</body>\n</html>\n'),c.document.close(),a.h.notification.T("Image Captured",300,!0)):a.h.notification.T("Could not open Image window!",h.oq,!0)};c.prototype.Os=function(a){var b=this.a.sb,c=this.a.ta,d=this.a.kc;var e=a.width;var m=a.height;var f=this.Od,g=this.Pd,k=this.a.ib,l=this.a.ib>>4,D=this.a.mb,q=null,A=e,C=m;var z=Math.round(-this.a.la/2);var E=Math.floor((this.a.la-1)/2);var v=
Math.round(-this.a.na/2);var w=Math.floor((this.a.na-1)/2);var G=f-(this.a.width>>1),I=g-(this.a.height>>1),L=this.a.g,ba=!0,Y=2===L&&this.a.sa;-1!==this.a.ka&&(0!==this.a.la&&(G<z||G+e-1>E)&&(ba=!1),0!==this.a.na&&(I<v||I+m-1>w)&&(ba=!1),ba||(this.Is=!0,0!==this.a.la?(f=Math.round(this.a.width/2)+z,A>E-z+1&&(A=E-z+1)):f=Math.round(this.a.width/2),0!==this.a.na?(g=Math.round(this.a.height/2)+v,C>w-v+1&&(C=w-v+1)):g=Math.round(this.a.height/2)));a.ca&&(0!==(f&1)&&(f+=1),0!==(g&1)&&(g+=1));for(m=0;m<
C;m+=1){v=a.$c[m];w=b[m+g&D];if(this.Ub)for(z=a.De[m],q=c[m+g&D],e=0;e<A;e+=1)q[e+f&k]=z[e];else if(2<L)for(z=a.De[m],q=c[m+g&D],e=0;e<A;e+=1)E=z[e],0<E&&!this.a.Zb&&(E=L+this.ba-E),q[e+f&k]=E;Y&&(q=c[m+g&D]);for(e=0;e<A;e+=1)0!==(v[e>>4]&1<<(~e&15))&&(w[e+f>>4&l]|=1<<(~(e+f)&15),Y&&(q[e+f&k]=LifeConstants.cb))}if(d)for(m=0;m<C;m+=1)for(z=a.De[m],b=d[m+g&D],e=0;e<A;e+=1)(E=z[e])&&(b[e+f&k]=h.hb[E]+128)};c.prototype.zl=function(){var a=!1;-1!==this.a.ka&&0!==this.a.la&&0!==this.a.na&&(a=!0);return a};
c.prototype.Gh=function(){var a=!1;-1===this.a.ka||0!==this.a.la&&0!==this.a.na||(a=!0);return a};c.prototype.Si=function(a,b,c){a=a[0];b&&(c.Vb=a);return[a,100*a]};c.prototype.yo=function(a,b,c){b&&(c.Pf=(c.a.g-c.ph)*a[0]|0);a[1]=c.Pf+"-"+(c.Pf+c.ph-1);return a};c.prototype.eh=function(a,b,c){var d=a[0],e=0;b?(c.ee=!0,c.a.zoom=h.Wa*Math.pow(h.Hb/h.Wa,a[0])/c.a.Ob):(d=Math.log(c.a.zoom*c.a.Ob/h.Wa)/Math.log(h.Hb/h.Wa),0>d?d=0:1<d&&(d=1));this.fc&&!this.gc?e=c.a.zoom*c.a.Ob:e=c.a.zoom;e<h.Wa?e=h.Wa:
e>h.Hb&&(e=h.Hb);1>e&&(e=-1/e);return[d,e]};c.prototype.Sw=function(a){var b=a/6E4|0;a=a%6E4/1E3;var c="";0<b&&(c=b+":",10>a&&(c+="0"));return c+=a.toFixed(2)};c.prototype.Xf=function(a,b){var c=this.a.zoom,d=this.a.da,e=this.a.$,m=6;if(this.wa){var f=this.a.Xf(this.Ga,this.A*this.Fc,this.v*this.Fc,h.Wa,h.Hb,h.jp,this.pg,this.Kg,this.Xb&&this.Ub,this.Cf,this.fc,this.Ah,this.Yg,this.Zg,this.Bh,this.Sg,this.qb);f[0]/=this.Fc}else f=h.ly,this.Ib&&(f=0),f=this.a.Xf(this.Ga,this.A,this.v-f,h.Wa,h.Hb,h.jp,
this.pg,this.Kg,this.Xb&&this.Ub,this.Cf,this.fc,this.Ah,this.Yg,this.Zg,this.Bh,this.Sg,this.qb);this.qb&&!a?(24<this.a.zoom&&(m=3),1<this.ga&&(m=1),this.a.zoom=(this.a.zoom*(m-1)+f[0])/m,this.a.da=(this.a.da*(m-1)+f[1])/m,this.a.$=(this.a.$*(m-1)+f[2])/m,a=this.a.zoom>c?this.a.zoom/c-1:c/this.a.zoom-1,d=this.a.da>d?this.a.da-d:d-this.a.da,e=this.a.$>e?this.a.$-e:e-this.a.$,this.Ti=a,d>this.Ti&&(this.Ti=d),e>this.Ti&&(this.Ti=e),.01>=this.Ti&&(this.a.zoom=f[0],this.a.da=f[1],this.a.$=f[2])):(this.Ei=
this.a.width/2-this.a.da,this.Fi=this.a.height/2-this.a.$,this.zj=this.a.zoom,this.Di=this.a.angle,this.lh=this.a.width/2-f[1],this.gj=this.a.height/2-f[2],this.Zh=f[0],this.ek=this.Di,this.zm=WaypointConstants.vk,b?this.Ke=0:(this.Ke=WaypointConstants.vk,this.qs()));this.zb&&(this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this));this.Eb&&(this.Eb.current=this.Lm([this.a.angle,this.a.angle],!1,this))};c.prototype.Ms=function(a,b){-1!==this.a.ka&&this.sg?(this.Od=(this.a.width>>1)+this.zd,this.Pd=
(this.a.height>>1)+this.Ad):(this.Od=Math.round((this.a.width-a)/2)+this.zd,this.Pd=Math.round((this.a.height-b)/2)+this.Ad);!this.Xb&&this.a.sc||!PatternManager.fk||(this.Xb=this.Ub=!0)};c.prototype.tm=function(a){var b=a+String();1E9<=a?b="1B+":1E8<=a?b=(a/1E6|0)+"M":1E7<=a?b=Number(a/1E6).toFixed(1)+"M":1E6<=a?b=Number(a/1E6).toFixed(2)+"M":1E5<=a&&(b=(a/1E3|0)+"K");return b};c.prototype.Uj=function(a,b){var c=this.h.sh,d=this.h.th;b=a+b;var e=-this.a.angle,m=Math.sin(e/180*Math.PI);e=Math.cos(e/
180*Math.PI);0>b?b=0:1<b&&(b=1);a=h.Wa*Math.pow(h.Hb/h.Wa,a);b=h.Wa*Math.pow(h.Hb/h.Wa,b);b<h.Wa?b=h.Wa:b>h.Hb&&(b=h.Hb);c-=this.A/2;d-=this.v/2;c=(c-b/a*c)/b;a=(d-b/a*d)/b;this.a.da-=c*e+a*-m;this.a.$-=c*m+a*e;b=Math.log(b/h.Wa)/Math.log(h.Hb/h.Wa);this.zb.current=this.eh([b,b],!0,this)};c.prototype.FA=function(a){a.He.current=a.Ug/a.Dj*100;a.He.l=!1;a.ce.Lc=0};c.prototype.GA=function(a,b){a.He.current=a.a.s/b*100;a.He.l=!1;a.ce.Lc=0};c.prototype.EA=function(a){var b=!1,c=!1,d=0;a.Za||-1===a.oa||
(b=!0);!a.nc&&a.Sb&&(c=!0);if(b||c){var e=!1;if(c&&b)d=a.elapsedTime/a.w.It(a.oa);else if(c){if(b=a.w.zy().ec)d=a.elapsedTime/b,1<d&&(e=!0)}else 0<a.oa&&(d=a.a.s/a.oa);1<d&&(d=1);a.He.current=100*d}else e=!0;(a.He.l=e)?a.ce.Lc=a.u.Lc:a.ce.Lc=0};c.prototype.Sx=function(){this.vh.kx(this.a.width/2-this.a.Ac,this.a.height/2-this.a.Bc,this.a.ma,this.a.Na,this.a.A,this.a.v,this.a.Wc,this.a.Nf[0])};c.prototype.Zu=function(){var a=this.u.cf-this.A/2,b=this.u.Ig-this.v/2,c=this.Pd-this.a.$,d=this.Od-this.a.da-
(this.a.S?this.a.$/2:0),e=this.a.zoom;var f=this.a.zoom*(this.a.ca&&4<=e?h.So:1);var g=-1;-1!==this.u.cf&&(0!==this.a.Na&&(g=Math.sqrt(a*a+b*b),b=180/Math.PI*Math.atan2(b,a),b-=this.a.Na,a=g*Math.cos(Math.PI/180*b),b=g*Math.sin(Math.PI/180*b)),f=b/f-c+this.a.vb,a=a/e+(this.a.S?c/2+f/2:0)-d+this.a.Bb,this.a.ca&&(a-=this.a.zoom/32*.2),d=a-Math.floor(a),c=f-Math.floor(f),a-=d,f-=c,this.a.ca&&(0===(a+this.Od+f+this.Pd&1)?1<d+c&&(a+=1):1>1-d+c&&(a+=1)),g=this.a.getState(a+this.Od,f+this.Pd,this.Ub&&this.Xb));
return g};c.prototype.mo=function(a,b){var c=a-this.A/2,d=b-this.v/2;b=this.Pd-this.a.$;var e=this.Od-this.a.da-(this.a.S?this.a.$/2:0),m=0,f=0,g=0,n=0,l=this.a.zoom,D=this.a.zoom*(this.a.ca&&4<=l?h.So:1);-1!==a&&(0!==this.a.Na&&(a=Math.sqrt(c*c+d*d),d=180/Math.PI*Math.atan2(d,c),d-=this.a.Na,c=a*Math.cos(Math.PI/180*d),d=a*Math.sin(Math.PI/180*d)),m=d/D-b+this.a.vb,f=c/l+(this.a.S?b/2+m/2:0)-e+this.a.Bb,this.a.ca&&(f-=this.a.zoom/32*.2),n=f-Math.floor(f),g=m-Math.floor(m),f-=n,m-=g);this.a.ca&&(0===
(f+this.Od+m+this.Pd&1)?1<n+g&&(f+=1):1>1-n+g&&(f+=1));this.Nj=f+this.Od;this.Oj=m+this.Pd};c.prototype.mp=function(a,b,c,d,e){var m=Math.abs(c-a),f=Math.abs(d-b),g=a<c?1:-1,n=b<d?1:-1,p=m-f,h=this.a.width,l;for(l=0|this.a.rv(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1;for(;a!==c||b!==d;){var B=p+p;B>-f&&(p-=f,a+=g);B<m&&(p+=m,b+=n);for(l|=this.a.rv(a,b,e);h!==this.a.width;)a+=h>>1,b+=h>>1,c+=h>>1,d+=h>>1,h<<=1}return l};c.prototype.iA=function(){var a=this.u.cf-this.A/2,b=this.u.Ig-
this.v/2,c=this.Pd-this.a.$,d=this.Od-this.a.da-(this.a.S?this.a.$/2:0),e=this.a.zoom,f=this.a.zoom*(this.a.ca&&4<=e?h.So:1);if(-1===this.u.cf)this.yc.xb="",this.yc.l=!this.hf;else{if(0!==this.a.Na){var g=Math.sqrt(a*a+b*b);b=180/Math.PI*Math.atan2(b,a);b-=this.a.Na;a=g*Math.cos(Math.PI/180*b);b=g*Math.sin(Math.PI/180*b)}f=b/f-c+this.a.vb;a=a/e+(this.a.S?c/2+f/2:0)-d+this.a.Bb;this.a.ca&&(a-=this.a.zoom/32*.2);d=a-Math.floor(a);c=f-Math.floor(f);a-=d;f-=c;this.a.ca&&(0===(a+this.Od+f+this.Pd&1)?1<
d+c&&(a+=1):1>1-d+c&&(a+=1));c=this.a.getState(a+this.Od,f+this.Pd,this.Ub&&this.Xb);a+=this.zd;f+=this.Ad;-1===this.a.ka||this.sg||(a-=Math.floor((-1===this.Rg?this.pg:this.Rg)/2),f-=Math.floor((-1===this.Qg?this.Kg:this.Qg)/2));a=-9999>a||9999<a?Number(a/1E4).toFixed(1)+"K":String(a);f=-9999>f||9999<f?Number(f/1E4).toFixed(1)+"K":String(f);this.yc.xb=a+","+f+"="+c;this.yc.l=!1}this.yc.enabled=this.hf||this.pa.current===h.nb&&-1!==this.u.cf?this.X||this.Ya||0===this.pg?!1:!0:!1};c.prototype.lz=function(a){if(!this.Ib&&
!this.wa)if(0<this.X)0<a?this.Oo(this,3):this.No(this,3);else if(0<this.Ya)0<a?this.Mo(this,3):this.Lo(this,3);else if(!this.hc){var b=this.zb.current[0];0>a?this.Uj(b,-.05):this.Uj(b,.05)}};c.prototype.NA=function(a,b){var c=b.w.current;var d=!1,e=!1,m=!1,f=!1,g=!1,n;b.hc=!1;b.Lq&&(b.Lq=!1,a=0);b.Xb||b.EA(b);b.ga=b.cc.current[0];b.pa.current!==h.nb?(a>h.by&&(e=!0),a>h.vv&&(a=h.vv),!b.Dc||b.Sb&&!b.nc||(b.Jg+=b.ga*b.Id*a/1E3,b.Ga+=b.Id*a/1E3,(b.Ga|0)>b.a.s?(b.Ga+=b.ga-1,b.lg=!0):b.elapsedTime+=a)):
b.lg&&(g=!0,b.Ga=b.Or?b.a.s+1:b.a.s+b.ga,b.Jg=b.Ga);b.ss();b.Sb&&!b.nc&&b.pa.current!==h.nb?(b.ee&&!b.w.Np(b.elapsedTime+a)&&(b.ee=!1,b.elapsedTime=b.w.wt(b.a.width/2-b.a.da,b.a.height/2-b.a.$,b.a.zoom,b.a.angle,b.a.G,b.a.tc*h.Wh,b.a.ue,b.Id,b.ga,b.a.s,b.elapsedTime)),c.od&&(b.Xf(!0,!1),b.ee=!1,c.x=b.a.width/2-b.a.da,c.y=b.a.height/2-b.a.$,b.wa&&(b.a.zoom*=b.Fc),c.zoom=b.a.zoom),(m=b.w.update(b.elapsedTime+a,b.a.s))?(c.od&&(c.od=!1,b.wa&&(b.a.zoom=c.zoom/b.Fc),b.zb&&(b.zb.current=b.eh([b.a.zoom,b.a.zoom],
!1,b))),b.Ga+=b.Id*a/1E3,(b.Ga|0)>b.a.s&&(b.Ga+=b.ga-1,b.lg=!0)):(b.pa.current!==h.nb&&(b.hc=!0),b.a.da=b.a.width/2-c.x,b.a.$=b.a.height/2-c.y,b.a.zoom=c.zoom,b.wa&&(b.a.zoom=b.a.zoom/b.Fc),b.zb&&(b.zb.current=b.eh([b.a.zoom,b.a.zoom],!1,b)),b.a.angle=c.angle,b.Eb&&(b.Eb.current=[b.a.angle,b.a.angle]),b.a.G=c.G,b.uc&&(b.uc.current=[b.a.G,b.a.G]),b.a.tc=c.depth/h.Wh+h.no,b.Mb&&(b.Mb.current=[Math.sqrt(b.a.tc),b.a.tc*h.Wh]),b.Id=c.lb,b.Oa&&(b.Oa.current=[Math.sqrt((c.lb-h.Ae)/(h.mi-h.Ae)),b.Mt(c.lb)]),
b.ga=c.step,b.cc.current=[b.ga,b.ga],c.ab>b.a.s?(b.lg=!0,b.Ga=c.ab):b.lg=!1,c.yd!==b.Zn&&(""===c.yd?b.h.notification.clear(!1,!1):b.h.notification.T(c.yd,1E3,!1),b.Zn=c.yd),c.ob!==b.Uq&&(b.Rc.current=b.Mj([c.ob,""],!0,b),b.Uq=c.ob)),b.lg||(b.elapsedTime+=a)):b.qb&&b.pa.current!==h.nb&&(b.hc=!0);b.hc&&(b.Ke=-1);c=0;if(b.lg){if(b.a.Ba){var l=performance.now();var q=(b.Ga|0)-b.a.s;for(n=0;!f&&b.a.s<(b.Ga|0);){c=performance.now()-l;if(b.a.s===b.yb-1||c>h.Pv&&!g)f=!0;b.hf&&(b.a.s===(b.Ga|0)-1||f)?b.a.pj(!0,
b.Lf,b.Pc):b.a.pj(!1,b.Lf,b.Pc);n+=1;(b.a.Dv||b.a.s===(b.Ga|0)||f)&&b.a.Zj();b.Tz(a,q);-1!==b.oa&&b.a.s>=b.oa&&!b.Za&&(b.elapsedTime=0,b.reset(b),m&&(b.hc=!0));b.a.Ba||(f=!0)}b.a.Ba||(b.qq=this.ba+(0<this.a.g?this.a.g:0),-1===b.jh&&(b.jh=b.a.s,b.a.nt(!0),!b.Cl||-1!==b.oa&&!b.Za||b.dk||b.h.notification.T("Life ended at generation "+b.jh,600,!0)));b.Ga-=q-n}else b.qq&&(--b.qq,a=b.a.s,b.a.s=b.jh,b.a.Zj(),b.a.s=a),b.a.s+=b.ga,-1!==b.oa&&b.a.s>=b.oa&&!b.Za&&(b.elapsedTime=0,b.reset(b),m&&(b.hc=!0));b.a.s===
b.yb&&(b.pa.current=b.Vd(h.nb,!0,b),b.Cl&&b.h.notification.T("STOP reached - Play to continue ",180,!0))}b.Ag.locked=b.hc&&b.Sb;b.hj.locked=b.hc||b.qb&&b.pa.current!==h.nb;b.Oa.locked=b.hc&&b.Sb;b.cc.locked=b.hc&&b.Sb;b.Rc.locked=b.hc&&b.Sb;b.zb.locked=b.hc;b.Eb.locked=b.hc&&b.Sb;b.uc.locked=b.hc&&b.Sb;b.Mb.locked=b.hc&&b.Sb;b.wheelDelta&&(b.lz(b.wheelDelta),b.wheelDelta=0);b.qb&&(b.pa.current!==h.nb||b.Sb)&&b.Xf(!1,!1);b.a.sz();b.wg&&b.Sx();b.a.Dn();b.a.Oe&&b.a.S&&4<=b.a.zoom?b.a.Rx():b.a.ca&&4<=
b.a.zoom&&b.a.Ux();b.pm&&(2===b.pm&&b.a.En(b.Ge,1,!0,b.wa),b.Yw(b),2===b.pm&&b.a.Dn(),b.pm=0);b.a.s&&b.a.Ba&&(m=h.fe,b.a.sa&&(m=4*b.a.Tb.vc+1,-1!==b.a.ka&&(m+=2*b.a.Tb.vc),b.a.Tb.type===PatternManager.jf&&(m=-1!==b.a.ka?m+b.a.na/2:m+(b.a.C.L-b.a.C.K+1)/2),m<h.fe&&(m=h.fe)),b.a.ax(m)&&(b.ae+=b.a.width>>2,b.bj+=b.a.height>>2,b.he+=b.a.width>>2,b.wj+=b.a.height>>2,b.a.S&&(b.ae-=b.a.height>>3,b.he-=b.a.height>>3),b.Od+=b.a.width>>2,b.Pd+=b.a.height>>2));b.Of&&b.w.hq(b);b.gb&&b.a.En(b.Ge,b.Vb,!1,b.wa);
b.X?Help.jq(b):b.Qb.length&&Help.iq(b);b.ce.lower[0]=b.Jn?"+ "+b.tm(b.a.s):"T "+b.tm(b.a.s+b.In);b.fj.xb=b.Sw(b.elapsedTime);b.ui.xb=b.tm(b.a.Aa);b.zl()?b.Cg.xb=(100*b.a.Aa/(b.a.na*b.a.la)|0)+"%":(b.Cg.xb=b.tm(b.a.Ab),b.Vh.xb=b.tm(b.a.jc));b.ui.F="alive "+b.a.Aa;b.zl()?b.Cg.F="density "+(100*b.a.Aa/(b.a.na*b.a.la)|0)+"%":(b.Cg.F="births "+b.a.Ab,b.Vh.F="deaths "+b.a.jc);b.dr||b.zA(c,e,g,b);b.lg=!1;b.Or=!1;b.iA();-1!==b.Ke&&b.qs();if(b.Dc||b.qb&&b.Ti>b.Uw||-1!==b.Ke)d=!0;b.AA();b.HA();b.BA();b.IA(b.X||
b.Qb.length);b.h.Og(d)};c.prototype.zA=function(a,b,c,d){a>h.Pv&&!c?(d.qg+=h.Ou,d.qg>=2*h.lr&&(d.qg=0)):0<d.qg&&(d.qg-=h.Ou);b&&!c?d.rg<h.Uy&&(d.rg+=h.Pu):d.rg>h.Vy&&(d.rg-=h.Pu);d.qg>=h.lr&&(d.gB=2*h.lr-d.qg);a=d.Kj>>16;b=d.Kj>>8&255;c=d.Kj&255;128<=a?64<=b||64<=c?(b-=d.rg,c-=d.rg,0>b&&(b=0),0>c&&(c=0)):(b+=d.rg,255<b&&(b=255)):(a+=d.rg,255<a&&(a=255));d.Oa.Tc="rgb("+a+","+b+","+c+")";a=d.Kj>>16;b=d.Kj>>8&255;c=d.Kj&255;128<=b?(a-=d.rg,0>a&&(a=0),c-=d.qg,0>c&&(c=0)):(b+=d.qg,255<b&&(b=255));d.cc.Tc=
"rgb("+a+","+b+","+c+")"};c.prototype.ss=function(){if(this.fc&&!this.gc){this.a.Bb=this.Jg*(this.Yg+this.Bh)/2;this.a.vb=this.Jg*(this.Ah+this.Zg)/2;var a=this.a.ew(0,this.Ah,this.Yg,this.Zg,this.Bh,this.A,this.v-80,h.Wa,h.Hb,h.jp);var b=this.a.ew(this.Jg,this.Ah,this.Yg,this.Zg,this.Bh,this.A,this.v-80,h.Wa,h.Hb,h.jp);this.a.Ob=b/a}else this.a.Bb=0,this.a.vb=0,this.a.Ob=1;this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this)};c.prototype.IA=function(a){var b=!(this.X&&this.di===h.Eh);var c=
[];var d=[];this.Ag.l=a;this.zb.l=a||this.gb;this.hj.l=a;this.bi.l=a;this.me.l=a||this.gb;this.Ed.l=a||this.gb;this.Ha.l=a||this.gb;this.li.l=a||this.gb;this.oj.l=a;this.Lb.l=a||!this.gb;this.Rk.l=a||!this.gb;this.mk.l=a||!this.gb;this.Re.l=a;this.fj.l=a;this.Se.l=a;this.ui.l=a;this.Cb.l=a||this.Gh();this.Cg.l=a||this.Gh();this.ne.l=a||this.zl()||this.Gh();this.Vh.l=a||this.zl()||this.Gh();this.Kc.l=a;this.Eb.l=a||this.a.S||this.a.ca;this.Mb.l=a;this.Rc.l=a||this.Ub;this.uc.l=a;this.hj.l=a;this.vg.l=
a||!this.zh;this.Rb.l=!(this.ye||this.Qb.length);this.ei.l=a;this.fi.l=a;this.Wj.l=a;this.hi.l=a;this.ai.l=a;this.lk.l=a;this.oh.l=a;this.kk.l=a;this.Fk.l=a;this.gk.l=a;this.bh.l=a;this.cg.l=a||!this.Ea;this.kd.l=a||!this.Ea;this.dg.l=a||!this.Ea;this.ld.l=a||!this.Ea;this.yf.l=a||!this.Ea;this.ed.l=a||!this.Ea;this.Sk.l=a||!this.Ea;this.Ih.l=a||!this.Ea;this.Jh.l=a||!this.Ea;this.Kh.l=a||!this.Ea;this.Oi.l=a||!this.Ea;this.fd.l=a||!this.Ea;this.hd.l=a||!this.Ea;this.jd.l=a||!this.Ea;this.gd.l=a||
!this.Ea;this.Qb.length?(this.Rb.F="close errors",this.Rb.xb="Esc",this.Rb.font="16px Arial"):(this.Rb.F="close window",this.Rb.xb="X",this.Rb.font="24px Arial");this.Ri.l=!(this.X&&this.di!==h.Eh);this.bb.l=!(this.X&&this.di!==h.Eh)||!this.um;this.uf.l=b;this.wf.l=b;this.sf.l=b;this.xf.l=b;this.qf.l=b;this.nf.l=b;this.oe.l=b;this.Dh.l=b||0===this.w.Xl();this.Lh.l=!(this.X&&this.di!==h.Eh)||this.um;if(this.fl){this.fl=!1;for(b=0;b<this.R.length;b+=1)c[b]=this.R[b][1],d[b]="";this.bb.lower=c;this.bb.F=
d;this.bb.height=26*this.R.length;this.bb.current=0}this.bc.l=a||!this.xe||!this.Ck;this.i.l=a||!this.xe||!this.Ck;if(2>=this.a.g)for(b=0;b<this.i.lower.length;b+=1)c=2>=b?0===b?b:1===b?LifeConstants.cb:LifeConstants.Uh:128+h.hb[b],this.i.gl[b]="rgb("+this.a.Qa[c]+","+this.a.Pa[c]+","+this.a.Ma[c]+")";else for(b=0;b<this.i.lower.length;b+=1)c=0===b+this.Pf?0:this.ba+this.a.g-(b+this.Pf),this.i.gl[b]="rgb("+this.a.Qa[c]+","+this.a.Pa[c]+","+this.a.Ma[c]+")";this.uk.l=a||!this.xe;this.yg.l=a||!this.xe;
this.Nh.l=a||!this.xe||!this.Ck||8>this.a.g;this.a.g>this.ph&&this.ro();if(0<this.X){b=0;for(c=-1;b<this.R.length&&-1===c;)this.R[b][0]>this.X?c=this.R[b][0]:b+=1;b===this.R.length&&(c=b);-1!==c&&(this.bb.current=b-1)}this.Hl&&(this.u.l=this.pa.current===h.ni?!0:!1)};c.prototype.BA=function(){var a=-(this.a.width/2-this.a.da-this.a.Bb|0),b=-(this.a.height/2-this.a.$-this.a.vb|0),c=String(a),d=String(b);this.cg.l=!this.Ea;this.kd.l=!this.Ea;this.dg.l=!this.Ea;this.ld.l=!this.Ea;this.yf.l=!this.Ea;
this.ed.l=!this.Ea;this.Sk.l=!this.Ea;this.Ih.l=!this.Ea;this.Jh.l=!this.Ea;this.Kh.l=!this.Ea;this.Oi.l=!this.Ea;this.fd.l=!this.Ea;this.hd.l=!this.Ea;this.gd.l=!this.Ea;this.jd.l=!this.Ea;if(-99999>a||99999<a)c=(a/1E3|0)+"K";if(-99999>b||99999<b)d=(b/1E3|0)+"K";this.kd.xb=c;this.ld.xb=d;this.ed.xb=this.a.angle.toFixed(0)+"\u00b0";this.fd.xb=this.en.toFixed(3);this.hd.xb=this.gn.toFixed(3);this.jd.xb=this.hn.toFixed(3);this.gd.xb=this.fn.toFixed(3)};c.prototype.HA=function(){0===this.a.s?this.hn=
this.en=this.gn=this.fn=0:(this.gn=(this.a.C.L-this.a.Ld.L)/this.a.s,this.fn=(this.a.C.K-this.a.Ld.K)/this.a.s,this.en=(this.a.C.O-this.a.Ld.O)/this.a.s,this.hn=(this.a.C.N-this.a.Ld.N)/this.a.s)};c.prototype.AA=function(){this.Ag.current=[this.qb];this.me.current=[!this.Rh&&this.qe];this.me.locked=!this.qe;this.fc?(this.Ha.lower[0]="TRACK",this.Ha.current=[!this.gc&&this.fc],this.Ha.locked=!this.fc,this.Ha.F=["toggle track mode"]):(this.Ha.lower[0]="WAYPT",this.Ha.current=[!this.nc&&this.Sb],this.Ha.locked=
!this.Sb,this.Ha.F=["toggle waypoint mode"]);this.li.current=[!this.Za&&-1!==this.oa];this.li.locked=-1===this.oa;this.li.F=["loop at "+this.oa];this.Ed.current=[-1!==this.yb];this.Ed.locked=-1===this.yb;this.Ed.F=["stop at "+this.yb]};c.prototype.Tz=function(a,b){if(this.a.s>=this.Sc.length){var c=this.a.j.V(Float32,this.Sc.length+h.Hu,"View.elapsedTimes");c.set(this.Sc);this.Sc=c}this.elapsedTime+=a/b;this.Sc[this.a.s]=this.elapsedTime};c.prototype.LA=function(a){var b=a.tA,c=a.Dj-a.Ug;if(a.Ug<
a.Dj)if(0<a.Wp)--a.Wp;else if(a.Un)a.Ii.innerHTML=a.Am,a.Ug=a.Dj;else{c<b&&(b=c);var d=document.createElement("textarea");a.Fq(d);if(b!==c)for(;"\n"!==a.Am[a.Ug+b];)--b;d.innerHTML=a.Am.substr(a.Ug,b);a.Ug+=b;a.Ii.appendChild(d)}else a.h.notification.T("Press Enter to complete copy",1E4,!0);a.FA(a);a.a.Dn();a.Of&&a.w.hq(a);a.gb&&a.a.En(a.Ge,a.Vb,!1,a.wa);a.X?Help.jq(a):a.Qb.length&&Help.iq(a);a.h.Og(!0)};c.prototype.MA=function(a){for(var b=a.Vp,c=performance.now(),d,e=a.a.Sd.Dy*LifeConstants.vm;a.a.s<
b-1&&13>performance.now()-c;)d=b-1-a.a.s<=e?!1:!0,a.a.pj(!1,d,a.Pc),a.a.Zj();a.a.s===b-1?(a.a.pj(a.hf,!1,a.Pc),a.a.Zj(),a.Zi=!1,a.Up&&a.h.notification.clear(!0,!1),a.u.locked=!1):a.u.locked=!0;a.GA(a,b);a.a.Dn();a.Of&&a.w.hq(a);a.gb&&a.a.En(a.Ge,a.Vb,!1,a.wa);a.X?Help.jq(a):a.Qb.length&&Help.iq(a);a.h.Og(!0)};c.prototype.Vw=function(a,b){b.Zi?b.MA(b):b.kl?b.LA(b):b.NA(a,b)};c.prototype.Ds=function(a){a.a.s=0;a.Ga=0;a.Jg=0;a.elapsedTime=0;a.a.da=a.a.width>>1;a.a.$=a.a.height>>1;a.a.da&=a.a.width-1;
a.a.$&=a.a.height-1;a.a.Ba=!0;a.Lq=!0;a.jh=-1};c.prototype.$v=function(a,b,c){b&&(c.wg=a[0]);return[c.wg]};c.prototype.Wv=function(a,b,c){b&&(c.Cf=a[0]);return[c.Cf]};c.prototype.Zv=function(a,b,c){b&&(c.a.mh=a[0]);return[c.a.mh]};c.prototype.Xv=function(a,b,c){b&&(c.Ea=a[0]);return[c.Ea]};c.prototype.As=function(a,b,c){b&&(c.gb=a[0]);return[c.gb]};c.prototype.Yv=function(a,b,c){b&&(c.Of=a[0]);return[c.Of]};c.prototype.Tv=function(a,b,c){b&&(c.a.Cc=a[0]);return[c.a.Cc]};c.prototype.Vv=function(a,
b,c){b&&(c.a.Oe=a[0],c.rs());return[c.a.Oe]};c.prototype.Bs=function(a,b,c){b&&(c.a.S=a[0],c.a.S?(c.a.da-=c.a.$/2,c.ae-=c.a.$/2,c.he-=c.a.$/2):(c.a.da+=c.a.$/2,c.ae+=c.a.$/2,c.he+=c.a.$/2),c.rs(),c.Eb.l=c.a.S);return[c.a.S]};c.prototype.jl=function(a,b,c){b&&(c.h.Ai=a[0]);c.h.Og(!0);return[c.h.Ai]};c.prototype.Mk=function(a,b,c){b&&(c.h.Bi=a[0]);c.h.Og(!0);return[c.h.Bi]};c.prototype.Mj=function(a,b,c){b&&(b=a[0]+.5|0,c.a.ue!==b&&(c.a.Bk(b,c.a.Xi,c),1<c.a.Xi&&(c.h.Li=c.a.Xi)));return[a[0],c.gs(c.a.ue)]};
c.prototype.Ni=function(a,b,c){b&&(c.ga=a[0]+.5|0);return[c.ga,c.ga]};c.prototype.Mt=function(a){return(10>a.toFixed(1)?a.toFixed(1):a.toFixed(0))+"/s"};c.prototype.dh=function(a,b,c){b?(c.Id=h.Ae+a[0]*a[0]*(h.mi-h.Ae),a=a[0]):a=Math.sqrt((c.Id-h.Ae)/(h.mi-h.Ae));return[a,c.Mt(c.Id)]};c.prototype.nv=function(a){a.zk=a.a.zoom;a.wa&&(a.zk=a.zk*a.Fc);a.Er=a.a.angle;a.he=a.a.da;a.wj=a.a.$};c.prototype.Iz=function(a){a.Ei=a.a.width/2-a.a.da;a.Fi=a.a.height/2-a.a.$;a.zj=a.a.zoom;a.Di=a.a.angle;a.lh=a.a.width/
2-a.he;a.gj=a.a.height/2-a.wj;a.ek=a.Er;a.wa?a.Zh=a.zk/a.Fc:a.Zh=a.zk;a.Ke=0};c.prototype.Dz=function(a,b){a.a.zoom=a.Ft;a.wa&&(a.a.zoom=a.a.zoom/a.Fc);a.zb&&(a.zb.current=a.eh([a.a.zoom,a.a.zoom],!1,a));a.a.angle=a.$j;a.Eb&&(a.Eb.current=[a.$j,a.$j]);a.a.da=a.ae;a.a.$=a.bj;b&&(b=a.a.Xi,a.a.Xi=1,a.Rc.current=a.Mj([a.yn,""],!0,a),a.a.Xi=b,a.Ub&&(a.a.Wi=0),b=Math.sqrt((a.eq-h.Ae)/(h.mi-h.Ae)),a.Oa.current=a.dh([b,b],!0,a),a.ga=a.xn,a.cc.current=[a.ga,a.ga],a.a.G=a.bk,a.uc.current=[a.bk,a.bk],b=Math.sqrt(a.cq),
a.Mb.current=a.Ch([b,b],!0,a))};c.prototype.Dp=function(a){a?(this.a.da+=this.a.Bb,this.a.$+=this.a.vb,this.a.zoom*=this.a.Ob):(this.ss(),this.a.da-=this.a.Bb,this.a.$-=this.a.vb,this.a.zoom/=this.a.Ob,this.ss());this.a.zoom<h.Wa?this.a.zoom=h.Wa:this.a.zoom>h.Hb&&(this.a.zoom=h.Hb)};c.prototype.ev=function(a){a.elapsedTime=0;a.Ub||(a.a.Jo(a.Lf),a.a.Ba=!0,a.a.zr())};c.prototype.reset=function(a){var b=!1,c=!1;if(0===a.elapsedTime||a.Qn)b=!0;a.Za||-1===a.oa||a.a.s>=a.oa&&(c=!0);c||b||(a.Sb&&(a.nc=
!0),a.fc&&(a.gc=!0),-1!==a.oa&&(a.Za=!0),a.Vm&&(a.qb=!1));a.elapsedTime=0;a.a.Bb=0;a.a.vb=0;a.a.Ob=1;if(b){a.Sb&&(a.nc=!1);a.fc&&(a.gc=!1);a.Vm&&(a.qb=!0);if(!c||a.Sb||a.qb)a.Dz(a,b),a.qb&&a.Xf(!0,!1);a.Za=!1}a.Ub||(a.a.Jo(a.Lf),a.Ga=a.a.s,a.Jg=a.Ga,a.a.Ba=!0);a.Pc||a.a.fv();a.a.zr();a.Zn="";a.Uq=-1;a.ee=!1;a.w.Gz();a.h.notification.clear(!1,!1);a.jh=-1};c.prototype.pv=function(a){a?(this.pa.icon[2]=this.ia.icon("pause"),this.pa.F[2]="pause"):(this.pa.icon[2]=this.ia.icon("stepforward"),this.pa.F[2]=
"next generation")};c.prototype.gf=function(a,b){b.di=a;b.X=1;b.um=!0;b.zq=[];b.Aq=[];this.fl=!0};c.prototype.iw=function(a){a.gf(h.fu,a)};c.prototype.ow=function(a){a.gf(h.Hr,a)};c.prototype.tp=function(a){a.gf(h.Il,a)};c.prototype.ww=function(a){a.gf(h.Ev,a)};c.prototype.Js=function(a){a.gf(h.qt,a)};c.prototype.xr=function(a){a.gf(h.Ts,a)};c.prototype.jw=function(a){a.gf(h.zu,a)};c.prototype.Fr=function(a){a.gf(h.Zs,a)};c.prototype.xx=function(a,b,c){b&&(c.X=c.R[a][0],c.um=!1);return a};c.prototype.Cs=
function(a,b,c){var d=a;if(b)switch(a){case h.Fu:c.Xb||c.a.Zb?(c.h.notification.T("Drawing not available",40,!0),d=h.Ul):(c.xe=!0,c.uk.current=c.ns([!1],!0,c));break;case h.Ul:c.xe=!1}return d};c.prototype.Es=function(a,b,c){var d=a;b&&(c.Ye=a,2>=c.a.g?b=c.a.sc?h.wv[c.Ye]:c.Ye?"Alive":"Dead":(a+=c.Pf,0===a?(c.Ye=0,b="Dead"):(c.Ye=c.a.g-a,b=1===a?"Alive":"Dying "+String(a-1))),c.h.notification.T("Drawing with state "+a+" ("+b+")",120,!0),c.uk.current=c.ns([!1],!0,c));return d};c.prototype.Vx=function(a,
b,c){var d=0;if(b)for(;d<a.length;)a[d]&&(a[d]=!1,c.bc.current=c.Es(d,!0,c)),d+=1;return a};c.prototype.Vd=function(a,b,c){var d=a,e=c.Za,f=c.nc,m=c.Rh,g=c.qb,p=c.gc,n=40,l=0,q=0,A=0,C=0,z=0;if(b){switch(a){case h.$q:c.Rh=c.Qn||c.qe&&0===c.a.s&&0===c.elapsedTime?!1:!0;c.qe&&!c.Rh?(a=h.ni,c.Dc=!0,c.dk=0===c.a.Aa?!0:!1):(a=h.nb,c.Dc=!1);c.reset(c);b="Reset";!c.Za&&e&&-1!==c.oa&&(l=1);c.Za&&!e&&-1!==c.oa&&(l=-1);!g&&c.qb&&(z=1);g&&!c.qb&&(z=-1);!c.nc&&f&&(q=1);c.nc&&!f&&(q=-1);!c.gc&&p&&(A=1);c.gc&&
!p&&(A=-1);!c.Rh&&m&&c.qe&&(C=1);c.Rh&&!m&&c.qe&&(C=-1);if(0!==l||0!==q||0!==A||0!==C||0!==z){b="";0!==l&&(b+="Loop");if(0!==q||0!==A||0!==z)0!==l&&(b=0!==C?b+", ":b+" and "),b=0!==q?b+"Waypoints":0!==A?b+"Track":b+"AutoFit";if(0!==C){if(0!==l||0!==q||0!==A||0!==z)b+=" and ";b+="AutoStart"}b=0<l||0<q||0<A||0<C||0<z?b+" On":b+" Off";n=120}c.h.notification.T(b,n,!0);break;case h.ni:c.pa.current!==h.ni&&(c.Dc=!0,c.dk=0===c.a.Aa?!0:!1,c.h.notification.T("Play",40,!0));break;case h.Ny:c.Dc?(c.Dc=!1,c.h.notification.T("Pause",
40,!0)):0<c.a.s&&c.mm(c.a.s-c.ga);a=h.nb;break;case h.nb:c.Dc?(c.Dc=!1,(c.a.s!==c.yb||c.Cl)&&c.h.notification.T("Pause",40,!0)):(c.lg=!0,c.dk=0===c.a.Aa?!0:!1)}d=a;c.pv(c.Dc)}return d};c.prototype.Lm=function(a,b,c){b&&(c.ee=!0,c.a.angle=a[0]);return[c.a.angle,c.a.angle]};c.prototype.Mm=function(a,b,c){b?(c.ee=!0,c.a.G=a[0]+.5|0,a=a[0]):a=c.a.G;return[a,c.a.G]};c.prototype.Ch=function(a,b,c){return b?(c.ee=!0,c.a.tc=a[0]*a[0],[a[0],c.a.tc*h.Wh]):[Math.sqrt(c.a.tc),c.a.tc*h.Wh]};c.prototype.Qx=function(a,
b,c,d){var e=this.Ye;-1===c&&-1===d?(this.sk=this.Zu(),2<this.a.g&&(e=this.a.g-e),this.sk=this.Ro&&this.sk===e?0:this.Ye):(this.mo(c,d),c=this.Nj,d=this.Oj,this.mo(a,b),a=this.Nj,b=this.Oj,this.mp(c,d,a,b,this.sk)&&this.a.fz());0<this.a.Aa&&(this.jh=-1,this.a.Ba=!0)};c.prototype.Zx=function(a,b,c,d){d.Hl&&!c&&(d.pa.current=d.Vd(h.nb,!0,d))};c.prototype.Zw=function(a,b,c,d){d.Uv(a,b,c,d,!1)};c.prototype.Uv=function(a,b,c,d,e){if(c){if(d.X||d.Ya||!d.xe||e){if(-1!==d.lj)if(d.X)e=d.ii-b,e/=h.fontSize,
0<e?d.No(d,e):0>e&&d.Oo(d,-e);else if(d.Ya)e=d.ii-b,e/=h.fontSize,0<e?d.Lo(d,e):0>e&&d.Mo(d,-e);else{c=(d.lj-a)/d.a.ma;e=(d.ii-b)/d.a.ma/(d.a.ca&&4<=d.a.ma?h.So:1);var f=d.a.S||d.a.ca?0:-d.a.angle;if(!d.hc){var g=Math.sin(f/180*Math.PI);f=Math.cos(f/180*Math.PI);d.ee=!0;d.a.da+=c*f+e*-g;d.a.$+=c*g+e*f}}}else d.xe&&-1!==a&&-1!==b&&!d.tk&&d.Qx(a,b,d.lj,d.ii);d.lj=a;d.ii=b}else e||!0!==d.tk||-1===a||-1===b||(d.sk=d.Zu(),a=d.Pf,d.Pf=0,d.bc.current=d.Es(d.sk,!0,d),d.Pf=a),d.lj=-1,d.ii=-1};c.prototype.pi=
function(a,b){8>this.a.zoom&&(0>a?a=-8:0<a&&(a=8),0>b?b=-8:0<b&&(b=8));this.ii=this.lj=0;this.Uv(a,b,!0,this,!0);this.ii=this.lj=-1};c.prototype.Ps=function(a){var b=h.cu;null===b&&(b=new Image,b.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtAAAAAoCAIAAABYa1qWAAAABnRSTlMAAAAAAABupgeRAAAHbklEQVR4nO2dWbKtKBBFtaIGfIbijK0P4xIUSL8zE3Cvr/fEmx1dHkQ8DkIIIYQQQghp5ff7iV7/MtKxZcw/yFPpcdVLXw/uydwAKf03o56QRbnvO7hynqeCZCu9Vtz3rWOGmiJCTLiu6/f7Xdeldr0v3x0pPZhwkI2RmKLy6YWtXn3O8wxSAUhmICFzAxgHAiROSp50Ib6OKj2O458uUwmZnWculJOfGv2t9FrxNX8J2ZLXdRF4KRMOsi1yc2F+FrTSa8XX/CVkV54nL0KlBxMOsjcSc2HNLGil14qv+UvITugsbxCyJ8HkB5wL85Kt9MaYvDFx3zfEZZQcIazeUpk5Jj4TVt+EJgXM8JZKcPN4aXxn8geE1c+L1o14kI17vpARr3f6TfbExLmD2iBZlBPoRSGxmXESvfpvUfo/WSRen9F8Jae+gmzjfIgNL1ixqLEURdCWZjApxl8GUPt3/I9Xk+Cl79x/VN2N406Aur8oZNDsPqUQ+iyvdAeltChHwp0PwjMhahjvPppxlugUg+7nBwr/CsDWAfOExkkIVqsaVqXvWFVS68TWen9RyKDBfX+FotX4om1Fg0eEFxVB3PkmTDgqGWzPqyccI2JfQxdcMezOqaFmiYFFp10pnPQVUHsOxy2z0L00SzTcVqZy6t7oERWZCjegSb/WOzm7drEv12klLiGQO+krKL2uq+3gL6YdD7u25gn92nVATBFUwdK+tzYnfWef1vXonbDxT06Qq9V3VdFOXazHpfsUEPcWq9xJX3Fpz0mjX047UKOSxO+qwRqZdsD9Ws6xE/UVp9n83AjmFthd2vEpxntWxzjmHrUIbYCFy9wVyLbQvOSY/nM4VnkYhgLu74lmxJjJq3Jy88hyPP3FfzeKbUwB0SDXCP9gWpkCcrTG607VTOnowV9f6Kjb+7iEd0sYSeZnp4dWI0isMQSxVe6zRXdq/M1sNXXuoO55SM3ZctcDRE8XDUpz53DkrYyBNN+U3pTw1vuLQvw/tAqCJnkf/Z+A+RsG1RUV9albjo7p0Px8iBRNU5rQGnus5Yii6mKeN8A8ztgQAaVVjpPB8xfpdCfWXikkM9e47T6Qexwm53DUGIAtzZFP0Cpztw5axULMiP/Qyn1l6t1B+dutaNEIWzHDa7FNlaVQs6km1NqupGObul5pZM1tg9GOI1bsttId2Zc5oitzsy8fco+P9NkbxbMx8i+tQEoPiW+prD4rqNnf0UWxHXjRalrU7KPuyIfBOl0IK+9Syxt7cP9tyZRWIa2lifv/C1crroM+Tx/ixQDp6wHdu0FrSg+5j7dtP1wOIhGcJplL187SxpOHqWaFqYyBkOkjt/rDlBjss6G8wP0qVwKdnRz8WiwhRAl/flLOGl+npeJctRb337EiDzq/+jpUSGcb/sVtKncPpBKO8Rc1iShL187Sxn8Zv+I0K3GzxOKVeN3CpR3521qJ/9xqxZHZBhDRhymuFJ9wrJ5q6NgvoaJV5qLVtKjZxKGwzyBWV399RTJphL/UgXJ5hj74hSUrfUQfrBzYhGP1VMNHwZfsIV499NkA90uU5Qz2qamv8Tqdn9Pi1+frzKRvhgTFRYunLWETLNu47ZdtSJ+9kT+TQ2d540CdwwGs45TelIrW+4tC4j+0CoUaGQedO5A418ipMWYbAmfjWaHGZfPzIVI0rd4DdzIGYp9/jE9O5nGOQ9TqBTbIfRnMuAGi2UbeqbPiszv19zimOodD9L9JEq9ehpQFNdKqCGLYiCLpgOhQdAflr5qiJYh9RHnNczic2DiSwEalGWc5L7pJ9dYMEI01F1fB8OyNvAESpUmk202rXtT9RSF95kmHRYG8Oyh/i3I2i2qe2E2U40w4nNg4nsBGZZhwvF7RJ9Wjiz29W1fNxdVRaFeos7yaSnu+FrvfynY9NctllcA7yWC9wJ/yovhye1ud2VqUs2ePRjWDF03jxrjBO+3bsOXKfp5eqLQt4WC9PoynHRID8W3xsWlp2OTWhXX3ESrHjcH2kFrgYTPrI7+GEd82XnpdV23CwUqNAa52zMNUOcf2rS52cHuXZ4BBhqM/bjDbGCS/SnH8pQvY0vJrsRu/ngdhv/hM4s4kZpDNYLtaET+9eDZt7DfwKqP2KqxPLuFgjdbTGiuJwAJlmtc73ACrbTdzbvcBgt0V2CczsznRNaS9jzb5CFumGlZnbzzofELFsU+1EeIItrOM726plGyi1/x8CAdqlbtDTpyUwOck8zgDmxOZCvNzODL2jJTWHsJByNL40w98eSAj3EpvjP5rsTfu8GygKAmkY5u6Pm1AyDjSZ2/kz+SQO3hDP00nRBs3NAuN0Sn5VnpjlBMOrOPSYRyECQeRwKpdBaUjx3IUD+3g5+nJtsgtQef35FvpteJr/hryulsFiLV/xBjRnaRH38FfhMyP9APv1FxopdcKHX+5d+GYYCs32Rid3aNMOMi2+BMzcPPmtHr1iVMBiL+xTOYchGAZfPLSUXow4SBbIjc55SVb6bVCzao53SdkXV6/Gft6HVVKCCGEEKLBfwV0RB7MVN6yAAAAAElFTkSuQmCC",
h.cu=b);this.ia=new IconManager(b,a);this.ia.add("play",40,40);this.ia.add("pause",40,40);this.ia.add("tostart",40,40);this.ia.add("menu",40,40);this.ia.add("stepback",40,40);this.ia.add("stepforward",40,40);this.ia.add("autofit",40,40);this.ia.add("fit",40,40);this.ia.add("grid",40,40);this.ia.add("shrink",40,40);this.ia.add("draw",40,40);this.ia.add("hexgrid",40,40);this.ia.add("lines",40,40);this.ia.add("pan",40,40);this.ia.add("pick",40,40);this.ia.add("states",40,40);this.ia.add("hexagongrid",
40,40);this.ia.add("trianglegrid",40,40)};c.prototype.rs=function(){this.bi.icon=this.a.S?this.a.Oe?[this.ia.icon("hexagongrid")]:[this.ia.icon("hexgrid")]:this.a.ca?[this.ia.icon("trianglegrid")]:[this.ia.icon("grid")]};c.prototype.Eo=function(a,b){a.h.hasFocus&&(a.Zi||(b.wheelDelta?a.wheelDelta=b.wheelDelta/120:b.detail&&(a.wheelDelta=-b.detail/3),a.h.Og(!0)),b.preventDefault())};c.prototype.qs=function(){var a=this.w.bt(0===this.zm?0:this.Ke/this.zm),b=this.Di,c=this.ek;this.a.da=this.a.width/
2-(this.Ei+a*(this.lh-this.Ei));this.a.$=this.a.height/2-(this.Fi+a*(this.gj-this.Fi));this.a.zoom=this.zj*Math.pow(this.Zh/this.zj,a);180<c-b?b+=360:-180>c-b&&(c+=360);this.a.angle=(b+a*(c-b))%360;this.zn&&(this.a.tc=this.Ur+a*(this.lq-this.Ur),this.Mb.current=this.Ch([this.a.tc,this.a.tc],!1,this));this.$n&&(this.a.G=this.Vr+a*(this.mq-this.Vr),this.uc.current=this.Mm([this.a.G,this.a.G],!1,this));this.Ke+=1;this.Ke>this.zm&&(this.Ke=-1,this.a.zoom=this.Zh,this.a.angle=c%360,this.a.da=this.a.width/
2-this.lh,this.a.$=this.a.height/2-this.gj,this.zn&&(this.a.tc=this.lq,this.Mb.current=this.Ch([this.a.tc,this.a.tc],!1,this)),this.$n&&(this.a.G=this.mq,this.uc.current=this.Mm([this.a.G,this.a.G],!1,this)));this.zb&&(this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this));this.Eb&&(this.Eb.current=this.Lm([this.a.angle,this.a.angle],!1,this))};c.prototype.Jr=function(a,b){var c=a.w.wb[b];a.Ei=a.a.width/2-a.a.da;a.Fi=a.a.height/2-a.a.$;a.zj=a.a.zoom;a.Di=a.a.angle;c.le?a.lh=c.x:a.lh=a.Ei;c.Wd?
a.gj=c.y:a.gj=a.Fi;c.Gc?a.Zh=c.zoom:a.Zh=a.zj;c.pf?a.ek=c.angle:a.ek=a.Di;a.a.S&&(a.lh+=a.a.$/2);a.zn=c.vf;a.zn&&(a.Ur=a.a.tc,a.lq=c.depth/h.Wh);a.$n=c.Ff;a.$n&&(a.Vr=a.a.G,a.mq=c.G);a.Ke=0;a.zm=c.Mg;a.qs();c.vj&&a.ev(a);c.Ce===WaypointConstants.play?a.pa.current=a.Vd(h.ni,!0,a):c.Ce===WaypointConstants.stop&&a.pa.current!==h.nb&&(a.pa.current=a.Vd(h.nb,!0,a));c.Td&&(a.Rc.current=a.Mj([c.ob,""],!0,a));a.h.notification.T("POI "+(b+1),60,!0);""!==c.yd?a.h.notification.T(c.yd,180,!1):a.h.notification.clear(!1,
!0);c.Gi&&(a.yb=c.yb);c.ki&&(a.oa=c.oa);c.zf&&(a.Id=Math.sqrt((c.lb-h.Ae)/(h.mi-h.Ae)),a.Oa.current=a.dh([a.Id,a.Id],!0,a));c.Qf&&(a.ga=c.step,a.cc.current=a.Ni([a.ga,a.ga],!0,a));c.ym&&(a.a.s>c.ab&&a.ev(a),a.a.s<c.ab&&(a.Zi=!0,a.Vp=c.ab,a.Up=!1));c.jj&&(a.a.kb=c.qc);c.To&&(this.wg=c.Ci)};c.prototype.tf=function(a,b,c){var d=b/a.a.Ob;c&&(b=1<=b?Math.round(b):1/Math.round(1/b),d=b/a.a.Ob);a.hc||(a.Ei=a.a.width/2-a.a.da,a.Fi=a.a.height/2-a.a.$,a.zj=a.a.zoom,a.Di=a.a.angle,a.lh=a.Ei,a.gj=a.Fi,a.Zh=d,
a.ek=a.Di,a.Ke=0)};c.prototype.qp=function(a){a.gb=!1;a.ai.current=a.As([a.gb],!0,a)};c.prototype.ys=function(a){a.Qb.length?(a.Qb=[],a.Ya=0):e()};c.prototype.kw=function(a){a.Kb+=1;a.Kb>=A.Ec.length&&(a.Kb=0);a.wh(A.Ec[a.Kb].pattern,!1)};c.prototype.lw=function(a){--a.Kb;0>a.Kb&&(a.Kb=A.Ec.length-1);a.wh(A.Ec[a.Kb].pattern,!1)};c.prototype.uw=function(a){a.bs();a.X&&(a.X=0);a.Jf.current[0]=!1;a.h.Wg=!0};c.prototype.pw=function(a){a.um=!0};c.prototype.zw=function(a){a.gf(h.Eh,a)};c.prototype.np=function(a){a.Xf(!0,
!0);a.pa.current===h.nb&&(a.ee=!0)};c.prototype.Gv=function(a,b,c){b&&(c.a.kb=a[0]);return[c.a.kb]};c.prototype.Hv=function(a,b,c){b&&(c.Ge=a[0]);return[c.Ge]};c.prototype.ao=function(a,b,c){b&&(c.Ck=a[0]);return[c.Ck]};c.prototype.ns=function(a,b,c){b&&(c.tk=a[0],c.tk&&c.h.notification.T("Now click on a cell",180,!0));return[c.tk]};c.prototype.Fv=function(a,b,c){b&&(c.qb=a[0],c.qb&&c.pa.current===h.nb&&c.Xf(!0,!0));return[c.qb]};c.prototype.xw=function(a,b,c){b&&-1!==c.oa&&(c.Za=!a[0],c.Sb?(c.nc=
c.Za,c.h.notification.T("Loop and Waypoints "+(c.Za?"Off":"On"),40,!0)):c.fc?(c.gc=c.Za,c.h.notification.T("Loop and Track "+(c.Za?"Off":"On"),40,!0),c.Dp(c.gc)):c.h.notification.T("Loop "+(c.Za?"Off":"On"),40,!0));return[c.Za]};c.prototype.yw=function(a,b,c){b&&(c.fc?(c.gc=!a[0],c.Dp(c.gc),-1!==c.oa?(c.Za=c.gc,c.h.notification.T("Loop and Track "+(c.Za?"Off":"On"),40,!0)):c.h.notification.T("Track "+(c.gc?"Off":"On"),40,!0)):c.Sb&&(c.nc=!a[0],-1!==c.oa?(c.Za=c.nc,c.h.notification.T("Loop and Waypoints "+
(c.Za?"Off":"On"),40,!0)):c.h.notification.T("Waypoints "+(c.nc?"Off":"On"),40,!0)));return c.fc?[c.gc]:[c.nc]};c.prototype.Gm=function(a,b,c){b&&(c.X=a[0],c.X?c.Qb.length&&c.gf(h.Hr,c):(c.gf(h.Eh,c),c.X=0));return[c.X]};c.prototype.gp=function(a,b,c){b&&(c.hf=a[0],c.hf&&(c.a.Ba?0===c.a.s?(c.a.Aa=c.a.Io.Aa,c.a.Ab=c.a.Io.Ab,c.a.jc=c.a.Io.jc):-1===c.a.g&&(--c.a.s,c.a.pj(!0,c.Lf,c.Pc)):(c.a.Aa=0,c.a.Ab=0,c.a.jc=0)));c.h.Og(!0);return[c.hf]};c.prototype.Mo=function(a,b){1<a.Ya&&(a.Ya-=b,1>a.Ya&&(a.Ya=
1))};c.prototype.Lo=function(a,b){a.Ya<a.Qb.length-a.ac+1&&(a.Ya+=b,a.Ya>a.Qb.length-a.ac+1&&(a.Ya=a.Qb.length-a.ac+1))};c.prototype.Oo=function(a,b){1<a.X&&(a.X-=b,1>a.X&&(a.X=1))};c.prototype.No=function(a,b){a.X<a.qk-a.ac&&(a.X+=b,a.X>a.qk-a.ac&&(a.X=a.qk-a.ac))};c.prototype.hz=function(a){for(var b=a.R.length-1,c=!1;0<=b&&!c;)a.X<=a.R[b][0]?--b:c=!0;c&&(a.X=a.R[b][0])};c.prototype.Qy=function(a){for(var b=0,c=!1;b<a.R.length&&!c;)a.X>=a.R[b][0]?b+=1:c=!0;c&&(a.X=a.R[b][0])};c.prototype.mm=function(a){var b=
this.ba+(0<this.a.g?this.a.g:0);this.Lf?this.h.notification.T("Step back disabled",40,!0):this.h.vr&&(this.h.vr=!1,0>a&&(a=0),this.elapsedTime=this.Sc[a],this.Jg=this.Ga=a,-1!==this.jh&&a>this.jh+b?this.a.s=a:this.a.mm(a,this.hf,this.Pc),this.w.pA(this.elapsedTime),this.ee=!0,a!==this.a.s&&(this.Zi=!0,this.Vp=a,this.a.Jo(!1),this.h.notification.T("Computing previous generations",1E4,!0),this.Up=!0))};c.prototype.Fq=function(a){a.style.width="2em";a.style.height="2em";a.style.padding=0;a.style.QA=
"none";a.style.outline="none";a.style.boxShadow="none";a.style.background="transparent";a.style.position="fixed";a.style.left="-100px";a.style.top="0px"};c.prototype.cn=function(a,b,c){var d="textarea";a.Am=b;a.Ug=0;a.Dj=b.length;if(c){var e=performance.now()-a.bn;e<h.ix&&a.Dj<h.gx?c=!1:a.Un||(d="div")}a.Cj=document.createElement("div");a.Cj.contentEditable=!0;a.Fq(a.Cj);a.Ii=document.createElement(d);a.Fq(a.Ii);a.Ii.contentEditable=!0;a.Cj.appendChild(a.Ii);document.body.appendChild(a.Cj);c?(a.Wp=
h.jx,a.h.notification.T("Copying...",1E4,!0),a.kl=!0,a.u.locked=!0):(a.Ii.innerHTML=b,a.rt(a,c))};c.prototype.rt=function(a,b){a.Un?a.Ii.focus():a.Cj.focus();try{document.execCommand("selectAll"),document.execCommand("copy")}catch(p){}document.body.removeChild(a.Cj);a.Am="";a.Hf.canvas.focus();a.h.notification.T("Copy complete",120,!0);b&&(a.kl=!1,a.u.locked=!1);a.bn=-1};c.prototype.Rf=function(a){var b=ColourManager.Nc,c=Object.keys(b),d=a.red,e=a.green;a=a.blue;for(var f="",g=!1,m=null,h=0;h<c.length&&
!g;)m=b[c[h]],m[1]===d&&m[2]===e&&m[3]===a?(g=!0,h=c.length):h+=1;g?f=m[0]:f=d+" "+e+" "+a;return f};c.prototype.Vj=function(a,b){return a.red===b.red&&a.green===b.green&&a.blue===b.blue};c.prototype.tt=function(a,b){var c="#C "+Keywords.xj+" ",d=String(-(a.a.width/2-a.a.da-a.a.Bb|0)),e=String(-(a.a.height/2-a.a.$-a.a.vb|0)),f=a.a.zoom,g=a.a.angle|0,m=a.a.La[a.a.ue];0!==a.a.s&&(c+=Keywords.xm+a.a.s+" ");c+=Keywords.cd+" "+d+" "+Keywords.dd+" "+e+" ";c+=Keywords.oc+" "+(f===(f|0)?String(f):String(f.toFixed(2)))+
" ";c+=Keywords.Qh+" "+g+" ";c+=Keywords.Ak+"\n";if(b){c+="#C "+Keywords.xj+" ";if(a.Uf){if(2<a.a.g){if(c+=Keywords.ra+" "+Keywords.Wo+" "+a.Rf(m.ah),c+=" "+Keywords.ra+" "+Keywords.Vo+" "+a.Rf(m.Te),a.Vj(m.Fb.D,m.ah)||(c+=" "+Keywords.ra+" "+Keywords.Yo+" "+a.Rf(m.Fb.D)),a.Vj(m.Fb.B,m.Fb.D)||(c+=" "+Keywords.ra+" "+Keywords.Xo+" "+a.Rf(m.Fb.B)),m.ck||(c+=" "+Keywords.ra+" "+Keywords.Cv+" "+a.Rf(m.Ua.D)),m.ck||!a.Vj(m.Ua.B,m.Ua.D))c+=" "+Keywords.ra+" "+Keywords.Bv+" "+a.Rf(m.Ua.B)}else c+=Keywords.ra+
" "+Keywords.Wo+" "+a.Rf(m.Ra),c+=" "+Keywords.ra+" "+Keywords.Vo+" "+a.Rf(m.za.B),a.Vj(m.za.B,m.za.D)||(c+=" "+Keywords.ra+" "+Keywords.fs+" "+a.Rf(m.za.D)),a.Vj(m.xa.D,m.Ra)||(c+=" "+Keywords.ra+" "+Keywords.Yo+" "+a.Rf(m.xa.D)),a.Vj(m.xa.B,m.xa.D)||(c+=" "+Keywords.ra+" "+Keywords.Xo+" "+a.Rf(m.xa.B));c+=" "+Keywords.Ak+"\n#C "+Keywords.xj+" "}c+=Keywords.yh+" "+m.name+" ";a.ba!==a.fo&&(c+=Keywords.Sn+" "+a.ba+" ");c+=Keywords.Nk+" "+a.A+" ";c+=Keywords.ik+" "+a.v+" ";c+=Keywords.Ak+"\n"}a.cn(a,
c,!1)};c.prototype.Xp=function(a,b){a.bn=performance.now();q.Ia?a.cn(a,A.Ec[a.Kb].pattern,b):a.cn(a,g(a.element),b)};c.prototype.st=function(a,b){a.bn=performance.now();a.cn(a,a.a.Rw(a,a.a,b),!0)};c.prototype.iz=function(a,b,c){var d=!0;if(a.Ib)a.so||85!==b||(a.Ib=!a.Ib,a.u.l=a.Ib,a.h.Ib=a.Ib);else{if(c.ctrlKey&&67!==b||c.metaKey)c.ctrlKey&&37<=b&&40>=b?37===b?b=33:38===b?b=36:39===b?b=34:40===b&&(b=35):c.ctrlKey&&82===b||(b=-1);if(c.altKey&&!c.ctrlKey){if(49<=b&&57>=b)b-=49,0<=b&&b<a.w.wb.length&&
(a.we=b,a.Jr(a,a.we));else switch(b){case 67:a.Ub||(a.Rc.current=a.Mj([a.yn,""],!0,a),a.h.notification.T(a.gs(a.a.ue)+" Theme",40,!0));break;case 88:a.Wj.current=a.Tv([!a.a.Cc],!0,a);break;case 191:a.a.ca||(a.fi.current=a.Vv([!a.a.Oe],!0,a),a.h.notification.T("Hex display uses "+(a.a.Oe?"Hexagons":"Squares"),40,!0))}b=-2}switch(b){case 191:case 111:a.a.ca||(c.shiftKey?a.a.bm!==a.a.S&&(a.ei.current=a.Bs([a.a.bm],!0,a)):a.ei.current=a.Bs([!a.a.S],!0,a),a.h.notification.T("Hex Display "+(a.a.S?"On":
"Off"),40,!0));break;case 66:a.Xb||(a.pa.current===h.nb?0<a.a.s&&a.mm(a.a.s-1):a.pa.current=a.Vd(h.nb,!0,a));break;case 13:a.Xb||(a.pa.current=a.pa.current===h.ni?a.Vd(h.nb,!0,a):a.Vd(h.ni,!0,a));break;case 9:a.Xb||(a.Dc?a.pa.current=a.Vd(h.nb,!0,a):c.shiftKey?0<a.a.s&&a.mm(a.a.s-a.ga):a.lg=!0);break;case 32:a.Xb||(a.Dc?a.pa.current=a.Vd(h.nb,!0,a):(a.lg=!0,a.Or=!0));break;case 87:a.Sb?(a.nc=!a.nc,-1!==a.oa?(a.Za=a.nc,a.h.notification.T("Loop and Waypoints "+(a.nc?"Off":"On"),40,!0)):a.h.notification.T("Waypoints "+
(a.nc?"Off":"On"),40,!0),a.nc?a.h.notification.clear(!1,!1):a.w.Np(a.elapsedTime)||(a.w.$x(a.a.s),a.elapsedTime=a.w.It(a.a.s),a.elapsedTime=a.w.wt(a.a.width/2-a.a.da,a.a.height/2-a.a.$,a.a.zoom,a.a.angle,a.a.G,a.a.tc*h.Wh,a.a.ue,a.Id,a.ga,a.a.s,a.elapsedTime),a.ee=!1)):a.fc?(a.gc=!a.gc,-1!==a.oa?(a.Za=a.gc,a.h.notification.T("Loop and Track "+(a.gc?"Off":"On"),40,!0)):a.h.notification.T("Track "+(a.gc?"Off":"On"),40,!0),a.Dp(a.gc)):-1!==a.oa&&(a.Za=!a.Za,a.h.notification.T("Loop "+(a.Za?"Off":"On"),
40,!0));break;case 69:!a.cc.locked&&a.ga<h.fe&&(c.shiftKey?a.ga=h.fe:a.ga+=1,a.cc.current=a.Ni([a.ga,a.ga],!0,a));break;case 68:!a.cc.locked&&a.ga>h.nj&&(c.shiftKey?a.ga=h.nj:--a.ga,a.cc.current=a.Ni([a.ga,a.ga],!0,a));break;case 90:c.shiftKey?(b=A.qA(),0===b?a.h.notification.T("No LifeViewers playing",100,!0):1<b&&a.h.notification.T("Paused all LifeViewers",100,!0)):(b=A.rA(a),0===b?a.h.notification.T("No other LifeViewers playing",100,!0):1<b?a.h.notification.T("Paused "+b+" other LifeViewers",
100,!0):a.h.notification.T("Paused "+b+" other LifeViewer",100,!0));break;case 88:c.shiftKey?(a.oh.current=a.Zv([!a.a.mh],!0,a),0<a.a.$e&&(a.h.notification.T("Major Grid Lines "+(a.a.mh?"On":"Off"),40,!0),a.ot())):(a.a.kb=!a.a.kb,a.bi.current=a.Gv([a.a.kb],!0,a),a.h.notification.T("Grid Lines "+(a.a.kb?"On":"Off"),40,!0));break;case 89:a.Pc?a.h.notification.T("Graph Disabled",40,!0):c.shiftKey?(a.Ge=!a.Ge,a.mk.current=a.Hv([a.Ge],!0,a),a.h.notification.T("Graph "+(a.Ge?"Lines":"Points"),40,!0)):(a.gb=
!a.gb,a.ai.current=a.As([a.gb],!0,a),a.h.notification.T("Population Graph "+(a.gb?"On":"Off"),40,!0));break;case 75:c.shiftKey?(a.tt(a,!0),a.h.notification.T("Copied view to clipboard",180,!0)):(a.tt(a,!1),a.h.notification.T("Copied position to clipboard",180,!0));break;case 80:c.shiftKey?-1!==a.Wq&&(a.Za=!a.Za,a.li.current=[a.Za],a.h.notification.T("Loop "+(a.Za?"Off":"On"),40,!0)):a.Ub||a.Mb.locked||(a.Mb.current=.99>=a.Mb.current[0]?a.Ch([a.Mb.current[0]+.01,a.Mb.current[1]],!0,a):a.Ch([1,a.Mb.current[1]],
!0,a));break;case 76:c.shiftKey?0<a.w.Xl()&&(a.hi.current=a.Yv([!a.Of],!0,a),a.h.notification.T("Annotations "+(a.Of?"On":"Off"),40,!0)):a.Ub||a.Mb.locked||(a.Mb.current=.01<=a.Mb.current[0]?a.Ch([a.Mb.current[0]-.01,a.Mb.current[1]],!0,a):a.Ch([0,a.Mb.current[1]],!0,a));break;case 81:!a.Ub&&!a.uc.locked&&a.uc.current[0]<h.ho&&(a.uc.current=a.Mm([a.a.G+1,a.uc.current[1]],!0,a));break;case 65:!a.Ub&&!a.uc.locked&&a.uc.current[0]>h.oo&&(a.uc.current=a.Mm([a.a.G-1,a.uc.current[1]],!0,a));break;case 82:c.shiftKey?
A.Bz():a.pa.current=a.Vd(h.$q,!0,a);break;case 83:c.shiftKey?a.a.sc&&(a.Sg=!a.Sg,a.h.notification.T("AutoFit State 1 Mode "+(a.Sg?"On":"Off"),40,!0)):(a.Fk.current=a.$v([!a.wg],!0,a),a.h.notification.T("Stars "+(a.wg?"On":"Off"),40,!0));break;case 78:a.zh&&(a.wa?a.$r():(a.bs(),a.X&&(a.X=0)));break;case 86:c.shiftKey?(a.nv(a),a.h.notification.T("Saved camera position",100,!0)):a.hc||(a.Iz(a),a.h.notification.T("Restored camera position",100,!0),a.pa.current===h.nb&&(a.ee=!0));break;case 221:a.hc||
(c.shiftKey?a.Uj(a.zb.current[0],Math.log(a.a.zoom*a.a.Ob*2/h.Wa)/Math.log(h.Hb/h.Wa)-a.zb.current[0]):a.Uj(a.zb.current[0],.01));break;case 219:a.hc||(c.shiftKey?a.Uj(a.zb.current[0],Math.log(a.a.zoom*a.a.Ob/2/h.Wa)/Math.log(h.Hb/h.Wa)-a.zb.current[0]):a.Uj(a.zb.current[0],-.01));break;case 53:case 101:a.Eb.locked||(a.a.angle=0,a.Eb.current=[a.a.angle,a.a.angle]);break;case 49:case 97:c.shiftKey?(a.tf(a,a.a.zoom*a.a.Ob,!0),a.h.notification.T("Integer Zoom",40,!0)):a.tf(a,1,!1);break;case 50:case 98:c.shiftKey?
a.tf(a,.5,!1):a.tf(a,2,!1);break;case 51:case 99:c.shiftKey?a.tf(a,64,!1):a.tf(a,32,!1);break;case 52:case 100:c.shiftKey?a.tf(a,.25,!1):a.tf(a,4,!1);break;case 54:case 102:c.shiftKey?a.tf(a,.0625,!1):a.tf(a,16,!1);break;case 55:a.Pc?a.h.notification.T("Graph Disabled",40,!0):(0<a.Vb&&(a.Vb-=.05,0>a.Vb&&(a.Vb=0)),this.Lb.current=this.Si([a.Vb,a.Vb],!1,a));break;case 56:case 104:c.shiftKey?a.tf(a,.125,!1):a.tf(a,8,!1);break;case 57:a.Pc?a.h.notification.T("Graph Disabled",40,!0):(1>a.Vb&&(a.Vb+=.05,
1<a.Vb&&(a.Vb=1)),this.Lb.current=this.Si([a.Vb,a.Vb],!1,a));break;case 48:case 96:a.ga=1;a.cc.current=a.Ni([a.ga,a.ga],!0,a);a.Oa.current=a.dh([1,a.Oa.current[1]],!0,a);break;case 189:case 109:a.Xb||(a.ga>h.nj?(c.shiftKey?a.ga=h.nj:--a.ga,a.cc.current=a.Ni([a.ga,a.ga],!0,a)):a.Oa&&(a.Oa.current=.01<=a.Oa.current[0]&&!c.shiftKey?a.dh([a.Oa.current[0]-.01,a.Oa.current[1]],!0,a):a.dh([0,a.Oa.current[1]],!0,a)));break;case 187:case 107:!a.Xb&&a.Oa&&(.99>=a.Oa.current[0]&&!c.shiftKey?a.Oa.current=a.dh([a.Oa.current[0]+
.01,a.Oa.current[1]],!0,a):.99>=a.Oa.current[0]?a.Oa.current=a.dh([1,a.Oa.current[1]],!0,a):(a.Oa.current=a.dh([1,a.Oa.current[1]],!0,a),a.ga<h.fe&&(c.shiftKey?a.ga=h.fe:a.ga+=1,a.cc.current=a.Ni([a.ga,a.ga],!0,a))));break;case 188:a.Eb.locked||(b=a.Eb.current[0],b=c.shiftKey?b-90:b-1,0>b&&(b+=360),a.Eb.current=a.Lm([b,b],!0,a));break;case 190:a.Eb.locked||(b=a.Eb.current[0],b=c.shiftKey?b+90:b+1,360<=b&&(b-=360),a.Eb.current=a.Lm([b,b],!0,a));break;case 74:a.w.wb.length?a.hc||(c.shiftKey?(--a.we,
0>a.we&&(a.we=a.w.wb.length-1),a.Jr(a,a.we)):(a.we+=1,a.we>=a.w.wb.length&&(a.we=0),a.Jr(a,a.we))):a.h.notification.T("No POIs defined",80,!0);break;case 84:c.shiftKey?a.h.Ai=!a.h.Ai:a.gk.current=a.Mk([!a.h.Bi],!0,a);break;case 85:a.so||(a.Ib=!a.Ib,a.u.l=a.Ib,a.h.Ib=a.Ib);break;case 71:a.Xb||(c.shiftKey?a.$h&&(a.Jn=!a.Jn):(a.gp([!a.hf],!0,a),a.ce&&(a.ce.current=[a.hf],a.h.Wg=!0)));break;case 70:c.shiftKey?a.Ag.locked||(a.qb=!a.qb,a.Ag.current=a.Fv([a.qb],!0,a),a.h.notification.T("AutoFit "+(a.qb?
"On":"Off"),40,!0)):a.hj.locked||(a.Xf(!0,!0),a.h.notification.T("Fit Zoom",80,!0),a.pa.current===h.nb&&(a.ee=!0));break;case 79:a.pm=c.shiftKey?2:1;break;case 37:c.shiftKey?a.pi(a.a.zoom,a.a.zoom):a.pi(a.a.zoom,0);break;case 38:a.X?a.Oo(a,1):a.Ya?a.Mo(a,1):c.shiftKey?a.pi(-a.a.zoom,a.a.zoom):a.pi(0,a.a.zoom);break;case 39:c.shiftKey?a.pi(-a.a.zoom,-a.a.zoom):a.pi(-a.a.zoom,0);break;case 40:a.X?a.No(a,1):a.Ya?a.Lo(a,1):c.shiftKey?a.pi(a.a.zoom,-a.a.zoom):a.pi(0,-a.a.zoom);break;case 77:a.Jf&&!a.Jf.l&&
(a.Jf.current[0]=!a.Jf.current[0],a.h.Wg=!0);break;case 67:c.ctrlKey?a.si||(c.shiftKey?a.Xp(a,!0):a.Xb?a.Xp(a,!0):c.altKey?a.st(a,!0):a.st(a,!1)):a.Ub||!a.Rc||a.Rc.locked||(c.shiftKey?(b=a.Rc.current[0]+.5|0,--b,0>b&&(a.Uf?b=a.a.ge:b=a.a.ge-1)):(b=a.Rc.current[0]+.5|0,b+=1,a.Uf?b>=a.a.ge+1&&(b=0):b>=a.a.ge&&(b=0)),a.Rc.current=a.Mj([b,""],!0,a),a.h.notification.T(a.gs(a.a.ue)+" Theme",40,!0));break;case 72:c.shiftKey?(a.kk.current=a.Wv([!a.Cf],!0,a),a.h.notification.T("AutoFit History Mode "+(a.Cf?
"On":"Off"),40,!0)):(a.Qb.length?a.X=a.X?0:1:a.X?a.X=0:a.wa||(a.X=1),a.ci.current=a.Gm([a.X],!0,a),a.h.Wg=!0);break;case 73:c.shiftKey?a.lk.current=a.Xv([!a.Ea],!0,a):(a.X?a.di===h.Il?a.X=0:a.gf(h.Il,a):a.wa||a.gf(h.Il,a),a.ci.current=a.Gm([a.X],!0,a),a.h.Wg=!0);break;case 27:a.ye?a.Qb.length?(a.Qb=[],a.Ya=0):e():a.X?a.X=0:a.Qb.length?(a.Qb=[],a.Ya=0):a.Dc&&(a.pa.current=a.Vd(h.nb,!0,a));a.ci.current=a.Gm([a.X],!0,a);a.h.Wg=!0;break;case 33:a.X?c.shiftKey?a.hz(a):a.Oo(a,a.ac):a.Ya?a.Mo(a,a.ac):q.Ia&&
(--a.Kb,0>a.Kb&&(a.Kb=A.Ec.length-1),a.wh(A.Ec[a.Kb].pattern,!1));break;case 34:a.X?c.shiftKey?a.Qy(a):a.No(a,a.ac):a.Ya?a.Lo(a,a.ac):q.Ia&&(a.Kb+=1,a.Kb>=A.Ec.length&&(a.Kb=0),a.wh(A.Ec[a.Kb].pattern,!1));break;case 36:a.X?a.X=1:a.Ya?a.Ya=1:q.Ia&&(a.Kb=0,a.wh(A.Ec[a.Kb].pattern,!1));break;case 35:a.X?a.X=a.qk-a.ac:a.Ya?a.Ya=a.Qb.length-a.ac:q.Ia&&(a.Kb=A.Ec.length-1,a.wh(A.Ec[a.Kb].pattern,!1));break;case 112:c.shiftKey?(a.Ro=!a.Ro,a.h.notification.T("Smart Drawing "+(a.Ro?"On":"Off"),40,!0)):a.Xb?
a.h.notification.T("Drawing not available",40,!0):(a.xe=!a.xe,a.oj.current=a.Cs(a.xe?h.Fu:h.Ul,!0,a),a.h.notification.T((a.xe?"Draw":"Pan")+" Mode",40,!0));break;default:-1===b&&(d=!1)}}return d};c.prototype.jz=function(a,b,c){var d=!0;if(c.ctrlKey&&82===b)return!0;switch(b){case 13:a.Ug===a.Dj&&a.rt(a,!0);break;case 84:a.Mk([!a.h.Bi],!0,a);break;default:d=!1}return d};c.prototype.kz=function(a,b,c){var d=!0;if(c.ctrlKey||c.metaKey||c.altKey)b=-1;switch(b){case 84:a.Mk([!a.h.Bi],!0,a);break;default:d=
!1}return d};c.prototype.hw=function(a,b){var c=b.charCode||b.keyCode;if(a.Zi?a.kz(a,c,b):a.kl?a.jz(a,c,b):a.iz(a,c,b))a.h.Og(!0),b.preventDefault()};c.prototype.gw=function(){this.v<h.rh?(this.uf.setPosition(Menu.Qc,10,50),this.wf.setPosition(Menu.Nb,0,50),this.sf.setPosition(Menu.fb,-160,50),this.xf.setPosition(Menu.Qc,10,100),this.qf.setPosition(Menu.Nb,0,100),this.nf.setPosition(Menu.fb,-160,100),0<this.w.Xl()?(this.oe.setPosition(Menu.Qc,10,150),this.Dh.setPosition(Menu.fb,-160,150)):this.oe.setPosition(Menu.Nb,
0,150)):(this.uf.setPosition(Menu.Nb,0,40),this.wf.setPosition(Menu.Nb,0,90),this.sf.setPosition(Menu.Nb,0,140),this.xf.setPosition(Menu.Nb,0,190),this.qf.setPosition(Menu.Nb,0,240),this.nf.setPosition(Menu.Nb,0,290),this.oe.setPosition(Menu.Nb,0,340),this.Dh.setPosition(Menu.Nb,0,390))};c.prototype.rw=function(){var a="white",b="black",c="rgb(0,240,32)",d="blue",e="grey",f="white";var g=this.f[h.tl];-1!==g?(a="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")",this.ia.Fo=!0,this.ia.yr=this.a.hg?-16777216|
(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255):(this.ia.Fo=!0,g=16777215,this.ia.yr=this.a.hg?-16777216|(g&255)<<16|(g>>8&255)<<8|g>>16:g>>16<<24|(g>>8&255)<<16|(g&255)<<8|255);g=this.f[h.rl];-1!==g?b="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")":g=0;this.Kj=g;g=this.f[h.ul];-1!==g&&(c="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.wl];-1!==g&&(d="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");g=this.f[h.vl];-1!==g&&(e="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+
")");g=this.f[h.sl];-1!==g&&(f="rgb("+(g>>16)+","+(g>>8&255)+","+(g&255)+")");this.h.qm(a,b,c,d,e,f)};c.prototype.lp=function(){this.u=this.h.qx(this.Vw,this.Ds,this);this.u.gq=this.Zw;this.u.Hs=this.Zx;this.cg=this.u.Db(Menu.Qc,0,40,16,20,"X");this.cg.font=h.Je;this.cg.Bm=Menu.Zc;this.dg=this.u.Db(Menu.Qc,70,40,16,20,"Y");this.dg.font=h.Je;this.dg.Bm=Menu.Zc;this.yf=this.u.Db(Menu.Qc,140,40,16,20,"A");this.yf.font=h.Je;this.yf.Bm=Menu.Zc;this.kd=this.u.Db(Menu.Qc,16,40,54,20,"");this.kd.font=h.Je;
this.kd.textAlign=Menu.right;this.kd.F="camera X position";this.ld=this.u.Db(Menu.Qc,86,40,54,20,"");this.ld.font=h.Je;this.ld.textAlign=Menu.right;this.ld.F="camera Y position";this.ed=this.u.Db(Menu.Qc,156,40,40,20,"");this.ed.font=h.Je;this.ed.textAlign=Menu.right;this.ed.F="camera angle";this.Sk=this.u.Db(Menu.Qc,196,40,4,20,"");this.Ih=this.u.Db(Menu.fb,-280,40,20,20,"E");this.Ih.font=h.Je;this.Jh=this.u.Db(Menu.fb,-210,40,20,20,"S");this.Jh.font=h.Je;this.Kh=this.u.Db(Menu.fb,-140,40,20,20,
"W");this.Kh.font=h.Je;this.Oi=this.u.Db(Menu.fb,-70,40,20,20,"N");this.Oi.font=h.Je;this.fd=this.u.Db(Menu.fb,-260,40,50,20,"");this.fd.font=h.Je;this.fd.textAlign=Menu.right;this.fd.F="bounding box east edge velocity";this.hd=this.u.Db(Menu.fb,-190,40,50,20,"");this.hd.font=h.Je;this.hd.textAlign=Menu.right;this.hd.F="bounding box south edge velocity";this.jd=this.u.Db(Menu.fb,-120,40,50,20,"");this.jd.font=h.Je;this.jd.textAlign=Menu.right;this.jd.F="bounding box west edge velocity";this.gd=this.u.Db(Menu.fb,
-50,40,50,20,"");this.gd.font=h.Je;this.gd.textAlign=Menu.right;this.gd.F="bounding box north edge velocity";this.me=this.u.pb(null,Menu.fb,-170,0,40,20,["START"],[!1],Menu.Ia);this.me.font=h.Qo;this.me.F=["autostart indicator"];this.Ed=this.u.pb(null,Menu.fb,-170,20,40,20,["STOP"],[!1],Menu.Ia);this.Ed.font=h.Qo;this.Ed.F=["stop indicator"];this.Ha=this.u.pb(this.yw,Menu.fb,-130,0,40,20,["WAYPT"],[!1],Menu.Ia);this.Ha.font=h.Qo;this.Ha.F=["toggle waypoint mode"];this.li=this.u.pb(this.xw,Menu.fb,
-130,20,40,20,["LOOP"],[!1],Menu.Ia);this.li.font=h.Qo;this.li.F=["toggle loop mode"];this.oj=this.u.pb(this.Cs,Menu.Qc,90,0,80,40,["",""],h.Ul,Menu.Dk);this.oj.icon=[this.ia.icon("draw"),this.ia.icon("pan")];this.oj.F=["draw","pan"];this.bb=this.u.pb(this.xx,Menu.fb,-80,100,80,60,["1","2"],0,Menu.Dk);this.bb.orientation=Menu.vertical;this.bb.F=["",""];this.bb.font="14px Arial";this.ci=this.u.pb(this.Gm,Menu.fb,-40,0,40,40,["Help"],[!1],Menu.Ia);this.ci.F=["toggle help display"];this.ci.font="16px Arial";
this.Ri=this.u.Fd(this.zw,Menu.fb,-40,50,40,["^"]);this.Ri.F=["show help topics"];this.Lh=this.u.Fd(this.pw,Menu.fb,-40,100,40,["<"]);this.Lh.F=["show help sections"];this.uf=this.u.Fd(this.iw,Menu.Nb,0,50,150,["Keys"]);this.uf.F=["show keyboard shortcuts"];this.wf=this.u.Fd(this.ow,Menu.Nb,0,100,150,["Scripts"]);this.wf.F=["show script commands"];this.sf=this.u.Fd(this.tp,Menu.Nb,0,150,150,["Info"]);this.sf.F=["show pattern and engine information"];this.xf=this.u.Fd(this.ww,Menu.Nb,0,200,150,["Themes"]);
this.xf.F=["show colour Themes"];this.qf=this.u.Fd(this.Js,Menu.Nb,0,250,150,["Colours"]);this.qf.F=["show colour names"];this.nf=this.u.Fd(this.xr,Menu.Nb,0,300,150,["Aliases"]);this.nf.F=["show rule aliases"];this.oe=this.u.Fd(this.jw,Menu.Nb,0,350,150,["Memory"]);this.oe.F=["show memory usage"];this.Dh=this.u.Fd(this.Fr,Menu.Nb,0,350,150,["Annotations"]);this.Dh.F=["show annotations"];this.Ag=this.u.pb(this.Fv,Menu.Qc,0,0,40,40,["Auto"],[!1],Menu.Ia);this.Ag.icon=[this.ia.icon("autofit")];this.Ag.F=
["toggle autofit"];this.Ag.font="16px Arial";this.hj=this.u.Fd(this.np,Menu.Qc,45,0,40,"");this.hj.icon=this.ia.icon("fit");this.hj.F="fit pattern to display";this.bi=this.u.pb(this.Gv,Menu.fb,-85,0,40,40,["Grid"],[!1],Menu.Ia);this.bi.icon=[this.ia.icon("grid")];this.bi.F=["toggle grid lines"];this.bi.font="16px Arial";this.He=this.u.Hw();this.He.locked=!0;this.Re=this.u.Db(Menu.Pg,0,-100,70,30,"Time");this.Re.textAlign=Menu.left;this.Re.font=h.Tg;this.Re.F="elapsed time";this.fj=this.u.Db(Menu.Pg,
70,-100,70,30,"");this.fj.textAlign=Menu.right;this.fj.font=h.Tg;this.fj.F="elapsed time";this.yc=this.u.Db(Menu.Pg,0,-70,140,30,"");this.yc.textAlign=Menu.left;this.yc.font=h.Tg;this.yc.F="cell state at cursor position";this.ce=this.u.pb(this.gp,Menu.Pg,0,-40,100,40,[""],[this.hf],Menu.Ia);this.ce.F=["toggle generation statistics"];this.xc=this.u.Db(Menu.Pg,0,-40,this.A-40,40,"");this.xc.textAlign=Menu.left;this.xc.l=!0;this.Se=this.u.Db(Menu.ie,-140,-130,70,30,"Alive");this.Se.textAlign=Menu.left;
this.Se.font=h.Tg;this.Se.F="current population";this.ui=this.u.Db(Menu.ie,-70,-130,70,30,"");this.ui.textAlign=Menu.right;this.ui.font=h.Tg;this.ui.F="alive";this.Cb=this.u.Db(Menu.ie,-140,-100,70,30,"Births");this.Cb.textAlign=Menu.left;this.Cb.font=h.Tg;this.Cb.F="cells born this generation";this.Cg=this.u.Db(Menu.ie,-70,-100,70,30,"");this.Cg.textAlign=Menu.right;this.Cg.font=h.Tg;this.Cg.F="births";this.ne=this.u.Db(Menu.ie,-140,-70,70,30,"Deaths");this.ne.textAlign=Menu.left;this.ne.font=h.Tg;
this.ne.F="cells died this generation";this.Vh=this.u.Db(Menu.ie,-70,-70,70,30,"");this.Vh.textAlign=Menu.right;this.Vh.font=h.Tg;this.Vh.F="deaths";this.Kc=this.u.Db(Menu.Pg,0,-130,140,30,this.Lg);this.Kc.font=h.Tg;this.zb=this.u.fh(this.eh,Menu.Nb,0,0,h.kp,40,0,1,.1,"Zoom ","",1);this.zb.F="camera zoom";this.uc=this.u.fh(this.Mm,Menu.bw,30,0,40,292,h.ho,h.oo,1,"Layers ","",0);this.uc.F="number of layers";this.Mb=this.u.fh(this.Ch,Menu.Ht,-70,0,40,292,1,0,.1,"Depth ","",2);this.Mb.F="depth between layers";
this.Eb=this.u.fh(this.Lm,Menu.Nb,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Eb.F="camera angle";this.vg=this.u.Fd(this.uw,Menu.ie,-40,-90,40,"");this.vg.icon=this.ia.icon("shrink");this.vg.F="shrink to thumbnail";this.ei=this.u.pb(this.Bs,Menu.Qc,80,100,80,40,["Hex"],[this.a.S],Menu.Ia);this.ei.F=["toggle hex display"];this.fi=this.u.pb(this.Vv,Menu.Nb,0,100,80,40,["Hexagon"],[this.a.Oe],Menu.Ia);this.fi.F=["toggle hexagonal cells"];this.fi.font="18px Arial";this.Wj=this.u.pb(this.Tv,Menu.fb,
-160,100,80,40,["Borders"],[this.a.Cc],Menu.Ia);this.Wj.F=["toggle cell borders"];this.Wj.font="18px Arial";this.hi=this.u.pb(this.Yv,Menu.Qc,80,220,80,40,["Labels"],[this.Of],Menu.Ia);this.hi.F=["toggle labels"];this.ai=this.u.pb(this.As,Menu.fb,-160,220,80,40,["Graph"],[this.gb],Menu.Ia);this.ai.F=["toggle graph display"];this.lk=this.u.pb(this.Xv,Menu.Nb,0,160,80,40,["Info"],[this.Ea],Menu.Ia);this.lk.F=["toggle InfoBar"];this.kk=this.u.pb(this.Wv,Menu.Qc,80,160,80,40,["HistFit"],[this.Cf],Menu.Ia);
this.kk.F=["toggle AutoFit History"];this.oh=this.u.pb(this.Zv,Menu.fb,-160,160,80,40,["Major"],[this.a.mh],Menu.Ia);this.oh.F=["toggle major grid lines"];this.Fk=this.u.pb(this.$v,Menu.ie,-160,-140,80,40,["Stars"],[this.wg],Menu.Ia);this.Fk.F=["toggle stars display"];this.Rb=this.u.Fd(this.ys,Menu.ie,-40,-90,40,"X");this.Rb.F="close window";this.gk=this.u.pb(this.Mk,Menu.Pg,80,-140,80,40,["Timing"],[this.h.Bi],Menu.Ia);this.gk.F=["toggle timing display"];this.bh=this.u.pb(this.jl,Menu.Pr,0,-140,
80,40,["Details"],[this.h.Ai],Menu.Ia);this.bh.F=["toggle timing details"];this.ug=this.u.Fd(this.lw,Menu.Pg,80,-200,80,"Prev");this.ug.F="go to previous universe";this.tg=this.u.Fd(this.kw,Menu.ie,-160,-200,80,"Next");this.tg.F="go to next universe";this.Lb=this.u.fh(this.Si,Menu.Nb,0,0,132,40,0,1,this.Vb,"Opac ","%",0);this.Lb.F="graph opacity";this.mk=this.u.pb(this.Hv,Menu.fb,-170,0,40,40,[""],[!1],Menu.Ia);this.mk.icon=[this.ia.icon("lines")];this.mk.F=["toggle graph lines/points"];this.Rk=this.u.Fd(this.qp,
Menu.fb,-130,0,40,"X");this.Rk.F="close graph";this.uk=this.u.pb(this.ns,Menu.Qc,0,40,40,40,[""],[this.tk],Menu.Ia);this.uk.icon=[this.ia.icon("pick")];this.uk.F=["pick state"];this.yg=this.u.pb(this.ao,Menu.Qc,45,40,40,40,[""],[this.Ck],Menu.Ia);this.yg.icon=[this.ia.icon("states")];this.yg.F=["toggle states"];this.Jf=this.u.pb(null,Menu.ie,-40,-40,40,40,[""],[!1],Menu.Ia);this.Jf.icon=[this.ia.icon("menu")];this.Jf.F=["toggle navigation menu"];this.Rc=this.u.fh(this.Mj,Menu.Pr,0,-90,390,40,0,this.a.ge-
1,1,""," Theme",-1);this.Rc.F="colour theme";this.Oa=this.u.fh(this.dh,Menu.ie,-375,-40,80,40,0,1,0,"","",-1);this.Oa.F="steps per second";this.cc=this.u.fh(this.Ni,Menu.ie,-290,-40,80,40,h.nj,h.fe,1,"x","",0);this.cc.F="generations per step";this.pa=this.u.pb(this.Vd,Menu.ie,-205,-40,160,40,["","","",""],h.nb,Menu.Dk);this.pa.icon=[this.ia.icon("tostart"),this.ia.icon("stepback"),this.ia.icon("pause"),this.ia.icon("play")];this.pa.F=["reset","previous generation","pause","play"];this.bc=this.u.pb(this.Es,
Menu.fb,-280,40,280,20,"0123456".split(""),this.Ye,Menu.Dk);this.bc.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.bc.font="14px Arial";this.i=this.u.pb(this.Vx,Menu.fb,-280,60,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,!1,!1],Menu.Ia);this.i.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.i.Lc=1;this.Nh=this.u.fh(this.yo,Menu.Qc,90,40,105,40,0,1,0,"","",-1);this.Nh.F="select drawing states range";this.Jf.Bp([this.uc,this.Mb,this.Eb,this.Rc,this.vg,this.Rb,this.ei,
this.fi,this.Wj,this.hi,this.ai,this.gk,this.bh,this.lk,this.Fk,this.kk,this.oh,this.ug,this.tg]);this.ce.Bp([this.Se,this.ui,this.Cb,this.Cg,this.ne,this.Vh,this.Re,this.fj,this.Kc]);this.ci.Bp([this.bb,this.Ri,this.Lh])};c.prototype.cs=function(a){var b=this,c=0,d=0;this.H=a;this.H.getContext&&(c=this.H.width,d=this.H.height,c!==this.Hg&&q.Pl&&(c=this.Hg),c<h.td&&(c=h.td),d<h.pk&&(d=h.pk),c&=-8,this.H.width!==c&&(this.H.width=c),this.H.height!==d&&(this.H.height=d),this.Hf=this.H.getContext("2d",
{alpha:!1}),this.Hf.globalAlpha=1,this.Hf.fillStyle="black",this.Hf.fillRect(0,0,this.H.width,this.H.height),this.sj=document.createElement("canvas"),this.sj.width=this.H.width,this.sj.height=this.H.height,this.ud=this.sj.getContext("2d",{alpha:!1}),this.A=this.H.width,this.v=this.H.height,this.a=new Life(this.ud,this.A,this.v,512,512),this.a.oy(this.ud,this.A,this.v),this.Sc=this.a.j.V(Float32,h.Hu,"View.elapsedTimes"),this.vh=new Stars(h.uo,this.a.j),this.ud.textAlign="left",this.ud.textBaseline=
"middle",this.Ps(this.ud),this.h=new MenuManager(this.Hf,this.ud,"24px Arial",this.ia,this,this.pp),this.h.Bi=!1,this.a.nx(),this.lp(),this.Wk=this.pa.x,this.Qk=this.Oa.x,this.Ok=this.cc.x,registerEvent(this.H,"DOMMouseScroll",function(a){b.Eo(b,a)},!1),registerEvent(this.H,"mousewheel",function(a){b.Eo(b,a)},!1),this.h.notification.enabled=!0,this.h.Bw(this.u),registerEvent(this.H,"keydown",function(a){b.hw(b,a)},!1))};c.prototype.gs=function(a){var b=this.a.La,c="";a|=0;a<b.length&&(c=b[a].name);
return c};c.prototype.vw=function(a){var b=!1,c=this.a.La,d=0;for(a=a.toLowerCase();d<c.length-1&&!b;)c[d].name.toLowerCase()===a?b=!0:d+=1;b||(d=-1);return d};c.prototype.Tk=function(a){switch(a){case Keywords.ds:case Keywords.nq:case Keywords.Lr:case Keywords.Nr:case Keywords.pq:case Keywords.Mr:case Keywords.gr:case Keywords.af:case Keywords.Sf:case Keywords.Cq:case Keywords.Rr:case Keywords.Bq:case Keywords.Qr:case Keywords.et:case Keywords.wr:case Keywords.fq:case Keywords.Ao:case Keywords.Jk:case Keywords.pr:case Keywords.Bo:case Keywords.mr:case Keywords.qr:case Keywords.rr:case Keywords.nr:case Keywords.sr:case Keywords.Vu:case Keywords.dl:case Keywords.Gp:case Keywords.Ip:case Keywords.Jp:case Keywords.Hp:case Keywords.Kp:case Keywords.Lp:case Keywords.Kl:case Keywords.Mq:case Keywords.Oq:case Keywords.Pq:case Keywords.Nq:case Keywords.Qq:case Keywords.Rq:case Keywords.cr:case Keywords.fr:case Keywords.er:case Keywords.YA:case Keywords.Jm:case Keywords.xq:case Keywords.fm:case Keywords.xk:case Keywords.wk:case Keywords.zo:case Keywords.gm:case Keywords.Va:case Keywords.Ue:case Keywords.Ka:case Keywords.Wr:case Keywords.Ij:case Keywords.Im:case Keywords.Kn:case Keywords.to:case Keywords.sq:case Keywords.tq:case Keywords.wm:case Keywords.Xq:case Keywords.Wm:case Keywords.Gq:case Keywords.Sn:case Keywords.xm:case Keywords.Bj:case Keywords.kr:case Keywords.Fl:case Keywords.El:case Keywords.Yr:case Keywords.Zr:case Keywords.ra:case Keywords.Sp:case Keywords.cd:case Keywords.dd:case Keywords.hp:case Keywords.ip:case Keywords.oc:case Keywords.Ep:case Keywords.eu:case Keywords.ig:case Keywords.Nm:case Keywords.br:case Keywords.ar:case Keywords.ms:case Keywords.ks:case Keywords.hs:case Keywords.ls:case Keywords.Xm:case Keywords.xj:case Keywords.Ak:case Keywords.Qh:case Keywords.yh:case Keywords.ij:case Keywords.xg:case Keywords.mj:case Keywords.cj:case Keywords.Nk:case Keywords.ik:case Keywords.im:case Keywords.hm:a=
!0;break;default:a=!1}return a};c.prototype.Dd=function(a,b,c,d,e){var f=a.ua();""===f||this.Tk(f)?b[b.length]=[c,d+" missing"]:(b[b.length]=[c+" "+f,d+" must be "+e],a.Y())};c.prototype.m=function(a,b,c,d){var e=!0,f=0,g=0,p=0,k=a.Y();if(a.J()){f=a.I()|0;if(0>f||255<f)b[b.length]=[d+" "+k+" "+f,"RED out of range"];if(a.J()){g=a.I();if(0>g||255<g)b[b.length]=[d+" "+k+" "+f+" "+g,"GREEN out of range"];a.J()?(p=a.I(),0>p||255<p?b[b.length]=[d+" "+k+" "+f+" "+g+" "+p,"BLUE out of range"]:e=!1):this.Dd(a,
b,d+" "+k+" "+f+" "+g,"BLUE","numeric")}else this.Dd(a,b,d+" "+k+" "+f,"GREEN","numeric")}else{var m=a.ua();var l=ColourManager.Nc[m.toLowerCase()];void 0!==l?(a.Y(),f=l[1],g=l[2],p=l[3],e=!1):""===m||this.Tk(m)?b[b.length]=[d+" "+k,"name missing"]:(b[b.length]=[d+" "+k+" "+m,"name not known"],a.Y())}if(!e)switch(-1!==this.f[c]&&c!==h.pl&&c!==h.ll&&c!==h.ql&&(b[b.length]=[d+" "+k+" "+f+" "+g+" "+p,"overwrites "+(this.f[c]>>16)+" "+(this.f[c]>>8&255)+" "+(this.f[c]&255)]),this.f[c]=f<<16|g<<8|p,c){case h.nl:this.Uf=
!0;break;case h.ol:this.Uf=!0;break;case h.tn:this.vh.red=f;this.vh.green=g;this.vh.blue=p;break;case h.un:this.We=[f,g,p];break;case h.nn:this.ih=[f,g,p];this.Wf="rgb("+f+","+g+","+p+")";break;case h.pl:this.Qj="rgb("+f+","+g+","+p+")";break;case h.ll:this.Pj="rgb("+f+","+g+","+p+")";break;case h.ql:this.Rj="rgb("+f+","+g+","+p+")";break;case h.ln:this.Th=[f,g,p];this.a.Xj=this.a.hg?-16777216|p<<16|g<<8|f:f<<24|g<<16|p<<8|255;break;case h.qn:this.a.$f=[f,g,p];break;case h.pn:this.a.Zf=[f,g,p];break;
case h.on:this.a.Yf=[f,g,p];break;case h.rn:this.a.ag=[f,g,p];break;case h.sn:this.a.bg=[f,g,p];break;case h.tl:case h.rl:case h.ul:case h.wl:case h.vl:case h.sl:break;default:this.Uf=!0}};c.prototype.sw=function(){var a=this.a.La[this.a.ge],b=this.f;if(-1===b[h.Fg]){var c=b[h.Vf];-1!==c?b[h.Fg]=16777215-c:(c=b[h.Xe],b[h.Fg]=-1!==c?16777215-c:16777215)}-1===b[h.Xe]&&-1===b[h.Vf]&&(b[h.Xe]=16777215-b[h.Fg]);c=b[h.Xe];-1===c&&(c=b[h.Vf]);a.Ra.red=c>>16;a.Ra.green=c>>8&255;a.Ra.blue=c&255;c=b[h.Fg];
a.za.B.red=c>>16;a.za.B.green=c>>8&255;a.za.B.blue=c&255;c=b[h.kn];-1===c&&(c=b[h.Fg]);a.za.D.red=c>>16;a.za.D.green=c>>8&255;a.za.D.blue=c&255;c=b[h.Vf];-1===c&&(c=b[h.Xe]);a.xa.D.red=c>>16;a.xa.D.green=c>>8&255;a.xa.D.blue=c&255;c=b[h.ml];-1===c&&(c=b[h.Vf],-1===c&&(c=b[h.Xe]));a.xa.B.red=c>>16;a.xa.B.green=c>>8&255;a.xa.B.blue=c&255;c=b[h.Xe];-1===c&&(c=b[h.Vf]);a.ah.red=c>>16;a.ah.green=c>>8&255;a.ah.blue=c&255;c=b[h.Fg];a.Te.red=c>>16;a.Te.green=c>>8&255;a.Te.blue=c&255;c=b[h.Vf];-1===c&&(c=
b[h.Xe]);a.Fb.D.red=c>>16;a.Fb.D.green=c>>8&255;a.Fb.D.blue=c&255;c=b[h.ml];-1===c&&(c=b[h.Vf],-1===c&&(c=b[h.Xe]));a.Fb.B.red=c>>16;a.Fb.B.green=c>>8&255;a.Fb.B.blue=c&255;c=b[h.mn];-1===c?a.ck=!0:(a.ck=!1,a.Ua.D.red=c>>16,a.Ua.D.green=c>>8&255,a.Ua.D.blue=c&255);c=b[h.$p];-1===c&&(c=b[h.mn],-1===c&&(c=b[h.Xe]));a.Ua.B.red=c>>16;a.Ua.B.green=c>>8&255;a.Ua.B.blue=c&255;a.Yz(b[h.nl],b[h.ol])};c.prototype.Aw=function(a){var b=this.w.Al();b.le||(b.x=this.a.width/2-this.a.da);b.Wd||(b.y=this.a.height/
2-this.a.$);b.Gc||(b.zoom=this.a.zoom);b.pf||(b.angle=this.a.angle);b.Ff||(b.G=this.a.G);b.vf||(b.depth=this.a.tc);b.zf||(b.lb=this.Id);b.Qf||(b.step=this.ga);b.Td||(b.ob=this.a.ue);this.w.gz(a)};c.prototype.op=function(a){var b=a,c=this.ud,d=a.length;c.font=h.Mi;var e=c.measureText(a).width;if(420<e){--d;for(e=c.measureText(a.substr(0,d)+"...").width;420<e;)--d,e=c.measureText(a.substr(0,d)+"...").width;b=b.substr(0,d)+"..."}return b};c.prototype.Mh=function(a,b){var c=a;a.length>b&&(c=a.substr(0,
b-1)+"...");return c};c.prototype.wo=function(a,b,c,d){var e=a.indexOf("\\n");-1!==e&&(c?b[b.length]=[Keywords.Jk+" "+Keywords.Wb+this.Mh(a,23)+Keywords.Wb,"only one line allowed"]:(e=a.substr(e+2).indexOf("\\n"),-1===e||d||(b[b.length]=[Keywords.Wb+this.Mh(a,23),"only two lines allowed"])))};c.prototype.Yk=function(a,b,c){var d=Keywords.yh+" ",e="overwrites ";d=b>=this.a.ge?d+Keywords.Ik:d+b;e=c>=this.a.ge?e+Keywords.Ik:e+c;a[a.length]=[d,e]};c.prototype.Ic=function(a,b,c,d,e,f){var g=0,h=0,k=0;
if(a.J())if(g=a.I()|0,0>g||255<g)b[b.length]=[d+" "+f+" "+g,"RED out of range"],e=!0;else if(a.J())if(h=a.I()|0,0>h||255<h)b[b.length]=[d+" "+f+" "+g+" "+h,"GREEN out of range"],e=!0;else if(a.J()){if(k=a.I()|0,0>k||255<k)b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"BLUE out of range"],e=!0}else this.Dd(a,b,d+" "+f+" "+g+" "+h,"BLUE","numeric"),e=!0;else this.Dd(a,b,d+" "+f+" "+g,"GREEN","numeric"),e=!0;else{var p=a.ua();var l=ColourManager.Nc[p.toLowerCase()];void 0!==l?(a.Y(),g=l[1],h=l[2],k=l[3]):(e=
!0,""===p||this.Tk(p)?b[b.length]=[d+" "+f,"name missing"]:(b[b.length]=[d+" "+f+" "+p,"name not known"],a.Y()))}e||(-1!==this.jb[c]&&(b[b.length]=[d+" "+f+" "+g+" "+h+" "+k,"overwrites "+(this.jb[c]>>16)+" "+(this.jb[c]>>8&255)+" "+(this.jb[c]&255)]),this.jb[c]=g<<16|h<<8|k)};c.prototype.$g=function(a){var b="",c=a.indexOf(Keywords.Pe);if(-1===c)b=a;else{for(;-1!==c;)if(b+=a.substr(0,c),c+1<a.length){var d=a[c+1];a=a.substr(c+2);switch(d){case "B":b+=h.zs;break;case "N":b+=this.rk;break;case "R":b+=
this.Lg;break;case "A":b=""===this.Mf?b+this.Lg:b+this.Mf;break;case "O":b+=this.cm;break;case "T":b+=h.Yx;break;case Keywords.Pe:b+=Keywords.Pe;break;default:b+=Keywords.Pe+d}c=a.indexOf(Keywords.Pe)}else c=-1;b+=a}return b};c.prototype.va=function(a,b,c,d){d[d.length]=a?b===Keywords.af?[b+" "+c,"already defined"]:[b+" "+c,"overwrites "+Keywords.af]:b===Keywords.af?[b+" "+c,"overwrites "+Keywords.Sf]:[b+" "+c,"already defined"]};c.prototype.Fa=function(a){var b="";a===(a|0)?b=String(a):b=a.toFixed(2);
return b};c.prototype.mw=function(a,b){var c=new Script(a),d=!1,e="",f="",g=!1,l="",k=0,m=!1,n=!1,y=this.Qb,A=null,C=0,z=0,E=0,v="",w=this.w.dn(),G=null,I=!1,L=!1,ba=null,Y=1,T=h.Ys,aa=-1,X=-1,N=0,R=0,U=!1,ca=!1,P=0,J=0,Q=-1,W=0,fa=0,V=null,O=1,Z=h.Ys,hb=h.Pw,Aa=-1,Ba=-1,Ca=0,ib=0,Da=!1,Ea=!1,Fa=0,Ga=0,Ha=-1,Ia=0,Ja=0,qa=null,jb=1,kb=h.xy,Ka=-1,La=-1,Ma=0,lb=0,Na=!1,Oa=!1,Pa=0,Qa=0,Ra=-1,Sa=0,Ta=0,ja=!1,Ua=!1,mb="numeric",za=-1,la=-1,ma=-1,Va=-1,na=-1,oa=-1,ra=0,sa=0,ta=0,ua=0,da=0,ea=0,ia=0,nb=0,
ob=0,ka=[],ha=0,Wa=!1,Xa=!1,Ya=!1,Za=!1,$a=!1,ab=!1,va=!1,bb=!1,cb=!1,wa=!1,xa=!1,db=!1,eb=!1,fb=!1,gb=!1;this.ir=this.Zl=0;this.Uf=!1;this.f[h.Xe]=-1;this.f[h.Fg]=-1;this.f[h.kn]=-1;this.f[h.Vf]=-1;this.f[h.ml]=-1;this.f[h.nl]=-1;this.f[h.ol]=-1;this.f[h.tn]=-1;this.f[h.un]=-1;this.f[h.ln]=-1;this.f[h.qn]=-1;this.f[h.pn]=-1;this.f[h.on]=-1;this.f[h.rn]=-1;this.f[h.sn]=-1;this.f[h.nn]=-1;this.f[h.pl]=-1;this.f[h.tl]=-1;this.f[h.rl]=-1;this.f[h.ul]=-1;this.f[h.wl]=-1;this.f[h.vl]=-1;this.f[h.sl]=-1;
this.f[h.ll]=-1;this.f[h.ql]=-1;this.jb=[];if(c.Jt()){for(ha=0;256>ha;ha+=1)this.jb[ha]=-1;for(e=c.Y();""!==e;){mb="numeric";if(g)e[e.length-1]===Keywords.Wb?(l=l+" "+e.substr(0,e.length-1),g=!1,this.wo(l,y,d,ja),d?(""!==this.Sa&&(y[y.length]=[Keywords.Jk+" "+Keywords.Wb+this.Mh(l,20)+Keywords.Wb,"overwrites "+Keywords.Wb+this.Sa+Keywords.Wb]),this.Sa=l,d=!1):ja?(qa.message=this.$g(l),ja=!1,this.w.Rs(qa)):(w.yd=this.$g(l),w.es=!0)):l=l+" "+e;else if(e[0]===Keywords.Wb)l=e.substr(1),g=!0,e[e.length-
1]===Keywords.Wb&&(g=!1,l=l.substr(0,l.length-1),this.wo(l,y,d,ja),d?(""!==this.Sa&&(y[y.length]=[Keywords.Jk+" "+Keywords.Wb+this.Mh(l,20)+Keywords.Wb,"overwrites "+Keywords.Wb+this.Sa+Keywords.Wb]),this.Sa=l,d=!1):ja?(qa.message=this.$g(l),ja=!1,this.w.Rs(qa)):(w.yd=this.$g(l),w.es=!0));else{m=n=!1;this.Zl+=1;switch(e){case Keywords.Jk:m=d=!0;break;case Keywords.qr:c.J()&&(n=!0,k=c.I(),k>=h.po&&k<=h.io&&(T=k,m=!0));break;case Keywords.Vu:c.J()?(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(da=k,n=!1,c.J()&&(n=
!0,k=c.I(),k>=h.Be&&k<=h.ze&&(W=da,fa=k,m=!0)))):(f=c.ua(),f===Keywords.Yc&&(f=c.Y(),fa=W=0,m=!0));break;case Keywords.sr:c.J()?(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.J()&&(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,ea=k,c.J()&&(n=!0,k=c.I(),0<=k&&k<=this.a.U/2&&(P=da,J=ea,Q=k,m=!0)))))):(f=c.ua(),f===Keywords.Ka&&(f=c.Y(),J=P=0,Q=-1,m=!0));break;case Keywords.nr:c.J()&&(n=!0,k=c.I(),0<=k&&360>k&&(R=k,U=!1,f=c.ua(),f===Keywords.Yc&&(f=c.Y(),U=!0),m=!0));break;case Keywords.rr:c.J()?
(n=!0,k=c.I()|0,0<=k&&(da=k,c.J()?(k=c.I()|0,k>=da?(ea=k,c.J()?(k=c.I()|0,0<=k&&k<=ea-da>>1?(aa=da,X=ea,N=k,m=!0):(m=!0,y[y.length]=[e+" "+da+" "+ea+" "+k,"third argument must from 0 to "+(ea-da>>1)])):n=!1):(m=!0,y[y.length]=[e+" "+da+" "+k,"second argument must be >= first"])):n=!1)):(f=c.ua(),f===Keywords.Ue?(f=c.Y(),X=aa=-1,N=0,m=!0):n=!1);break;case Keywords.mr:c.J()&&(n=!0,k=c.I(),0<=k&&1>=k&&(Y=k,m=!0));break;case Keywords.pr:case Keywords.Bo:ka=[];m=!0;for(ia=-1E3;m&&c.J();)da=c.I(),c.J()?
(ea=c.I(),da>=-this.a.U&&da<2*this.a.U&&ea>=-this.a.U&&ea<2*this.a.U?(ka[ka.length]=da,ka[ka.length]=ea):(y[y.length]=[e+" "+da+" "+ea,"coordinate out of range"],ia=0,m=!1)):da>=h.Wa&&da<=h.Hb?ia=da:da>=h.Tl&&da<=h.Sl?ia=-(1/da):(y[y.length]=[e+" "+da,"zoom out of range"],ia=0,m=!1);-1E3===ia&&(y[y.length]=[e,"missing zoom value"]);4>ka.length&&(y[y.length]=[e,"requires at least 2 coordinate pairs"],m=!1);m?(f=c.ua(),ca=!1,f===Keywords.Yc&&(f=c.Y(),ca=!0,f=c.ua()),ba=this.w.sx(ka,e===Keywords.Bo,
ia,this.Rj,Y,T,aa,X,N,R,U,ca,P,J,Q,W,fa),this.w.Gw(ba)):m=!0;break;case Keywords.Ip:c.J()&&(n=!0,k=c.I(),k>=h.po&&k<=h.io&&(da=k,n=!1,c.J()&&(n=!0,k=c.I(),0<=k&&1>=k&&(hb=k,Z=da,m=!0))));break;case Keywords.Lp:c.J()?(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(da=k,n=!1,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(Ia=da,Ja=k,m=!0)))):(f=c.ua(),f===Keywords.Yc&&(f=c.Y(),Ja=Ia=0,m=!0));break;case Keywords.Kp:c.J()?(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.J()&&(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/
2&&(n=!1,ea=k,c.J()&&(n=!0,k=c.I(),0<=k&&k<=this.a.U/2&&(Fa=da,Ga=ea,Ha=k,m=!0)))))):(f=c.ua(),f===Keywords.Ka&&(f=c.Y(),Ga=Fa=0,Ha=-1,m=!0));break;case Keywords.Hp:c.J()&&(n=!0,k=c.I(),0<=k&&360>k&&(ib=k,Da=!1,f=c.ua(),f===Keywords.Yc&&(f=c.Y(),Da=!0),m=!0));break;case Keywords.Jp:c.J()?(n=!0,k=c.I()|0,0<=k&&(da=k,c.J()?(k=c.I()|0,k>=da?(ea=k,c.J()?(k=c.I()|0,0<=k&&k<=ea-da>>1?(Aa=da,Ba=ea,Ca=k,m=!0):(m=!0,y[y.length]=[e+" "+da+" "+ea+" "+k,"third argument must from 0 to "+(ea-da>>1)])):n=!1):(m=
!0,y[y.length]=[e+" "+da+" "+k,"second argument must be >= first"])):n=!1)):(f=c.ua(),f===Keywords.Ue?(f=c.Y(),Ba=Aa=-1,Ca=0,m=!0):n=!1);break;case Keywords.Gp:c.J()&&(n=!0,k=c.I(),0<=k&&1>=k&&(O=k,m=!0));break;case Keywords.dl:c.J()&&(n=!0,k=c.I(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,da=k,c.J()&&(n=!0,k=c.I(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,ea=k,c.J()&&(n=!0,k=c.I(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,nb=k,c.J()&&(n=!0,k=c.I(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,ob=k,c.J()&&(n=!0,k=c.I(),ia=-1E3,k>=h.Wa&&
k<=h.Hb?ia=k:k>=h.Tl&&k<=h.Sl&&(ia=-(1/k)),-1E3!==ia&&(f=c.ua(),Ea=!1,f===Keywords.Yc&&(f=c.Y(),Ea=!0,f=c.ua()),V=this.w.lx(da,ea,nb,ob,ia,this.Pj,O,Z,hb,Aa,Ba,Ca,ib,Da,Ea,Fa,Ga,Ha,Ia,Ja),this.w.Cw(V),m=!0))))))))));break;case Keywords.Oq:c.J()&&(n=!0,k=c.I(),k>=h.Cu&&k<=h.vu&&(kb=k,m=!0));break;case Keywords.Rq:c.J()?(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(da=k,n=!1,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(Sa=da,Ta=k,m=!0)))):(f=c.ua(),f===Keywords.Yc&&(f=c.Y(),Ta=Sa=0,m=!0));break;case Keywords.Qq:c.J()?
(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,da=k,c.J()&&(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(n=!1,ea=k,c.J()&&(n=!0,k=c.I(),0<=k&&k<=this.a.U/2&&(Pa=da,Qa=ea,Ra=k,m=!0)))))):(f=c.ua(),f===Keywords.Ka&&(f=c.Y(),Qa=Pa=0,Ra=-1,m=!0));break;case Keywords.Nq:c.J()&&(n=!0,k=c.I(),0<=k&&360>k&&(lb=k,Na=!1,f=c.ua(),f===Keywords.Yc&&(f=c.Y(),Na=!0),m=!0));break;case Keywords.Pq:c.J()?(n=!0,k=c.I()|0,0<=k&&(da=k,c.J()?(k=c.I()|0,k>=da?(ea=k,c.J()?(k=c.I()|0,0<=k&&k<=ea-da>>1?(Ka=da,La=ea,Ma=
k,m=!0):(m=!0,y[y.length]=[e+" "+da+" "+ea+" "+k,"third argument must from 0 to "+(ea-da>>1)])):n=!1):(m=!0,y[y.length]=[e+" "+da+" "+k,"second argument must be >= first"])):n=!1)):(f=c.ua(),f===Keywords.Ue?(f=c.Y(),La=Ka=-1,Ma=0,m=!0):n=!1);break;case Keywords.Mq:c.J()&&(n=!0,k=c.I(),0<=k&&1>=k&&(jb=k,m=!0));break;case Keywords.Kl:c.J()&&(n=!0,k=c.I(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,da=k,c.J()&&(n=!0,k=c.I(),k>=-this.a.U&&k<2*this.a.U&&(n=!1,ea=k,c.J()&&(n=!0,k=c.I(),ia=-1E3,k>=h.Wa&&k<=h.Hb?ia=
k:k>=h.Tl&&k<=h.Sl&&(ia=-(1/k)),-1E3!==ia&&(f=c.ua(),Oa=!1,f===Keywords.Yc&&(f=c.Y(),Oa=!0,f=c.ua()),f[0]===Keywords.Wb?(qa=this.w.px(da,ea,ia,this.Qj,jb,kb,Ka,La,Ma,lb,Na,Oa,Pa,Qa,Ra,Sa,Ta),m=ja=!0):n=!1))))));break;case Keywords.$t:m=this.Hl=!0;break;case Keywords.er:m=this.dr=!0;break;case Keywords.cr:m=this.Lf=!0;break;case Keywords.fr:this.Cl=!1;m=!0;break;case Keywords.Xq:c.J()&&(n=!0,k=c.I()|0,k>=h.Bu&&k<=h.uu&&(this.a.U=1<<k,m=!0));break;case Keywords.wm:f=c.ua();f===Keywords.Ka?(f=c.Y(),
w.Ci=!1):w.Ci=!0;m=w.To=!0;break;case Keywords.Wm:f=c.ua();f===Keywords.Ka?(f=c.Y(),w.od=!1):w.od=!0;m=!0;break;case Keywords.Sn:c.J()&&(n=!0,k=c.I()|0,0<=k&&k<=this.fo&&(this.ba=k,m=!0));break;case Keywords.Gq:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.Cf=!1):this.Cf=!0;m=!0;break;case Keywords.Fl:f=c.ua();f===Keywords.Ka?(f=c.Y(),w.qc=!1):w.qc=!0;m=w.jj=!0;break;case Keywords.El:c.J()&&(n=!0,k=c.I()|0,k>=h.Iy&&k<=h.Ay&&(this.a.$e=k,m=this.a.jn=!0));break;case Keywords.ra:case Keywords.Sp:v=e;Ua=!1;
if(c.J()){z=c.I()|0;if(0>z||255<=z)y[y.length]=[e+" "+z,"STATE out of range"],Ua=!0;this.Ic(c,y,z,e,Ua,z)}else switch(f=c.ua(),f){case Keywords.Iu:f=c.Y();this.Ic(c,y,h.Ju,e,!1,f);break;case Keywords.Ku:f=c.Y();this.Ic(c,y,h.Lu,e,!1,f);break;case Keywords.au:f=c.Y();this.Ic(c,y,h.bu,e,!1,f);break;case Keywords.mu:f=c.Y();this.Ic(c,y,h.nu,e,!1,f);break;case Keywords.qu:f=c.Y();this.Ic(c,y,h.ru,e,!1,f);break;case Keywords.ou:f=c.Y();this.Ic(c,y,h.pu,e,!1,f);break;case Keywords.gu:f=c.Y();this.Ic(c,
y,h.hu,e,!1,f);break;case Keywords.Wo:this.m(c,y,h.Xe,v);break;case Keywords.Vo:this.m(c,y,h.Fg,v);break;case Keywords.fs:this.m(c,y,h.kn,v);break;case Keywords.Yo:this.m(c,y,h.Vf,v);break;case Keywords.Xo:this.m(c,y,h.ml,v);break;case Keywords.Cv:this.m(c,y,h.mn,v);break;case Keywords.Bv:this.m(c,y,h.$p,v);break;case Keywords.Fl:this.m(c,y,h.nl,v);break;case Keywords.El:this.m(c,y,h.ol,v);break;case Keywords.wm:this.m(c,y,h.tn,v);break;case Keywords.ds:this.m(c,y,h.un,v);break;case Keywords.nq:this.m(c,
y,h.nn,v);break;case Keywords.Kl:this.m(c,y,h.pl,v);break;case Keywords.dl:this.m(c,y,h.ll,v);break;case Keywords.Wu:this.m(c,y,h.ql,v);break;case Keywords.ft:this.m(c,y,h.ln,v);break;case Keywords.Rt:this.m(c,y,h.qn,v);break;case Keywords.Qt:this.m(c,y,h.pn,v);break;case Keywords.Pt:this.m(c,y,h.on,v);break;case Keywords.St:this.m(c,y,h.rn,v);break;case Keywords.Tt:this.m(c,y,h.sn,v);break;case Keywords.Lv:this.m(c,y,h.tl,v);break;case Keywords.Jv:this.m(c,y,h.rl,v);break;case Keywords.Mv:this.m(c,
y,h.ul,v);break;case Keywords.Ov:this.m(c,y,h.wl,v);break;case Keywords.Nv:this.m(c,y,h.vl,v);break;case Keywords.Kv:this.m(c,y,h.sl,v);break;default:y[y.length]=[e+" "+f,"illegal element"],f=c.Y()}m=!0;break;case Keywords.Ak:c.Jt();m=!0;--this.Zl;break;case Keywords.Nm:m=this.Xb=!0;break;case Keywords.gr:m=this.Vk=!0;break;case Keywords.br:m=this.so=this.Ib=!0;break;case Keywords.ar:m=this.si=!0;break;case Keywords.Yr:m=this.Rn=!0;break;case Keywords.Zr:m=gb=fb=eb=db=xa=wa=cb=bb=va=ab=$a=Za=Ya=Xa=
Wa=!0;break;case Keywords.Ka:y[y.length]=[Keywords.Ka,"must follow LOOP or STOP"];m=!0;break;case Keywords.Ue:f=c.ua();f===Keywords.Va?(f=c.Y(),w.Ef?(this.w.ex(w,y),this.qw()):y[y.length]=[Keywords.Ue+" "+Keywords.Va,"only valid at a POI"]):y[y.length]=[Keywords.Ue,"must be followed by INITIAL"];m=!0;break;case Keywords.Va:y[y.length]=[Keywords.Va,"must follow POI, ALL or a POI setting"];m=!0;break;case Keywords.Xm:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.qe=!1):this.ya&&(this.qe=!0);m=!0;break;case Keywords.zo:c.J()&&
(n=!0,k=c.I()|0,0<=k&&(w.Ef?(w.ab=k,w.ym=!0):y[y.length]=[Keywords.zo+" "+k,"only valid at a POI"],m=!0));break;case Keywords.wk:w.bA(y);m=!0;break;case Keywords.xk:w.dA(y);m=!0;break;case Keywords.fm:w.cA(y);m=!0;break;case Keywords.gm:c.J()&&(n=!0,k=c.I(),k>=WaypointConstants.Su&&k<=WaypointConstants.Ru&&(w.gA(k,y),m=!0));break;case Keywords.xq:m=this.Qn=!0;break;case Keywords.Wr:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.Sg=!1):this.Sg=!0;m=!0;break;case Keywords.Jm:c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=
h.ze&&(na=k,n=!1,e+=" "+k,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(oa=k,m=!0,this.fc&&(y[y.length]=[Keywords.Jm+" "+na+" "+oa,"overwrites "+la+" "+ma]),la=na,ma=oa,this.fc=!0))));break;case Keywords.Im:c.J()&&(n=!0,k=c.I()|0,0<k&&(Va=k,n=!1,e+=" "+k,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(na=k,n=!1,e+=" "+k,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(oa=k,m=!0,this.Yd&&(y[y.length]=[Keywords.Im+" "+Va+" "+na+" "+oa,"overwrites "+za+" "+la+" "+ma]),za=Va,la=na,ma=oa,this.fc=this.Yd=!0))))));break;case Keywords.Ij:c.J()&&
(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(ta=k,n=!1,e+=" "+k,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(sa=k,n=!1,e+=" "+k,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(ua=k,n=!1,e+=" "+k,c.J()&&(n=!0,k=c.I(),k>=h.Be&&k<=h.ze&&(ra=k,m=!0,ua>ta?y[y.length]=[Keywords.Ij+" W "+this.Fa(ua)+" E "+this.Fa(ta),"W is greater than E"]:ra>sa?y[y.length]=[Keywords.Ij+" N "+this.Fa(ra)+" S "+this.Fa(sa),"N is greater than S"]:(this.Hj&&(y[y.length]=[Keywords.Ij+" "+this.Fa(ta)+" "+this.Fa(sa)+" "+this.Fa(ua)+" "+this.Fa(ra),"overwrites "+
this.Fa(this.Yg)+" "+this.Fa(this.Zg)+" "+this.Fa(this.Bh)+" "+this.Fa(this.Ah)]),this.fc=this.Hj=!0,this.Ah=ra,this.Yg=ta,this.Zg=sa,this.Bh=ua)))))))));break;case Keywords.xg:G=w;!w.Ef&&0<this.w.Ry&&(w=this.w.Al());c.J()?(n=!0,k=c.I()|0,0<k&&(!w.Gi||this.Jc||xa||(y[y.length]=-1===w.yb?[Keywords.xg+" "+k,"overwrites "+Keywords.Ka]:[Keywords.xg+" "+k,"overwrites "+w.yb]),w.yb=k,w.Gi=!0,xa=this.Jc=!1,m=!0)):(f=c.ua(),f===Keywords.Ka?(f=c.Y(),!w.Gi||this.Jc||xa||(y[y.length]=-1!==w.yb||this.Jc?[Keywords.xg+
" "+Keywords.Ka,"overwrites "+w.yb]:[Keywords.xg+" "+Keywords.Ka,"overwrites "+Keywords.Ka]),w.yb=-1,w.Gi=!0,xa=this.Jc=!1,m=!0):f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.xg,w,y,this.Jc),m=this.Jc=!0));w=G;break;case Keywords.ig:G=w;!w.Ef&&0<this.w.ja.length&&(w=this.w.Al());c.J()?(n=!0,k=c.I()|0,0<k&&(!w.ki||this.Bd||wa||(y[y.length]=-1===w.oa?[Keywords.ig+" "+k,"overwrites "+Keywords.Ka]:[Keywords.ig+" "+k,"overwrites "+w.oa]),w.oa=k,w.ki=!0,wa=this.Bd=!1,m=!0)):(f=c.ua(),f===Keywords.Ka?(f=
c.Y(),!w.ki||this.Bd||wa||(y[y.length]=-1===w.oa?[Keywords.ig+" "+Keywords.Ka,"overwrites "+Keywords.Ka]:[Keywords.ig+" "+Keywords.Ka,"overwrites "+w.oa]),w.oa=-1,w.ki=!0,wa=this.Bd=!1,m=!0):f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.ig,w,y,this.Bd),m=this.Bd=!0));w=G;break;case Keywords.Qh:c.J()?(n=!0,k=c.I()|0,0<=k&&359>=k&&(!w.pf||this.eg||Za||(y[y.length]=[Keywords.Qh+" "+k,"overwrites "+w.angle]),w.angle=k,w.pf=!0,Za=this.eg=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.Qh,
w,y,this.eg),m=this.eg=!0));break;case Keywords.mj:c.J()?(n=!0,k=c.I()|0,k>=h.oo&&k<=h.ho&&(!w.Ff||this.jg||$a||(y[y.length]=[Keywords.mj+" "+k,"overwrites "+w.G]),w.G=k,w.Ff=!0,$a=this.jg=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.mj,w,y,this.jg),m=this.jg=!0));break;case Keywords.cj:c.J()?(n=!0,k=c.I(),k>=h.no&&k<=h.tu&&(!w.vf||this.fg||ab||(y[y.length]=[Keywords.cj+" "+k,"overwrites "+w.depth]),w.depth=k,w.vf=!0,ab=this.fg=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.cj,
w,y,this.fg),m=this.fg=!0));break;case Keywords.hp:c.J()&&(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(this.zd=k,m=!0));break;case Keywords.ip:c.J()&&(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(this.Ad=k,m=!0));break;case Keywords.cd:c.J()?(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(!w.le||this.mg||Wa||(y[y.length]=[Keywords.cd+" "+k,"overwrites "+-w.x]),w.x=-k,w.le=!0,Wa=this.mg=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.cd,w,y,this.mg),m=this.mg=!0));break;case Keywords.dd:c.J()?
(n=!0,k=c.I(),k>=-this.a.U/2&&k<=this.a.U/2&&(!w.Wd||this.ng||Xa||(y[y.length]=[Keywords.dd+" "+k,"overwrites "+-w.y]),w.y=-k,w.Wd=!0,Xa=this.ng=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.dd,w,y,this.ng),m=this.ng=!0));break;case Keywords.eu:m=!0;break;case Keywords.ls:c.J()&&(n=!0,k=c.I(),k>=h.Wa&&k<=h.Hb?(this.Qi=!0,this.Zk=k,m=!0):k>=h.Tl&&k<=h.Sl&&(this.Qi=!0,this.Zk=-(1/k),m=!0));break;case Keywords.Ep:case Keywords.oc:c.J()?(n=!0,k=c.I(),k>=h.Wa&&k<=h.Hb?(!w.Gc||this.Cd||
Ya||(y[y.length]=1>w.zoom?[Keywords.oc+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.oc+" "+k,"overwrites "+w.zoom]),w.zoom=k,w.Gc=!0,Ya=this.Cd=!1,m=!0):k>=h.Tl&&k<=h.Sl&&(w.Gc&&!this.Cd&&(y[y.length]=1>w.zoom?[Keywords.oc+" "+k,"overwrites "+-(1/w.zoom)]:[Keywords.oc+" "+k,"overwrites "+w.zoom]),w.zoom=-(1/k),w.Gc=!0,this.Cd=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.oc,w,y,this.Cd),m=this.Cd=!0));break;case Keywords.ij:c.J()?(n=!0,k=c.I()|0,k>=h.Ae&&k<=h.mi&&(!w.zf||this.gg||
bb||(y[y.length]=[Keywords.ij+" "+k,"overwrites "+w.lb]),w.lb=k,w.zf=!0,bb=this.gg=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.ij,w,y,this.gg),m=this.gg=!0));break;case Keywords.ms:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.ye||(this.zh=this.wa=!1)):this.ye||(this.zh=this.wa=!0);m=!0;break;case Keywords.hs:f=c.ua();f===Keywords.Ka?(f=c.Y(),this.ye||(this.Vg=this.zh=this.wa=!1,this.h.Vg=!1)):this.ye||(this.Vg=this.zh=this.wa=!0,this.h.Vg=!0);m=!0;break;case Keywords.ks:c.J()&&(n=!0,
k=c.I()|0,k>=h.Eu&&k<=h.yu&&(this.Fc=k,m=!0));break;case Keywords.yh:c.J()?(n=!0,k=c.I()|0,0<=k&&k<this.a.ge&&(!w.Td||this.Yb||va||this.Yk(y,k,w.ob),w.ob=k,w.Td=!0,va=this.Yb=!1,m=!0)):(f=c.ua(),f===Keywords.Ik?(f=c.Y(),this.Uf?(w.Td&&!this.Yb&&this.Yk(y,this.a.ge,w.ob),w.ob=this.a.ge,w.Td=!0,this.Yb=!1):y[y.length]=[Keywords.yh+" "+Keywords.Ik,"no custom THEME defined"],m=!0):(k=this.vw(f),-1!==k?(f=c.Y(),!w.Td||this.Yb||va||this.Yk(y,k,w.ob),w.ob=k,w.Td=!0,va=this.Yb=!1,m=!0):f===Keywords.Va&&(f=
c.Y(),this.w.ic(Keywords.yh,w,y,this.Yb),m=this.Yb=!0)));break;case Keywords.xj:y[y.length]=[e,"already in a script block"];m=!0;break;case Keywords.Mr:this.Ea=!this.Ea;m=!0;break;case Keywords.Nr:this.gk.current=this.Mk([!0],!0,this);m=!0;break;case Keywords.pq:this.bh.current=this.jl([!0],!0,this);m=!0;break;case Keywords.Lr:this.gp([!0],!0,this);this.ce&&(this.ce.current=[this.hf],this.h.Wg=!0);m=!0;break;case Keywords.fq:c.J()&&(n=!0,k=c.I()|0,k>=h.Au&&k<=h.su&&(m=!0,this.a.km=k));break;case Keywords.to:m=
this.Pc=!0;break;case Keywords.Kn:m=this.gb=!0;break;case Keywords.sq:c.J()&&(n=!0,k=c.I(),0<=k&&1>=k&&(m=!0,this.Vb=k));break;case Keywords.tq:this.Ge=!1;m=!0;break;case Keywords.Bq:m=this.a.Oe=!0;break;case Keywords.Qr:this.a.Oe=!1;m=!0;break;case Keywords.Rr:this.a.ca||(this.a.S=!1,this.Eb.l=this.a.S);m=!0;break;case Keywords.Cq:this.a.ca||(this.a.S=!0,this.Eb.l=this.a.S);m=!0;break;case Keywords.et:m=this.a.Cc=!0;break;case Keywords.wr:this.Gn=c.Y();m=!0;break;case Keywords.af:f=c.ua();switch(f){case Keywords.cd:w.Fh&&
this.va(w.kf,Keywords.af,Keywords.cd,y);w.kf=!0;w.Fh=!0;f=c.Y();break;case Keywords.dd:w.Hh&&this.va(w.lf,Keywords.af,Keywords.dd,y);w.lf=!0;w.Hh=!0;f=c.Y();break;case Keywords.oc:w.Qs&&this.va(w.mf,Keywords.af,Keywords.oc,y);w.mf=!0;w.Pm=!0;f=c.Y();break;case Keywords.Ue:w.Fh&&this.va(w.kf,Keywords.af,Keywords.cd,y);w.Hh&&this.va(w.lf,Keywords.af,Keywords.dd,y);w.Qs&&this.va(w.mf,Keywords.af,Keywords.oc,y);w.kf=!0;w.Fh=!0;w.lf=!0;w.Hh=!0;w.mf=!0;w.Pm=!0;f=c.Y();break;default:this.Dd(c,y,Keywords.af,
"argument",Keywords.Ue+", "+Keywords.cd+", "+Keywords.dd+" or "+Keywords.oc)}m=!0;break;case Keywords.Sf:f=c.ua();switch(f){case Keywords.cd:w.Fh&&this.va(w.kf,Keywords.Sf,Keywords.cd,y);w.kf=!1;w.Fh=!0;f=c.Y();break;case Keywords.dd:w.Hh&&this.va(w.lf,Keywords.Sf,Keywords.dd,y);w.lf=!1;w.Hh=!0;f=c.Y();break;case Keywords.oc:w.Qs&&this.va(w.mf,Keywords.Sf,Keywords.oc,y);w.mf=!1;w.Pm=!0;f=c.Y();break;case Keywords.Ue:w.Fh&&this.va(w.kf,Keywords.Sf,Keywords.cd,y);w.Hh&&this.va(w.lf,Keywords.Sf,Keywords.dd,
y);w.Qs&&this.va(w.mf,Keywords.Sf,Keywords.oc,y);w.kf=!1;w.Fh=!0;w.lf=!1;w.Hh=!0;w.mf=!1;w.Pm=!0;f=c.Y();break;default:this.Dd(c,y,Keywords.Sf,"argument",Keywords.Ue+", "+Keywords.cd+", "+Keywords.dd+" or "+Keywords.oc)}m=!0;break;case Keywords.Ao:L=!0;this.w.add(w);w=this.w.dn();w.Ef=!0;f=c.ua();f===Keywords.Va&&(f=c.Y(),-1!==this.aj&&(y[y.length]=[Keywords.Ao+" "+Keywords.Va,"overrides previous initial POI"]),this.aj=this.w.wb.length);this.ps();m=!0;break;case Keywords.xm:c.J()&&(n=!0,k=c.I()|0,
0<=k&&(I||(I=!0),0<k&&(this.w.add(w),w=this.w.dn()),w.ab=k,m=w.ym=!0));break;case Keywords.Bj:c.J()?(n=!0,k=c.I()|0,k>=h.nj&&k<=h.fe&&(!w.Qf||this.kg||cb||(y[y.length]=[Keywords.Bj+" "+k,"overwrites "+w.step]),w.step=k,w.Qf=!0,cb=this.kg=!1,m=!0)):(f=c.ua(),f===Keywords.Va&&(f=c.Y(),this.w.ic(Keywords.Bj,w,y,this.kg),m=this.kg=!0));break;case Keywords.kr:c.J()&&(n=!0,k=c.I(),0<=k&&(I||(I=!0),this.w.add(w),w=this.w.dn(),k<h.uv&&(k=h.uv),w.ec=k,m=w.Av=!0));break;case Keywords.Nk:c.J()&&(n=!0,k=c.I()|
0,this.ye||(-1===this.W||db||(y[y.length]=[Keywords.Nk+" "+k,"overwrites "+this.W]),this.W=k),db=!1,m=!0);break;case Keywords.ik:c.J()&&(n=!0,k=c.I()|0,this.ye||(-1===this.fa||eb||(y[y.length]=[Keywords.ik+" "+k,"overwrites "+this.fa]),this.fa=k),eb=!1,m=!0);break;case Keywords.im:c.J()&&(n=!0,k=c.I()|0,-1===this.ha||fb||(y[y.length]=[Keywords.im+" "+k,"overwrites "+this.ha]),this.ha=k,fb=!1,m=!0);break;case Keywords.hm:c.J()&&(n=!0,k=c.I()|0,-1===this.Ca||gb||(y[y.length]=[Keywords.hm+" "+k,"overwrites "+
this.Ca]),this.Ca=k,gb=!1,m=!0);break;default:y[y.length]=[e,"unknown or misspelt command"],m=!0}m||(n?y[y.length]=[e+" "+k,"argument out of range"]:this.Dd(c,y,e,"argument",mb))}""!==e&&(e=c.Y())}g&&(y[y.length]=[Keywords.Wb+l,"unterminated string"]);I&&this.fc&&(A=this.Hj?Keywords.Ij:this.Yd?Keywords.Im:Keywords.Jm,y[y.length]=[A,"can not be used with Waypoints"],this.Yd=this.Hj=this.fc=!1);this.Hj||!this.fc&&!this.Yd||(this.Yd&&(0<this.a.$e&&(za*=this.a.$e),w.oa=za),this.Ah=ma,this.Yg=la,this.Zg=
ma,this.Bh=la);if(I||L){this.w.add(w);w=this.w.Al();I?this.Sb=!0:-1!==this.aj&&(this.we=this.aj,G=this.w.wb[this.aj],G.le&&(w.le=G.le,w.x=G.x),G.Wd&&(w.Wd=G.Wd,w.y=G.y),G.Gc&&(w.Gc=G.Gc,w.zoom=G.zoom),G.pf&&(w.pf=G.pf,w.angle=G.angle),G.vf&&(w.vf=G.vf,w.depth=G.depth),G.Ff&&(w.Ff=G.Ff,w.G=G.G),G.Td&&(w.Td=G.Td,w.ob=G.ob),G.zf&&(w.zf=G.zf,w.lb=G.lb),G.Qf&&(w.Qf=G.Qf,w.step=G.step),G.zv&&(w.zv=G.zv,w.stop=G.stop),G.Wq&&(w.Wq=G.Wq,w.loop=G.loop));if(I){for(ha=0;ha<this.w.ja.length;ha+=1)w=this.w.ja[ha],
w.od&&(w.le||w.Wd||w.Gc)&&(l="",w.le?(l="X "+w.x,w.Wd?l=w.Gc?l+(", Y "+w.y+" and ZOOM "+w.zoom):l+(" and Y "+w.y):w.Gc&&(l+=" and ZOOM "+w.zoom)):w.Wd?(l="Y "+w.y,w.Gc&&(l+=" and ZOOM "+w.zoom)):w.Gc&&(l="ZOOM "+w.zoom),y[y.length]=[Keywords.Wm,"overwrites "+l]);w=this.w.Al()}L&&w.Ce===WaypointConstants.play&&this.ya&&(this.qe=!0)}w.od&&(this.qb=!0);w.le&&(this.a.da=this.a.width/2-w.x);w.Wd&&(this.a.$=this.a.height/2-w.y);w.Gc&&(this.a.zoom=w.zoom);w.pf&&(this.a.angle=w.angle);w.vf&&(this.a.tc=w.depth/
h.Wh+h.no);w.Ff&&(this.a.G=w.G);w.Td&&(this.Pi=w.ob);w.zf&&(this.Id=w.lb);w.Qf&&(this.ga=w.step);w.es&&this.h.notification.T(w.yd,1E3,!1);this.yb=w.yb;this.oa=w.oa;w.Gc&&(this.Pk=!0);w.le&&(this.Sj=!0);w.Wd&&(this.Tj=!0);w.jj&&(this.a.kb=w.qc);w.To&&(this.wg=w.Ci);for(ha=0;ha<b;ha+=1)-1!==this.jb[ha]&&(C+=1);if(0<C){this.Rm=!0;for(ha=0;ha<b;ha+=1)PatternManager.Aj[ha]?-1===this.jb[ha]?(E=this.Nc[ha],this.Rn&&(y[y.length]=this.a.sc?[v+" "+h.oA[ha],"definition missing (used "+(E>>16)+" "+(E>>8&255)+
" "+(E&255)+")"]:[v+" "+ha,"definition missing (used "+(E>>16)+" "+(E>>8&255)+" "+(E&255)+")"]),this.jb[ha]=E,this.Rm=!1,this.$i[ha]=h.yv):this.$i[ha]=h.xv:this.$i[ha]=h.Xr;this.Yj=this.Rm?"(custom)":this.Yj+" (custom*)"}else this.jb=[];this.Uf&&(this.sw(),this.Rc&&(this.Rc.upper=this.a.ge));2<b&&!this.a.sc&&-1===this.a.cB&&(this.Xb=!0);this.Xb&&(A="not possible due to "+Keywords.Nm,this.qe&&(y[y.length]=[Keywords.Xm,A],this.qe=!1),-1!==this.yb&&(y[y.length]=[Keywords.xg+" "+this.yb,A]),-1!==this.oa&&
(y[y.length]=[Keywords.ig+" "+this.oa,A]));0!==this.zd&&this.pg+h.fe+2*Math.abs(this.zd)>=this.a.U&&(y[y.length]=[Keywords.hp+" "+this.zd,"pattern does not fit on grid at this offset"],this.zd=0);0!==this.Ad&&this.Kg+h.fe+2*Math.abs(this.Ad)>=this.a.U&&(y[y.length]=[Keywords.ip+" "+this.Ad,"pattern does not fit on grid at this offset"],this.Ad=0);this.ir=y.length}""!==this.Sa&&(this.Sa=this.$g(this.Sa));this.qb&&(this.Vm=!0);this.gb&&this.Pc&&(y[y.length]=[Keywords.Kn,"not valid with "+Keywords.to],
this.gb=!1);var pa=0,ya=!1;-1!==this.W&&(pa=h.td,this.Ib&&(pa=h.Ly),this.W<pa||this.W>this.Hg)&&(y[y.length]=[Keywords.Nk+" "+this.W,"argument out of range"],ya=!0);-1!==this.fa&&(pa=h.pk,this.Ib&&(pa=h.Ky),this.fa<pa||this.fa>h.lo)&&(y[y.length]=[Keywords.ik+" "+this.fa,"argument out of range"],ya=!0);this.ye&&(-1!==this.ha&&(this.ha<h.td||this.ha>this.Hg)&&(y[y.length]=[Keywords.im+" "+this.ha,"argument out of range"],this.ha=-1,ya=!0),-1!==this.Ca&&(this.Ca<h.pk||this.Ca>h.lo)&&(y[y.length]=[Keywords.hm+
" "+this.Ca,"argument out of range"],this.Ca=-1,ya=!0));if(ya||y.length)-1!==this.W&&this.W<h.td&&(this.W=h.td),-1!==this.fa&&this.fa<h.rh&&(this.fa=h.rh),this.Ib=!1;this.u.l=this.Ib;this.h.Ib=this.Ib;this.h.si=this.si;this.Ib&&(this.gb=this.Vg=this.wa=this.qe=!1,this.Mk([!1],!0,this),this.jl([!1],!0,this),this.gp([!1],!0,this),this.Hl=this.Ea=!1);this.Vk&&(this.element.style="display:none",this.element.parentNode&&this.element.parentNode.parentNode&&this.element.parentNode.parentNode.className===
q.Cn&&(this.element.parentNode.parentNode.style="display:none;"));this.w.mA()};c.prototype.nw=function(){this.a.jn=!1;this.a.U=1<<h.Ox;this.aj=this.Pi=-1;this.si=this.Vk=this.so=this.Ib=!1;this.a.Bb=0;this.a.vb=0;this.a.Ob=1;this.Ea=this.Vm=this.qb=!1;this.jb=[];this.ih=this.We=null;this.Wf=h.Wf;this.a.$f=this.a.iy;this.a.Zf=this.a.hy;this.a.Yf=this.a.gy;this.a.ag=this.a.jy;this.a.bg=this.a.ky;this.Rh=this.qe=this.Qn=!1;this.oa=this.yb=-1;this.hf=this.gc=this.Yd=this.fc=this.Hj=this.Sb=this.nc=this.Za=
!1;this.ba=this.fo=2<this.a.g?63<=256-this.a.g?63:256-this.a.g:63;this.xe=!1;this.a.An=!1};c.prototype.$r=function(){this.Vg?l(this.element):(this.A=this.Vn,this.v=this.js,this.qb?(this.wa=!1,this.Xf(!0,!1)):this.a.zoom=this.Wn,this.zb&&(this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this)),this.X=this.Tn,this.wa=!1,this.h.wa=!1,this.u.l=!1,this.h.notification.T("Shrink with hotkey N",100,!0),this.resize())};c.prototype.pp=function(a){a.wa?a.$r():a.Ib&&(a.si||a.Xp(a,!1))};c.prototype.resize=
function(){this.Xk&&(A.tr.Ar=this.Uk-this.A,this.Uk=this.A,this.Xk=!1);this.H.width=this.A;this.H.height=this.v;this.sj.width=this.A;this.sj.height=this.v;this.ud.textBaseline="middle";this.a.gv(this.A,this.v)};c.prototype.bs=function(){this.Vn=this.A;this.js=this.v;this.Wn=this.a.zoom;this.Tn=this.X;this.A=this.A/this.Fc|0;this.v=this.v/this.Fc|0;this.a.zoom=this.a.zoom/this.Fc;this.A&=-8;this.u.l=!0;this.h.wa=!0;this.h.Fc=this.Fc;this.wa=!0;this.resize()};c.prototype.ro=function(){var a=this.a.g;
a>this.ph&&(a=this.ph);this.bc.lower=[];this.bc.F=[];this.bc.width=40*a;this.i.lower=[];this.i.F=[];this.i.current=[];this.i.width=40*a;this.i.Lc=1;for(a=0;a<this.ph;a+=1){var b=a+this.Pf;this.bc.lower[a]=String(b);b=0===b?"dead":1===b?"alive":"dying "+String(b-1);this.bc.F[a]=b;this.i.lower[a]="";this.i.F[a]=b;this.i.current[a]=!1}b=this.Ye;0<b&&(b=this.a.g-b);this.bc.current=b-this.Pf};c.prototype.tw=function(){var a=this.a.g;this.Ye=1;this.Pf=0;this.yg.current=[this.ao([!0],!0,this)];this.ph=7+
((this.A-h.td)/40|0);this.a.sc?(this.bc.lower="0123456".split(""),this.bc.width=280,this.bc.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.bc.current=this.Ye,this.i.lower="      ".split(" "),this.i.width=280,this.i.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";"),this.i.Lc=1,this.i.current=[!1,!1,!1,!1,!1,!1,!1]):2>=a?(this.bc.lower=["0","1"],this.bc.width=80,this.bc.F=["dead","alive"],this.bc.current=this.Ye,this.i.lower=["",""],this.i.width=80,this.i.F=["dead","alive"],
this.i.Lc=1,this.i.current=[!1,!1]):(this.Ye=a-1,a>this.ph&&(a=this.ph),this.ro(),this.bc.width=40*a,this.i.width=40*a,this.Nh.current=this.yo([0,0],!0,this));this.bc.setPosition(Menu.fb,-this.bc.width,40);this.i.setPosition(Menu.fb,-this.i.width,60)};c.prototype.Fn=function(){this.$h=!1;this.In=0;this.sg=!1;this.wi=this.vi=0;this.cm=this.rk=this.jr=this.Mf=this.Lg="";this.em=this.uh=this.Kg=this.pg=0;this.og="(none)";this.a.Zb=!1;this.a.sc=!1;this.a.S=!1;this.a.ca=!1;this.a.wc=PatternManager.Jj;
this.a.Md=!1;this.a.Qe=-1;this.a.bm=!1;this.a.g=-1;this.a.ka=-1;this.a.sa=!1;this.ya=this.a.dB=!1};c.prototype.wh=function(a,b){var c,d=!1;var e=0;this.Un=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;this.Qb=[];this.h.notification.clear(!0,!0);this.h.notification.clear(!1,!0);if(a=PatternManager.create("",a,this.a.j)){this.$h=PatternManager.$h;this.In=PatternManager.rq;this.sg=PatternManager.sg;this.vi=PatternManager.Co;this.wi=PatternManager.Do;this.Rg=PatternManager.Rg;this.Qg=PatternManager.Qg;
this.pg=a.width;this.Kg=a.height;this.rk=a.name;this.cm=a.Mu;this.og=a.og;""===this.og&&(this.og="(none)");this.uh=a.Fe;this.em=a.$l;this.Lg=a.aa;this.Mf=a.Zd;this.jr=a.Zm;this.a.rb=a.rb;this.a.pe=a.pe;this.ya=PatternManager.ya;this.a.sc=a.Gb;this.a.g=a.g;if(this.a.sa=a.sa)this.a.Tb.Ab=a.Uc,this.a.Tb.Uo=a.wd,this.a.Tb.Ko=a.g,this.a.Tb.hA(a.Ee,a.lc),PatternManager.gh?(this.a.Tb.Sm=a.al,this.a.Tb.Tm=a.cl,this.a.Tb.gh=!0):this.a.Tb.gh=!1;this.a.Zb=a.Zb;this.a.Oe=!0;this.a.S=a.S;this.a.bm=a.S;this.a.ca=
a.ca;this.a.wc=a.wc;this.a.Md=a.Md;this.a.Qe=a.Qe;this.a.ka=a.tb;this.a.la=a.pd;this.a.na=a.Ze;this.a.hl=a.Dl;this.a.il=a.hk;this.a.Op=a.uq;this.a.it=a.Pn;this.dm=new Uint32Array(this.uh);for(c=0;c<this.uh;c+=1)this.dm[c]=PatternManager.Aj[c]}else this.Fn();this.Of=!0;this.gb=!1;this.Ge=!0;this.Vb=h.Dt;this.Pc=a?!1:!0;this.Cl=!0;this.Jn=!1;this.Eb.l=this.a.S;this.o=PatternManager.o;this.a.Ba=!0;this.a.km=h.Ct;this.Ad=this.zd=0;this.Ke=this.we=-1;this.kl=this.Zi=!1;this.Sg=this.Cf=this.u.locked=!1;
this.a.cy();this.a.dy();this.a.sc&&(this.a.rx(),this.a.ux());this.Sa="";this.wg=!1;ColourManager.Kd();this.a.nt(!1);this.a.rc=this.a.On;this.a.de=this.a.Nn;this.a.$e=10;this.a.Px=10;this.a.mh=!0;this.Id=60;this.ga=1;this.a.G=1;this.a.tc=.1;this.a.angle=0;this.a.zoom=6;this.a.Fz();this.a.da=this.a.width/2;this.a.$=this.a.height/2;this.Tj=this.Sj=this.Pk=!1;this.bj=this.ae=0;this.Ca=this.ha=this.fa=this.W=-1;this.f[h.Xe]=-1;this.f[h.Fg]=-1;this.f[h.kn]=-1;this.f[h.Vf]=-1;this.f[h.ml]=-1;this.f[h.nl]=
-1;this.f[h.ol]=-1;this.f[h.tn]=-1;this.f[h.un]=-1;this.f[h.ln]=-1;this.f[h.qn]=-1;this.f[h.pn]=-1;this.f[h.on]=-1;this.f[h.rn]=-1;this.f[h.sn]=-1;this.f[h.nn]=-1;this.f[h.pl]=-1;this.f[h.mn]=-1;this.f[h.$p]=-1;this.f[h.tl]=-1;this.f[h.rl]=-1;this.f[h.ul]=-1;this.f[h.wl]=-1;this.f[h.vl]=-1;this.f[h.sl]=-1;this.f[h.ll]=-1;this.f[h.ql]=-1;this.Qj=h.iu;this.Pj=h.Um;this.Rj=h.Tu;this.wa&&this.$r();this.zh=!1;this.h.wa=!1;this.Fc=h.Et;this.Vg=!1;this.Qi=this.h.jB=!1;this.Ub=a?!1:!0;this.Xb=!1;this.a.kb=
!1;this.a.Cc=!1;this.pa.l=!1;this.oj.l=!1;this.ce.l=!1;this.Oa.l=!1;this.cc.l=!1;this.Jf.l=!1;this.uc.l=!1;this.Mb.l=!1;this.Rc.l=!1;this.u.l=!1;this.He.l=!1;this.Jf.current=[!1];this.ce.current=[!1];this.Ya=this.X=0;this.oj.current=this.Cs(h.Ul,!0,this);this.ci.current=this.Gm([this.X],!0,this);this.Th=[96,96,96];this.a.Xj=this.a.hg?4284506208:1616929023;this.w.reset();this.Sb=!1;this.w.bx();this.Uf=this.dr=this.Lf=this.Hl=!1;if(a){if(a.Zb)this.Nc=ColourManager.wn,this.Yj="(default)";else if(PatternManager.fk||
a.Gb)a.Gb?(this.Nc=ColourManager.pt("LifeHistory"),this.Nc[2]=96):this.Nc=ColourManager.pt(a.aa),this.Nc.length?this.Yj=a.aa:(this.Nc=ColourManager.wn,this.Yj="(default)");this.nw();a.title&&(this.mw(a.title,a.Fe),myRand.Kd(this.Gn),this.Qb.length&&(this.Ya=1),this.wa&&b&&(this.wa=!1),-1<this.W&&(this.W&=-8,this.W!==this.A&&(this.A=this.W,d=!0)),-1<this.fa&&this.fa!==this.v&&(this.v=this.fa,d=!0),this.ye&&(-1<this.ha?(this.ha&=-8,this.ha!==this.A&&(this.A=this.ha,d=!0)):this.A=h.td,this.A!==this.Uk&&
(this.Xk=!0),-1<this.Ca?this.Ca!==this.v&&(this.v=this.Ca,d=!0):this.v=h.rh+80));this.tw();this.rw();this.gw();this.a.mz();this.a.ba=this.ba;this.Vg&&!this.gb&&(this.Pc=!0,this.gb=!1);this.a.Iw(!this.Pc);if(a.width>this.a.U||a.height>this.a.U)this.o="Pattern too big (maximum "+this.a.U+"x"+this.a.U+")",this.Xg=!0,this.ya=!1,this.Fn();-1!==a.tb&&(a.sa&&(e=6*a.lc),a.qd&&(e=6*a.Jb),a.pd>=this.a.U-e||a.Ze>=this.a.U-e)&&(this.o="Bounded grid is too big",this.ya=!1,this.a.ka=-1);this.Is=!1;if(-1!==this.a.ka){b=
this.a.la;var f=this.a.na;0===b&&(b=a.width);0===f&&(f=a.height)}else b=a.width,f=a.height;e=h.fe;this.a.sa&&(e=4*this.a.Tb.vc+1,-1!==this.a.ka&&(e+=2*this.a.Tb.vc),this.a.Tb.type===PatternManager.jf&&(e=-1!==this.a.ka?e+this.a.na/2:e+(this.a.C.L-this.a.C.K+1)/2),e<h.fe&&(e=h.fe));c=this.a.U/2-e;this.sg&&(this.vi<-c?this.vi=-c:this.vi>=c&&(this.vi=c-1),this.wi<-c?this.wi=-c:this.wi>=c&&(this.wi=c-1),this.zd+=this.vi,this.Ad+=this.wi);this.zd<-c?this.zd=-c:this.zd>=c&&(this.zd=c-1);this.Ad<-c?this.Ad=
-c:this.Ad>=c&&(this.Ad=c-1);for(;this.a.width<this.a.U&&(b+e+2*Math.abs(this.zd)>=this.a.width||f+e+2*Math.abs(this.Ad)>=this.a.height);)this.a.wq(),this.ae+=this.a.width>>2,this.bj+=this.a.height>>2,this.he+=this.a.width>>2,this.wj+=this.a.height>>2,this.a.S&&(this.ae-=this.a.height>>3,this.he-=this.a.height>>3);a.sa&&this.a.Tb.resize(this.a.width,this.a.height);this.Ms(a.width,a.height);this.a.sc&&PatternManager.Aj[6]&&this.a.ez(a,this.Od,this.Pd);this.We?this.h.notification.te="rgb("+this.We[0]+
","+this.We[1]+","+this.We[2]+")":this.h.notification.te=this.h.notification.Yu;if(0===this.jb.length)for(c=0;c<this.Nc.length;c+=1)this.$i[c]=PatternManager.Aj[c]?h.yv:h.Xr;this.a.kc?(this.a.ox(this.Nc,this.jb),this.a.kh=!0):this.a.kh=!1;this.Os(a);this.a.CA();this.Kc.xb=""!==this.Mf?this.Mf:this.Lg;this.Kc.F=this.Lg;""!==this.Mf&&(this.Kc.F+=" alias "+this.Mf)}this.a.mx();-1!==this.Pi?this.a.Bk(this.Pi,1,this):this.Uf?this.a.Bk(this.a.ge,1,this):this.a.sc?this.a.Bk(10,1,this):2<this.a.g?this.a.Bk(11,
1,this):this.a.Bk(1,1,this);this.a.jb=this.jb;this.a.Zb?this.a.vt(this.Nc,this.jb):this.a.ut();this.a.Vc(1);this.a.Xz();this.Lb.current=this.Si([this.Vb,this.Vb],!1,this);this.mk.current=[this.Ge];this.Ag.current=[this.qb];this.bi.current=[this.a.kb];this.a.Cz(this.Sg);this.a.zr();this.elapsedTime=this.Jg=this.Ga=this.a.s=0;this.Ub?(a&&0<this.jb.length&&(this.Nc=this.jb),this.a.vt(this.Nc,this.jb),this.a.Sd.reset(),this.Pc=!0,this.gb=!1):(2>=this.a.g&&this.a.Ez(this.a.sb),this.a.sc&&PatternManager.Aj[2]&&
this.a.hx(a,this.Od,this.Pd),this.a.Hz(this.a.sb,this.a.ta),a&&0===this.a.Aa?(this.dk=!0,this.a.Zb||this.h.notification.T("Nothing alive!",300,!1)):this.dk=!1,-1!==this.a.ka&&this.a.Ir(),this.a.Uz(this.Lf),this.a.Jo(this.Lf));this.ai.locked=this.Pc;this.ai.current=[this.gb];this.ei.current=[this.a.S];this.ei.locked=this.a.ca;this.fi.current=[this.a.Oe];this.fi.locked=this.a.ca;0===this.w.Xl()?(this.hi.locked=!0,this.Of=!1):(this.hi.locked=!1,this.Of=!0);this.hi.current=[this.Of];this.lk.current=[this.Ea];
this.Fk.current=[this.wg];this.kk.current=[this.Cf];0===this.a.$e?(this.oh.current=[!1],this.oh.locked=!0):(this.oh.current=[this.a.mh],this.oh.locked=!1);this.Pc||this.a.fv();a&&(a.De=null);e=this.a.zoom;c=this.a.da;b=this.a.$;f=this.wa;this.wa=!1;this.Xf(!0,!1);this.wa=f;this.Pk&&(this.a.zoom=e);this.Sj&&(this.a.da=c);this.Tj&&(this.a.$=b);this.Sb&&this.Aw(this.Qb);this.wa&&this.Qi&&(this.a.zoom=this.Zk);this.Ft=this.a.zoom;this.zb.current=this.eh([this.a.zoom,this.a.zoom],!1,this);this.ae=this.a.da;
this.bj=this.a.$;this.$j=this.a.angle;this.Eb.current=[this.$j,this.$j];this.yn=this.a.ue;this.Rc.current=this.Mj([this.yn,""],!0,this);this.eq=this.Id;e=Math.sqrt((this.eq-h.Ae)/(h.mi-h.Ae));this.Oa.current=this.dh([e,e],!0,this);this.xn=this.ga;this.cc.current=this.Ni([this.xn,this.xn],!0,this);this.bk=this.a.G;this.uc.current=[this.bk,this.bk];this.cq=this.a.tc;e=Math.sqrt(this.cq);this.Mb.current=this.Ch([e,e],!0,this);this.a.Ba=!0;this.qe&&!this.Rh?(this.Dc=!0,this.pa.current=h.ni):(this.Dc=
!1,this.pa.current=h.nb);this.pv(this.Dc);this.v<h.rh?(this.Jf.l=!0,this.pa.x=this.Wk+45,this.pa.ef=this.pa.x,this.Oa.x=this.Qk+45,this.Oa.ef=this.Oa.x,this.cc.x=this.Ok+45):(this.pa.x=this.Wk,this.pa.ef=this.pa.x,this.Oa.x=this.Qk,this.Oa.ef=this.Oa.x,this.cc.x=this.Ok);this.cc.ef=this.cc.x;this.A>h.td?(c=this.A-h.td+h.kp,c>h.fw&&(c=h.fw),this.zb.width=c,this.Lb.width=c,c>h.Sy&&(this.Lb.xb="Opacity ")):(this.zb.width=h.kp,this.Lb.width=h.kp,this.Lb.xb="Opac ");if(d||this.wa)this.wa?this.bs():this.resize();
a||(PatternManager.Xg?this.h.notification.T("Pattern too big!",h.oq,!1):this.h.notification.T("Invalid pattern!",h.oq,!1));this.Qb.length?this.X=0:this.Ya=0;this.ya||(this.Xb=!0);this.Xb?(this.pa.l=!0,this.ce.l=!0,this.He.l=!0,this.Oa.l=!0,this.cc.l=!0,this.Ub&&(this.uc.l=!0,this.Mb.l=!0,this.Rc.l=!0,this.a.G=1),this.xc.l=!1,""===this.o?(this.xc.xb=Keywords.Nm,this.xc.Hd=h.jk):(this.xc.xb=this.o,this.xc.Hd=this.Wf)):this.xc.l=!0;this.rs();this.ee=!1;this.Zn="";this.nv(this);this.zl()?(this.Cb.xb=
"Density",this.Cb.F="cell density"):(this.Cb.xb="Births",this.Cb.F="cells born this generation");this.h.Wg=!0;this.h.Og(!0);this.ye&&this.Zo&&(""===this.Sa?this.Zo.nodeValue="LifeViewer":this.Zo.nodeValue=this.op(this.Sa));q.Ia?(d=this.rk,""===d&&(d="Universe "+(this.Kb+1)),this.h.notification.T(d,120,!0),this.ug.l=!1,this.tg.l=!1):(this.ug.l=!0,this.tg.l=!0)};registerEvent(window,"load",G,!1);window.DocConfig=q;window.Controller=A;window.ViewConstants=h;window.startAllViewers=G;window.updateViewer=
l;window.updateMe=function(b){var c=a(b).getElementsByTagName(q.uj)[0];b=A.mc[0];c.innerHTML=c.value;c=g(c);b[1].Ds(b[1]);b[1].h.notification.clear(!0,!0);b[1].h.notification.clear(!1,!0);b[1].wh(c,!1)};window.hideViewer=e;window.launchInMolly=function(b){var c=a(b);b=g(c.getElementsByTagName(q.uj)[0]);c=c.getElementsByTagName("form")[0];c.getElementsByTagName("input")[0].value=b;c.submit()}})();window.Help={Kr:0,uz:function(d,c,b,a,e,f,g,l,I,L){var G=l,q=!1,h=d.M;f&&(f.fillStyle===ViewConstants.Gl&&(q=!0),h>=L&&h<=L+d.ac&&(f.font=ViewConstants.Bl,q||(f.fillStyle=1<(d.X|0)?ViewConstants.jk:ViewConstants.Ln),f.fillText(c,g,l),q||(f.fillStyle=ViewConstants.jk),f.fillText(b,g+f.measureText(c).width,l),q||(f.fillStyle=(d.X|0)<d.qk-d.ac?ViewConstants.jk:ViewConstants.Ln),f.fillText(a,g+f.measureText(c+b).width,l),q||(f.fillStyle=ViewConstants.jk),f.font=ViewConstants.Mi,f.fillText(e,g+d.P[0],
l),G+=I));d.M+=1;return G},Mp:function(d){d/=1048576;return 10>d?String(d.toFixed(1)):String(d.toFixed(0))},Da:function(d,c,b,a,e,f,g,l,I){var L=d.M;e&&(l-=6,L>=I&&L<=I+d.ac&&(d=e.fillStyle,d!==ViewConstants.Gl&&(e.fillStyle="rgb("+c+","+b+","+a+")"),e.fillRect(f,g-(l>>1)-1,l,l),e.fillStyle=d))},measureText:function(d,c,b,a){var e=a?d.Aq:d.zq;e[d.M]?c=e[d.M]:(c.font=0===a?ViewConstants.Bl:ViewConstants.Mi,c=c.measureText(b).width,e[d.M]=c);return c},b:function(d,c,b,a,e,f,g,l){var I=f,L=String(b).indexOf("\t"),
G=d.M,q=0,h=!0;(G<l||G>l+d.ac)&&h&&(h=!1);if(c.length){h&&(a.font=ViewConstants.Bl,a.fillText(c,e,f));c=this.measureText(d,a,c,0);c>d.P[q]&&(h&&(f+=g,I+=g),d.M+=1);h&&(a.font=ViewConstants.Mi);for(;-1!==L;)h&&a.fillText(b.substr(0,L),e+d.P[q],f),q+=1,b=b.substr(L+1),L=b.indexOf("\t");L=!1;d.ke&&(c=this.measureText(d,a,b,1),e+d.P[q]+c+this.Kr>a.canvas.width&&(c=b.toLowerCase().indexOf("|"),-1===c&&(c=b.toLowerCase().indexOf("s"),-1===c&&(c=b.indexOf("/"),-1!==c&&(c+=1))),-1!==c&&(h&&(a.fillText(b.substr(0,
c),e+d.P[q],f),f+=g,I+=g,a.fillText("  "+b.substr(c),e+d.P[q],f)),d.M+=1,L=!0)));L||h&&a.fillText(b,e+d.P[q],f)}else a.font=ViewConstants.Mi,h&&a.fillText(b,e,f);h&&(I+=g);d.M+=1;return I},Pb:function(d,c,b){for(var a=ColourManager.Nc,e=Object.keys(a),f="    "+d+"\t"+c+"\t"+b,g=!1,l,I=0;I<e.length&&!g;)l=a[e[I]],l[1]===d&&l[2]===c&&l[3]===b?(f+="\t"+l[0],g=!0,I=e.length):I+=1;return f},Qd:function(d){return this.Pb(d.red,d.green,d.blue)},Lw:function(d){var c=0,b=0;d.a.Ba&&(c=d.a.C.O-d.a.C.N+1,b=d.a.C.L-
d.a.C.K+1);-1!==d.a.ka&&(0!==d.a.la&&(c=d.a.la),0!==d.a.na&&(b=d.a.na));return c+" x "+b},Tw:function(d){var c="AutoFit";d.Cf&&(c+=" History");d.Sg&&(c+=" State 1");return c},Nu:function(d,c){c-=d.length;for(var b="";0<c;)b+=" ",--c;return b+d},Rp:function(d){var c=d.indexOf(","),b=d.lastIndexOf(",");return[d.substring(4,c),d.substring(c+1,b),d.substring(b+1,d.length-1)]},dv:function(d,c,b,a,e,f){var g=a;switch(d.di){case ViewConstants.Eh:this.Az(d,c,b,a,e,f);break;case ViewConstants.fu:this.wz(d,
c,b,a,e,f);break;case ViewConstants.Hr:this.yz(d,c,b,a,e,f);break;case ViewConstants.Il:this.vz(d,c,b,a,e,f);break;case ViewConstants.Ev:this.zz(d,c,b,a,e,f);break;case ViewConstants.qt:this.qz(d,c,b,a,e,f);break;case ViewConstants.Ts:this.oz(d,c,b,a,e,f);break;case ViewConstants.zu:this.xz(d,c,b,a,e,f);break;case ViewConstants.Zs:this.pz(d,c,b,a,e,f)}d.qk=d.M-1;d.M=1;d.P[0]=120;a=g+e*(d.ac+2);a=d.di!==ViewConstants.Eh?this.uz(d,"Up"," / ","Down","scroll help",c,b,a,e,0):a+e;d.ye?this.b(d,"H","close help",
c,b,a,e,0):this.b(d,"H / Esc","close help",c,b,a,e,0)},Az:function(d,c,b,a,e,f){d.M=1;d.ke=!1;d.R=[];d.P[0]=108;d.R[0]=[d.M,"Top"];this.b(d,"",ViewConstants.Sv+" build "+ViewConstants.zs+" by "+ViewConstants.Rv,c,b,a,e,f)},pz:function(d,c,b,a,e,f){var g,l=0;d.M=1;d.ke=!1;d.R=[];d.R[l]=[d.M,"Top"];l+=1;d.P[0]=128;d.P[1]=208;d.P[2]=288;d.P[3]=368;a=this.b(d,"","Annotations",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Labels"];l+=1;a=this.b(d,"","Labels:",c,b,a,e,f);a=this.b(d,"Number",d.w.rd.length,
c,b,a,e,f);for(g=0;g<d.w.rd.length;g+=1){var I="Label "+String(g+1);a=this.b(d,I,d.w.sy(g),c,b,a,e,f);a=this.b(d," ",d.w.ty(g),c,b,a,e,f);a=this.b(d," ",d.w.uy(g),c,b,a,e,f);I=this.Rp(d.w.vy(g));this.Da(d,I[0],I[1],I[2],c,b+d.P[0],a,e,f);a=this.b(d,"Colour",this.Pb(I[0],I[1],I[2]),c,b,a,e,f)}a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Arrows"];l+=1;a=this.b(d,"","Arrows:",c,b,a,e,f);a=this.b(d,"Number",d.w.nd.length,c,b,a,e,f);for(g=0;g<d.w.nd.length;g+=1)I="Arrow "+String(g+1),a=this.b(d,I,d.w.Mw(g),
c,b,a,e,f),a=this.b(d," ",d.w.Nw(g),c,b,a,e,f),a=this.b(d," ",d.w.Ow(g),c,b,a,e,f),I=this.Rp(d.w.Um(g)),this.Da(d,I[0],I[1],I[2],c,b+d.P[0],a,e,f),a=this.b(d,"Colour",this.Pb(I[0],I[1],I[2]),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Polygons"];a=this.b(d,"","Polygons:",c,b,a,e,f);a=this.b(d,"Number",d.w.vd.length,c,b,a,e,f);for(g=0;g<d.w.vd.length;g+=1)I="Polygon "+String(g+1),a=this.b(d,I,d.w.az(g),c,b,a,e,f),a=this.b(d," ",d.w.bz(g),c,b,a,e,f),a=this.b(d," ",d.w.cz(g),c,b,a,e,f),I=this.Rp(d.w.dz(g)),
this.Da(d,I[0],I[1],I[2],c,b+d.P[0],a,e,f),a=this.b(d,"Colour",this.Pb(I[0],I[1],I[2]),c,b,a,e,f)},wz:function(d,c,b,a,e,f){var g,l=0;d.M=1;d.ke=!1;d.R=[];d.P[0]=124;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Keyboard commands",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Playback"];l+=1;a=this.b(d,"","Playback controls:",c,b,a,e,f);d.Ub?a=this.b(d,"R","reset",c,b,a,e,f):(a=this.b(d,"Enter","toggle play / pause",c,b,a,e,f),a=this.b(d,"Space","pause / next generation",c,b,a,e,f),a=this.b(d,"B",
"pause / previous generation",c,b,a,e,f),a=this.b(d,"Tab","pause / next step",c,b,a,e,f),a=this.b(d,"Shift Tab","pause / previous step",c,b,a,e,f),a=d.ye?this.b(d,"Esc","close LifeViewer",c,b,a,e,f):this.b(d,"Esc","pause if playing",c,b,a,e,f),a=this.b(d,"R","reset to generation 0",c,b,a,e,f),a=this.b(d,"Shift R","reset all LifeViewers to generation 0",c,b,a,e,f),a=this.b(d,"-","decrease generation speed",c,b,a,e,f),a=this.b(d,"+","increase generation speed",c,b,a,e,f),a=this.b(d,"Shift -","minimum generation speed",
c,b,a,e,f),a=this.b(d,"Shift +","maximum generation speed",c,b,a,e,f),a=this.b(d,"D","decrease step size",c,b,a,e,f),a=this.b(d,"E","increase step size",c,b,a,e,f),a=this.b(d,"Shift D","minimum step size",c,b,a,e,f),a=this.b(d,"Shift E","maximum step size",c,b,a,e,f),a=this.b(d,"0","reset step and speed",c,b,a,e,f),d.Sb?-1!==d.oa?(a=this.b(d,"W","toggle waypoint playback and loop",c,b,a,e,f),a=this.b(d,"Shift P","toggle just loop",c,b,a,e,f)):a=this.b(d,"W","toggle waypoint playback",c,b,a,e,f):-1!==
d.oa&&(a=this.b(d,"W","toggle loop",c,b,a,e,f)));a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Multi"];l+=1;a=this.b(d,"","Multi-Viewer controls:",c,b,a,e,f);DocConfig.Ia&&(a=this.b(d,"Page Up","previous universe",c,b,a,e,f),a=this.b(d,"Page Down","next universe",c,b,a,e,f),a=this.b(d,"Home","first universe",c,b,a,e,f),a=this.b(d,"End","last universe",c,b,a,e,f));a=this.b(d,"Z","stop playback in all other LifeViewers",c,b,a,e,f);a=this.b(d,"Shift Z","stop playback in all LifeViewers",c,b,a,e,f);a=this.b(d,
"","",c,b,a,e,f);d.R[l]=[d.M,"Camera"];l+=1;a=this.b(d,"","Camera controls:",c,b,a,e,f);if(d.v>=ViewConstants.rh||(d.wa&&d.js)>=ViewConstants.rh)a=this.b(d,"M","toggle navigation menu",c,b,a,e,f);a=this.b(d,"V","restore saved camera position",c,b,a,e,f);a=this.b(d,"Shift V","save current camera position",c,b,a,e,f);var I=d.w.wb.length;if(0<I)for(a=this.b(d,"J","jump to next point of interest",c,b,a,e,f),a=this.b(d,"Shift J","jump to previous point of interest",c,b,a,e,f),9<I&&(I=9),g=1;g<=I;g+=1)a=
this.b(d,"Alt "+String(g),"jump to POI #"+String(g),c,b,a,e,f);a=this.b(d,"F","fit pattern to display",c,b,a,e,f);a=this.b(d,"Shift F","toggle autofit",c,b,a,e,f);a=this.b(d,"Shift H","toggle autofit history mode",c,b,a,e,f);d.a.sc&&(a=this.b(d,"Shift S","toggle autofit state 1 mode",c,b,a,e,f));a=this.b(d,"[","zoom out",c,b,a,e,f);a=this.b(d,"]","zoom in",c,b,a,e,f);a=this.b(d,"Shift [","halve zoom",c,b,a,e,f);a=this.b(d,"Shift ]","double zoom",c,b,a,e,f);a=this.b(d,"1","1x zoom",c,b,a,e,f);a=this.b(d,
"2","2x zoom",c,b,a,e,f);a=this.b(d,"4","4x zoom",c,b,a,e,f);a=this.b(d,"8","8x zoom",c,b,a,e,f);a=this.b(d,"6","16x zoom",c,b,a,e,f);a=this.b(d,"3","32x zoom",c,b,a,e,f);a=this.b(d,"Shift 3","64x zoom",c,b,a,e,f);a=this.b(d,"Shift 1","integer zoom",c,b,a,e,f);a=this.b(d,"Shift 2","-2x zoom",c,b,a,e,f);a=this.b(d,"Shift 4","-4x zoom",c,b,a,e,f);a=this.b(d,"Shift 8","-8x zoom",c,b,a,e,f);a=this.b(d,"Shift 6","-16x zoom",c,b,a,e,f);a=this.b(d,"Left","pan left",c,b,a,e,f);a=this.b(d,"Right","pan right",
c,b,a,e,f);a=this.b(d,"Up","pan up",c,b,a,e,f);a=this.b(d,"Down","pan down",c,b,a,e,f);a=this.b(d,"Shift Left","pan north west",c,b,a,e,f);a=this.b(d,"Shift Right","pan south east",c,b,a,e,f);a=this.b(d,"Shift Up","pan north east",c,b,a,e,f);a=this.b(d,"Shift Down","pan south west",c,b,a,e,f);a=this.b(d,"<","rotate left",c,b,a,e,f);a=this.b(d,">","rotate right",c,b,a,e,f);a=this.b(d,"Shift <","rotate left 90 degrees",c,b,a,e,f);a=this.b(d,"Shift >","rotate right 90 degrees",c,b,a,e,f);a=this.b(d,
"5","reset angle",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.Ub||(d.R[l]=[d.M,"View"],l+=1,a=this.b(d,"","View controls:",c,b,a,e,f),a=this.b(d,"Q","increase number of layers",c,b,a,e,f),a=this.b(d,"A","decrease number of layers",c,b,a,e,f),a=this.b(d,"P","increase layer depth",c,b,a,e,f),a=this.b(d,"L","decrease layer depth",c,b,a,e,f),a=this.b(d,"C","next colour theme",c,b,a,e,f),a=this.b(d,"Shift C","previous colour theme",c,b,a,e,f),a=this.b(d,"Alt C","default theme",c,b,a,e,f),a=this.b(d,"","",
c,b,a,e,f));d.R[l]=[d.M,"Display"];l+=1;a=this.b(d,"","Display controls:",c,b,a,e,f);d.Ub||(a=this.b(d,"G","toggle generation statistics",c,b,a,e,f),a=this.b(d,"Shift G","toggle generation display mode",c,b,a,e,f),a=this.b(d,"Y","toggle population graph",c,b,a,e,f),a=this.b(d,"Shift Y","toggle graph lines",c,b,a,e,f),a=this.b(d,"7","decrease graph opacity",c,b,a,e,f),a=this.b(d,"9","increase graph opacity",c,b,a,e,f));a=this.b(d,"/","toggle hex view",c,b,a,e,f);a=this.b(d,"Shift /","pattern default view",
c,b,a,e,f);a=this.b(d,"T","toggle timing information",c,b,a,e,f);a=this.b(d,"Shift T","toggle extended timing information",c,b,a,e,f);a=this.b(d,"I","toggle pattern and engine information",c,b,a,e,f);a=this.b(d,"Shift I","toggle information bar",c,b,a,e,f);a=this.b(d,"X","toggle grid lines",c,b,a,e,f);0<d.a.$e&&(a=this.b(d,"Shift X","toggle major grid lines",c,b,a,e,f));a=this.b(d,"Alt X","toggle cell borders",c,b,a,e,f);0<d.w.Xl()&&(a=this.b(d,"Shift L","toggle annotation display",c,b,a,e,f));d.zh&&
(a=this.b(d,"N","toggle thumbnail view",c,b,a,e,f));a=this.b(d,"S","toggle stars",c,b,a,e,f);a=this.b(d,"O","open screenshot in separate window",c,b,a,e,f);a=this.b(d,"Shift O","open population graph in separate window",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Clipboard"];l+=1;a=this.b(d,"","Clipboard controls:",c,b,a,e,f);a=this.b(d,"Ctrl+Shift C","copy original pattern",c,b,a,e,f);a=this.b(d,"Ctrl C","copy current pattern",c,b,a,e,f);a=this.b(d,"Ctrl+Alt C","copy current pattern with comments",
c,b,a,e,f);a=this.b(d,"K","copy camera position",c,b,a,e,f);a=this.b(d,"Shift K","copy camera position and view",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Edit"];l+=1;a=this.b(d,"","Edit controls:",c,b,a,e,f);a=this.b(d,"F1","toggle draw/pan mode",c,b,a,e,f);a=this.b(d,"Shift F1","toggle smart drawing",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Help"];a=this.b(d,"","Help controls:",c,b,a,e,f);a=this.b(d,"Up","scroll up one line",c,b,a,e,f);a=this.b(d,"Down","scroll down one line",
c,b,a,e,f);a=this.b(d,"Page Up","scroll up one page",c,b,a,e,f);a=this.b(d,"Page Down","scroll down one page",c,b,a,e,f);a=this.b(d,"Shift Page Up","scroll up one section",c,b,a,e,f);a=this.b(d,"Shift Page Down","scroll down one section",c,b,a,e,f);a=this.b(d,"Home","go to first help page",c,b,a,e,f);this.b(d,"End","go to last help page",c,b,a,e,f)},yz:function(d,c,b,a,e,f){var g=0;d.M=1;d.ke=!1;d.R=[];d.P[0]=252;d.R[g]=[d.M,"Top"];g+=1;a=this.b(d,"","Scripts",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,
f);a=this.b(d,"","Scripts must be embedded in pattern comments",c,b,a,e,f);a=this.b(d,"","Commands must be surrounded by whitespace",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Params"];g+=1;a=this.b(d,"","Parameter conventions:",c,b,a,e,f);a=this.b(d,"A|B","either A or B",c,b,a,e,f);a=this.b(d,"(A)","A is optional",c,b,a,e,f);a=this.b(d,"<1..3>","integer range",c,b,a,e,f);a=this.b(d,"<1.0..3.0>","decimal range",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"General"];g+=1;a=this.b(d,
"","General:",c,b,a,e,f);a=this.b(d,Keywords.xj,"start script section",c,b,a,e,f);a=this.b(d,Keywords.Ak,"end script section",c,b,a,e,f);a=this.b(d,Keywords.Yr,"enable strict validation",c,b,a,e,f);a=this.b(d,Keywords.Zr,"suppress overwrite warning",c,b,a,e,f);a=this.b(d,Keywords.wr+" <string>","set random seed",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Playback"];g+=1;a=this.b(d,"","Playback:",c,b,a,e,f);a=this.b(d,Keywords.Xm+" ("+Keywords.Ka+")","start play automatically",c,b,a,e,f);
a=this.b(d,Keywords.ig+" <1..>|"+Keywords.Ka,"loop at generation",c,b,a,e,f);a=this.b(d,Keywords.xg+" <1..>|"+Keywords.Ka,"stop at generation",c,b,a,e,f);a=this.b(d,Keywords.ij+" <"+ViewConstants.Ae+".."+ViewConstants.mi+">","set steps per second",c,b,a,e,f);a=this.b(d,Keywords.Bj+" <"+ViewConstants.nj+".."+ViewConstants.fe+">","set generations per step",c,b,a,e,f);a=this.b(d,Keywords.xq,"always use hard reset",c,b,a,e,f);a=this.b(d,Keywords.Nm,"disable playback",c,b,a,e,f);a=this.b(d,Keywords.cr,
"disable step back",c,b,a,e,f);a=this.b(d,Keywords.fr,"disable stop messages",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Camera"];g+=1;a=this.b(d,"","Camera:",c,b,a,e,f);a=this.b(d,Keywords.Qh+" <0..359>","set camera angle",c,b,a,e,f);a=this.b(d,Keywords.cd+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set camera x position",c,b,a,e,f);a=this.b(d,Keywords.dd+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set camera y position",c,b,a,e,f);a=this.b(d,Keywords.oc+" <"+Number(-1/ViewConstants.Wa).toFixed(1)+
".."+ViewConstants.Hb.toFixed(1)+">","set camera zoom",c,b,a,e,f);a=this.b(d,Keywords.Ep,"same as "+Keywords.oc,c,b,a,e,f);a=this.b(d,Keywords.Wm+" ("+Keywords.Ka+")","fit pattern to display",c,b,a,e,f);a=this.b(d,Keywords.Gq+" ("+Keywords.Ka+")","autofit uses pattern history",c,b,a,e,f);a=this.b(d,Keywords.Wr+" ("+Keywords.Ka+")","autofit only uses state 1",c,b,a,e,f);a=this.b(d,Keywords.Jm+" X Y","camera tracking",c,b,a,e,f);a=this.b(d," X ","horizontal speed cells/gen",c,b,a,e,f);a=this.b(d," Y ",
"vertical speed cells/gen",c,b,a,e,f);a=this.b(d,Keywords.Ij+" E S W N","camera box tracking",c,b,a,e,f);a=this.b(d," E ","east edge speed cells/gen",c,b,a,e,f);a=this.b(d," S ","south edge speed cells/gen",c,b,a,e,f);a=this.b(d," W ","west edge speed cells/gen",c,b,a,e,f);a=this.b(d," N ","north edge speed cells/gen",c,b,a,e,f);a=this.b(d,Keywords.Im+" P X Y","camera tracking with loop",c,b,a,e,f);a=this.b(d," P ","period",c,b,a,e,f);a=this.b(d," X ","horizontal speed cells/gen",c,b,a,e,f);a=this.b(d,
" Y ","vertical speed cells/gen",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Waypoints"];g+=1;a=this.b(d,"","Waypoints:",c,b,a,e,f);a=this.b(d,Keywords.xm+" <0..>","waypoint at generation",c,b,a,e,f);a=this.b(d,Keywords.kr+" <0.0..>","pause for time",c,b,a,e,f);a=this.b(d,Keywords.af+" "+Keywords.Ue+"|"+Keywords.cd+"|"+Keywords.dd+"|"+Keywords.oc,"linear motion",c,b,a,e,f);a=this.b(d,Keywords.Sf+" "+Keywords.Ue+"|"+Keywords.cd+"|"+Keywords.dd+"|"+Keywords.oc,"bezier motion (default)",c,b,
a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"POIs"];g+=1;a=this.b(d,"","Points of interest:",c,b,a,e,f);a=this.b(d,Keywords.Ao,"define point of interest",c,b,a,e,f);a=this.b(d,Keywords.zo+" <0..>","start POI at generation",c,b,a,e,f);a=this.b(d,Keywords.fm,"reset generation at POI",c,b,a,e,f);a=this.b(d,Keywords.wk,"start playback at POI",c,b,a,e,f);a=this.b(d,Keywords.xk,"stop playback at POI",c,b,a,e,f);a=this.b(d,Keywords.gm+" <"+WaypointConstants.Su+".."+WaypointConstants.Ru+">","set POI transition speed",
c,b,a,e,f);a=this.b(d,"<command>|ALL "+Keywords.Va,"use initial value for POI",c,b,a,e,f);a=this.b(d,Keywords.Wb+"<string>"+Keywords.Wb,"define message",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Annotations"];g+=1;a=this.b(d,"","Annotations:",c,b,a,e,f);a=this.b(d,Keywords.Kl+" X Y ZOOM ("+Keywords.Yc+")","define label at position",c,b,a,e,f);a=this.b(d," "+Keywords.Wb+"<string>"+Keywords.Wb,"... optionally fix position",c,b,a,e,f);a=this.b(d,Keywords.Oq+" <"+ViewConstants.Cu+".."+ViewConstants.vu+
">","define label font size",c,b,a,e,f);a=this.b(d,Keywords.Mq+" <0.0..1.0>","define label font alpha",c,b,a,e,f);a=this.b(d,Keywords.Pq+" <0..> <0..> <0..>","generation range / fade",c,b,a,e,f);a=this.b(d,Keywords.Nq+" <0..359>","label angle",c,b,a,e,f);a=this.b(d," ("+Keywords.Yc+")","... optionally fix angle",c,b,a,e,f);a=this.b(d,Keywords.Qq+" X Y D|"+Keywords.Ka,"label target and distance",c,b,a,e,f);a=this.b(d,Keywords.Rq+" DX DY|"+Keywords.Yc,"label move per generation",c,b,a,e,f);a=this.b(d,
Keywords.dl+" X1 Y1 X2 Y2 ZOOM","define arrow at position",c,b,a,e,f);a=this.b(d," ("+Keywords.Yc+")","... optionally fix position",c,b,a,e,f);a=this.b(d,Keywords.Ip+" <"+ViewConstants.po+".."+ViewConstants.io+"> <0.0..1.0>","line width and head multiple",c,b,a,e,f);a=this.b(d,Keywords.Gp+" <0.0..1.0>","define arrow alpha",c,b,a,e,f);a=this.b(d,Keywords.Jp+" <0..> <0..> <0..>","generation range / fade",c,b,a,e,f);a=this.b(d,Keywords.Hp+" <0..359>","arrow angle",c,b,a,e,f);a=this.b(d," ("+Keywords.Yc+
")","... optionally fix angle",c,b,a,e,f);a=this.b(d,Keywords.Kp+" X Y D|"+Keywords.Ka,"arrow target and distance",c,b,a,e,f);a=this.b(d,Keywords.Lp+" DX DY|"+Keywords.Yc,"arrow move per generation",c,b,a,e,f);a=this.b(d,Keywords.pr+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",c,b,a,e,f);a=this.b(d," ("+Keywords.Yc+")","... optionally fix position",c,b,a,e,f);a=this.b(d,Keywords.Bo+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",c,b,a,e,f);a=this.b(d," ("+Keywords.Yc+")","... optionally fix position",
c,b,a,e,f);a=this.b(d,Keywords.qr+" <"+ViewConstants.po+".."+ViewConstants.io+">","line width",c,b,a,e,f);a=this.b(d,Keywords.mr+" <0.0..1.0>","define polygon alpha",c,b,a,e,f);a=this.b(d,Keywords.rr+" <0..> <0..> <0..>","generation range / fade",c,b,a,e,f);a=this.b(d,Keywords.nr+" <0..359>","polygon angle",c,b,a,e,f);a=this.b(d," ("+Keywords.Yc+")","... optionally fix angle",c,b,a,e,f);a=this.b(d,Keywords.sr+" X Y D|"+Keywords.Ka,"polygon target and distance",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,
f);d.R[g]=[d.M,"Display"];g+=1;a=this.b(d,"","Display:",c,b,a,e,f);a=this.b(d,Keywords.Nk+" <"+ViewConstants.td+".."+d.Hg+">","set LifeViewer width",c,b,a,e,f);a=this.b(d,Keywords.ik+" <"+ViewConstants.pk+".."+ViewConstants.lo+">","set LifeViewer height",c,b,a,e,f);a=this.b(d,Keywords.im+" <"+ViewConstants.td+".."+d.Hg+">","set popup width",c,b,a,e,f);a=this.b(d,Keywords.hm+" <"+ViewConstants.pk+".."+ViewConstants.lo+">","set popup height",c,b,a,e,f);a=this.b(d,Keywords.Jk+" "+Keywords.Wb+"<string>"+
Keywords.Wb,"set popup window title",c,b,a,e,f);a=this.b(d," "+Keywords.Pe+"B","program build number",c,b,a,e,f);a=this.b(d," "+Keywords.Pe+"N","pattern name",c,b,a,e,f);a=this.b(d," "+Keywords.Pe+"O","pattern originator",c,b,a,e,f);a=this.b(d," "+Keywords.Pe+"R","rule name",c,b,a,e,f);a=this.b(d," "+Keywords.Pe+"A","rule alias",c,b,a,e,f);a=this.b(d," "+Keywords.Pe+"T","program title",c,b,a,e,f);a=this.b(d," "+Keywords.Pe+Keywords.Pe,Keywords.Pe+" symbol",c,b,a,e,f);a=this.b(d,Keywords.mj+" <"+ViewConstants.oo+
".."+ViewConstants.ho+">","set number of layers",c,b,a,e,f);a=this.b(d,Keywords.cj+" <"+ViewConstants.no.toFixed(1)+".."+ViewConstants.tu.toFixed(1)+">","set layer depth",c,b,a,e,f);a=this.b(d,Keywords.Fl+" ("+Keywords.Ka+")","display grid lines",c,b,a,e,f);a=this.b(d,Keywords.El+" <0..16>","set major grid line interval",c,b,a,e,f);a=this.b(d,Keywords.Sn+" <0.."+(2<d.a.g?1:63)+">","number of history states",c,b,a,e,f);a=this.b(d,Keywords.wm+" ("+Keywords.Ka+")","display stars",c,b,a,e,f);a=this.b(d,
Keywords.Cq,"force hex display",c,b,a,e,f);a=this.b(d,Keywords.Rr,"force square display",c,b,a,e,f);a=this.b(d,Keywords.Bq,"hexagonal cells for hex",c,b,a,e,f);a=this.b(d,Keywords.Qr,"square cells for hex",c,b,a,e,f);a=this.b(d,Keywords.br,"disable menus and hotkeys",c,b,a,e,f);a=this.b(d,Keywords.$t,"hide menus during playback",c,b,a,e,f);a=this.b(d,Keywords.Nr,"show timing information",c,b,a,e,f);a=this.b(d,Keywords.pq,"extended timing information",c,b,a,e,f);a=this.b(d,Keywords.Lr,"show generation statistics",
c,b,a,e,f);a=this.b(d,Keywords.Mr,"show information bar",c,b,a,e,f);a=this.b(d,Keywords.er,"hide performance warning",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Thumb"];g+=1;a=this.b(d,"","Thumbnails:",c,b,a,e,f);a=this.b(d,Keywords.ms+" ("+Keywords.Ka+")","start at 1/"+d.Fc+" size",c,b,a,e,f);a=this.b(d,Keywords.ks+" <"+ViewConstants.Eu+".."+ViewConstants.yu+">","set thumbnail divisor",c,b,a,e,f);a=this.b(d,Keywords.hs+" ("+Keywords.Ka+")","thumbnail launches viewer",c,b,a,e,f);a=this.b(d,
Keywords.ls+" <"+Number(-1/ViewConstants.Wa).toFixed(1)+".."+ViewConstants.Hb.toFixed(1)+">","set thumbnail zoom",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Graph"];g+=1;a=this.b(d,"","Population Graph:",c,b,a,e,f);a=this.b(d,Keywords.Kn,"display population graph",c,b,a,e,f);a=this.b(d,Keywords.sq+" <0.0..1.0>","population graph opacity",c,b,a,e,f);a=this.b(d,Keywords.tq,"population graph use points",c,b,a,e,f);a=this.b(d,Keywords.to,"disable population graph",c,b,a,e,f);a=this.b(d,"","",
c,b,a,e,f);d.R[g]=[d.M,"Colours"];g+=1;a=this.b(d,"","Colours:",c,b,a,e,f);a=this.b(d,Keywords.yh+" <0.."+(d.a.ge-1)+">|<name>","set theme",c,b,a,e,f);a=this.b(d," <name> = "+Keywords.Ik,"set custom theme",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Wo+" R G B","set theme background",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Vo+" R G B","set theme alive color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.fs+" R G B","set theme alive ramp",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Yo+
" R G B","set theme dead color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Xo+" R G B","set theme dead ramp",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.ft+" R G B","set boundary color",c,b,a,e,f);a=this.b(d,Keywords.ra+" <0.."+String(d.uh-1)+"> R G B","set state color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Iu+" R G B","set [R]History state color "+ViewConstants.Ju,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Ku+" R G B","set [R]History state color "+ViewConstants.Lu,c,b,a,e,f);
a=this.b(d,Keywords.ra+" "+Keywords.au+" R G B","set [R]History state color "+ViewConstants.bu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.mu+" R G B","set [R]History state color "+ViewConstants.nu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.qu+" R G B","set [R]History state color "+ViewConstants.ru,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.ou+" R G B","set [R]History state color "+ViewConstants.pu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.gu+" R G B","set [R]History state color "+
ViewConstants.hu,c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Fl+" R G B","set grid color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.El+" R G B","set grid major color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.wm+" R G B","set star color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.ds+" R G B","set waypoint message color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.nq+" R G B","set error message color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Rt+" R G B","set graph background color",
c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Qt+" R G B","set graph axis color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Pt+" R G B","set graph alive color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.St+" R G B","set graph birth color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Tt+" R G B","set graph death color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Kl+" R G B","set label text color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.dl+" R G B","set arrow line color",c,b,a,
e,f);a=this.b(d,Keywords.ra+" "+Keywords.Wu+" R G B","set polygon color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Lv+" R G B","set UI foreground color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Jv+" R G B","set UI background color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Mv+" R G B","set UI highlight text color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Ov+" R G B","set UI selected color",c,b,a,e,f);a=this.b(d,Keywords.ra+" "+Keywords.Nv+" R G B","set UI locked color",c,b,a,
e,f);a=this.b(d,Keywords.ra+" "+Keywords.Kv+" R G B","set UI border color",c,b,a,e,f);a=this.b(d,Keywords.Sp,"same as "+Keywords.ra,c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[g]=[d.M,"Pattern"];a=this.b(d,"","Pattern:",c,b,a,e,f);a=this.b(d,Keywords.hp+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set pattern x offset",c,b,a,e,f);a=this.b(d,Keywords.ip+" <-"+(d.a.U>>1)+".."+(d.a.U>>1)+">","set pattern y offset",c,b,a,e,f);a=this.b(d,Keywords.fq+" <"+ViewConstants.Au+".."+ViewConstants.su+">","set boundary delete range",
c,b,a,e,f);a=this.b(d,Keywords.ar,"disable pattern source copy",c,b,a,e,f);a=this.b(d,Keywords.gr,"hide pattern source",c,b,a,e,f);this.b(d,Keywords.Xq+" <"+ViewConstants.Bu+".."+ViewConstants.uu+">","set maximum grid size 2^n",c,b,a,e,f)},vz:function(d,c,b,a,e,f){var g,l=Controller.mc.length,I=d.Nc,L=d.a.La[d.a.ue];var G="";var q=0;d.M=1;d.ke=!1;d.R=[];d.P[0]=128;d.R[q]=[d.M,"Top"];q+=1;a=this.b(d,"","Information",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Display"];q+=1;a=this.b(d,"","Display:",
c,b,a,e,f);a=this.b(d,"Size",d.A+" x "+d.v,c,b,a,e,f);DocConfig.Pl&&(a=this.b(d,"Limit Width",d.Hg,c,b,a,e,f));var h=d.a.ma;1>h&&(h=-1/h);a=this.b(d,"View","X "+-(d.a.width/2-(d.a.da+d.a.Bb)|0)+"  Y "+-(d.a.height/2-(d.a.$+d.a.vb)|0)+"  Z "+h.toFixed(2)+"  ANGLE "+d.a.angle.toFixed(0),c,b,a,e,f);h=d.zk;1>h&&(h=1/h);a=this.b(d,"Saved View","X "+-(d.a.width/2-d.he|0)+"  Y "+-(d.a.height/2-d.wj|0)+"  Z "+h.toFixed(2)+"  ANGLE "+d.Er.toFixed(0),c,b,a,e,f);a=this.b(d,"Origin","X "+d.a.Bb.toFixed(2)+"  Y "+
d.a.vb.toFixed(2)+"  Z "+d.a.Ob.toFixed(3),c,b,a,e,f);d.Xb?G=d.Ub?"Multi-State Viewer":"Viewer":d.a.sc&&(G="History Player");a=this.b(d,"Type",G,c,b,a,e,f);G=d.a.S?"Hexagonal":d.a.ca?"Triangular":"Square";a=this.b(d,"Mode",G,c,b,a,e,f);G=d.a.S&&d.a.Oe?"Hexagonal":d.a.ca?"Triangular":"Square";a=this.b(d,"Cells",G,c,b,a,e,f);d.zh&&(a=this.b(d,"Thumbnail","1/"+d.Fc,c,b,a,e,f));a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Pattern"];q+=1;a=this.b(d,"","Pattern:",c,b,a,e,f);""!==d.rk&&(a=this.b(d,"Name",d.rk,
c,b,a,e,f));""!==d.cm&&(a=this.b(d,"Originator",d.cm,c,b,a,e,f));a=this.b(d,"Actual Size",d.pg+" x "+d.Kg,c,b,a,e,f);-1!==d.Rg&&-1!==d.Qg&&(a=this.b(d,"Specified",d.Rg+" x "+d.Qg,c,b,a,e,f));a=this.b(d,"Offset","X "+d.zd+"  Y "+d.Ad,c,b,a,e,f);d.$h&&(a=this.b(d,"CXRLE Gen",d.In,c,b,a,e,f));d.sg&&(a=this.b(d,"CXRLE Pos","X "+d.vi+"  Y "+d.wi,c,b,a,e,f));d.Is&&(a=this.b(d,"Clipped",(0===d.a.la?"Inf":d.a.la)+" x "+(0===d.a.na?"Inf":d.a.na)+" "+PatternManager.gt(d.a.ka),c,b,a,e,f));d.ya?G=d.Lg:(G=d.Lg,
""===G&&(G="(none)"));if("MAP"===G.substr(0,3)&&G.length===PatternManager.nk+3)for(a=this.b(d,"Rule","MAP",c,b,a,e,f),h=3;h<PatternManager.nk+3;)a=this.b(d,"  "+(h-3),G.substr(h,16),c,b,a,e,f),h+=16;else d.ke=!0,a=this.b(d,"Rule",G,c,b,a,e,f),d.ke=!1;""!==d.Mf&&(a=this.b(d,"Alias",d.Mf,c,b,a,e,f));-1!==d.a.Qe?G="1D":d.a.bm?G="Hex":d.a.sa?(G=d.a.Tb.type===PatternManager.bf?"Moore":d.a.Tb.type===PatternManager.jf?"von Neumann":"Circular",1<d.a.Tb.vc&&(G+=" range "+d.a.Tb.vc)):d.a.ca?(G="Triangular",
d.a.wc===PatternManager.Kk?G+=" Edges":d.a.wc===PatternManager.Lk&&(G+=" Vertices")):G=d.a.Md?"von Neumann":"Moore";a=this.b(d,"N'hood",G,c,b,a,e,f);G=d.uh;2<d.uh&&d.em!==d.uh&&(G=d.em+" of "+G);a=this.b(d,"States",G,c,b,a,e,f);if(d.dm)for(g=1;g<d.uh;g+=1)d.dm[g]&&(a=this.b(d,"State "+g,d.dm[g],c,b,a,e,f));a=this.b(d,"Decoder",d.og,c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Grid"];q+=1;a=this.b(d,"","Grid:",c,b,a,e,f);a=this.b(d,"Size",d.a.width+" x "+d.a.height,c,b,a,e,f);a=this.b(d,"Maximum",
d.a.U+" x "+d.a.U,c,b,a,e,f);a=this.b(d,"Area",this.Lw(d),c,b,a,e,f);a=0!==(d.a.s&1)?this.b(d,"Tiles",d.a.Cm(d.a.Ja)+" / "+d.a.Cm(d.a.Xa),c,b,a,e,f):this.b(d,"Tiles",d.a.Cm(d.a.qa)+" / "+d.a.Cm(d.a.Xa),c,b,a,e,f);d.a.je&&(a=this.b(d,"State6",d.a.Cm(d.a.je),c,b,a,e,f));a=this.b(d,"Tile Size",(d.a.Dm<<3)+" x "+d.a.Em,c,b,a,e,f);a=this.b(d,"Generation",d.a.s,c,b,a,e,f);a=this.b(d,"DeleteRange",d.a.km,c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);-1!==d.a.ka&&(d.R[q]=[d.M,"Bounded"],q+=1,a=this.b(d,"","Bounded grid:",
c,b,a,e,f),a=this.b(d,"Type",PatternManager.gt(d.a.ka),c,b,a,e,f),a=0===d.a.la?this.b(d,"Width","Infinite",c,b,a,e,f):this.b(d,"Width",d.a.la,c,b,a,e,f),4!==d.a.ka&&(a=0===d.a.na?this.b(d,"Height","Infinite",c,b,a,e,f):this.b(d,"Height",d.a.na,c,b,a,e,f),2===d.a.ka&&(a=d.a.Op?this.b(d,"Twist","Horizontal",c,b,a,e,f):this.b(d,"Twist","Vertical",c,b,a,e,f)),0!==d.a.hl&&(a=this.b(d,"H'Shift",d.a.hl,c,b,a,e,f)),0!==d.a.il&&(a=this.b(d,"V'Shift",d.a.il,c,b,a,e,f))),a=this.b(d,"","",c,b,a,e,f));d.R[q]=
[d.M,"AutoFit"];q+=1;a=this.b(d,"","AutoFit:",c,b,a,e,f);a=this.b(d,"Enabled",d.qb?"On":"Off",c,b,a,e,f);a=this.b(d,"Mode",this.Tw(d),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Track"];q+=1;a=this.b(d,"","Track:",c,b,a,e,f);a=this.b(d,"Enabled",d.fc&&!d.gc?"On":"Off",c,b,a,e,f);d.fc&&(d.Hj?(a=this.b(d,"Mode","Track Box",c,b,a,e,f),a=this.b(d,"Definition","E "+d.Yg.toFixed(3)+"  S "+d.Zg.toFixed(3)+"  W "+d.Bh.toFixed(3)+"  N "+d.Ah.toFixed(3),c,b,a,e,f)):(a=this.b(d,"Mode","Track",c,b,a,
e,f),a=this.b(d,"Definition","X "+d.Yg.toFixed(3)+"  Y "+d.Zg.toFixed(3),c,b,a,e,f)));a=this.b(d,"Current","E "+d.en.toFixed(3)+"  S "+d.gn.toFixed(3)+"  W "+d.hn.toFixed(3)+"  N "+d.fn.toFixed(3),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Snapshots"];q+=1;a=this.b(d,"","Step back:",c,b,a,e,f);a=this.b(d,"Enabled",d.Lf?"Off":"On",c,b,a,e,f);if(!d.Lf){a=this.b(d,"Snapshots",d.a.Sd.JA()+"/"+d.a.Sd.rf.length,c,b,a,e,f);g=0;h=d.a.Sd.Ie.length;if(0<h)for(a=this.b(d,"Reset Gens",h,c,b,a,e,f);g<
h;)a=this.b(d,String(g),d.a.Sd.Ie[g].s,c,b,a,e,f),g+=1;a=this.b(d,"Buffer",(d.a.Sd.bufferSize()>>10)+"K",c,b,a,e,f);a=this.b(d,"Next Gen",d.a.qj,c,b,a,e,f)}a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Engine"];q+=1;a=this.b(d,"","Engine:",c,b,a,e,f);a=this.b(d,"Name",ViewConstants.Sv,c,b,a,e,f);a=this.b(d,"Build",ViewConstants.zs,c,b,a,e,f);a=this.b(d,"Author",ViewConstants.Rv,c,b,a,e,f);a=this.b(d,"Decoders","RLE, Life 1.06, Life 1.05, Cells",c,b,a,e,f);a=this.b(d,"N'hoods","Moore, Hex, von Neumann, Circular, 1D",
c,b,a,e,f);a=this.b(d,"Rules","Wolfram, Totalistic, Generations,",c,b,a,e,f);a=this.b(d," ","Isotropic Non-Totalistic (Hensel, Callahan),",c,b,a,e,f);a=this.b(d," ","Alternating, MAP, Larger than Life (LtL),",c,b,a,e,f);a=this.b(d," ","Higher-range outer-totalistic (HROT)",c,b,a,e,f);a=this.b(d,"BoundedGrid","Plane, Torus, Klein, Cross-surface, Sphere",c,b,a,e,f);a=this.b(d,"States","2 state, [R]History, Niemiec, Generations",c,b,a,e,f);a=this.b(d,"Viewers",l,c,b,a,e,f);a=this.b(d,"Playing",Controller.OA(),
c,b,a,e,f);if(DocConfig.Ia){h=Controller.Ec.length;a=this.b(d,"Universe","Multi ("+(d.Kb+1)+" of "+h+")",c,b,a,e,f);d.ke=!0;for(g=0;g<h;g+=1)a=this.b(d,String(g+1)+(g===d.Kb?"*":""),Controller.Ec[g].name,c,b,a,e,f),a=this.b(d," ",Controller.Ec[g].Mz,c,b,a,e,f),a=this.b(d," ",Controller.Ec[g].width+" x "+Controller.Ec[g].height,c,b,a,e,f);d.ke=!1}else a=this.b(d,"Universe","Single",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.P[1]=210;d.P[2]=270;d.P[3]=330;if(d.Ub)for(d.R[q]=[d.M,"Colours"],q+=1,a=this.b(d,
"","Set:",c,b,a,e,f),a=this.b(d,"Name",d.Yj,c,b,a,e,f),a=this.b(d,"Used",d.em,c,b,a,e,f),g=0;g<d.$i.length;g+=1)d.$i[g]!==ViewConstants.Xr&&(l=this.Pb(I[g]>>16&255,I[g]>>8&255,I[g]&255),G=String(g),d.$i[g]!==ViewConstants.xv||d.Rm||(G+="*"),this.Da(d,I[g]>>16,I[g]>>8&255,I[g]&255,c,b+d.P[0],a,e,f),a=this.b(d,G,l,c,b,a,e,f));else{d.R[q]=[d.M,"Theme"];q+=1;a=this.b(d,"","Theme:",c,b,a,e,f);a=this.b(d,"Name",d.a.La[d.a.ue].name,c,b,a,e,f);a=this.b(d,"History",d.ba,c,b,a,e,f);this.Da(d,d.a.Qa[0],d.a.Pa[0],
d.a.Ma[0],c,b+d.P[0],a,e,f);a=this.b(d,"Background",this.Pb(d.a.Qa[0],d.a.Pa[0],d.a.Ma[0]),c,b,a,e,f);if(d.a.Zb)for(g=1;g<d.a.g;g+=1)this.Da(d,d.a.Qa[g],d.a.Pa[g],d.a.Ma[g],c,b+d.P[0],a,e,f),a=this.b(d,"State "+g,this.Pb(d.a.Qa[g],d.a.Pa[g],d.a.Ma[g]),c,b,a,e,f);else if(2<d.a.g){G=d.a.g+d.ba-1;this.Da(d,d.a.Qa[G],d.a.Pa[G],d.a.Ma[G],c,b+d.P[0],a,e,f);a=this.b(d,"Alive",this.Pb(d.a.Qa[G],d.a.Pa[G],d.a.Ma[G]),c,b,a,e,f);for(g=1;g<d.a.g-1;g+=1)G=d.a.g-g+d.ba-1,this.Da(d,d.a.Qa[G],d.a.Pa[G],d.a.Ma[G],
c,b+d.P[0],a,e,f),a=this.b(d,"Dying "+g,this.Pb(d.a.Qa[G],d.a.Pa[G],d.a.Ma[G]),c,b,a,e,f);0<d.ba&&(G=d.ba,this.Da(d,d.a.Qa[G],d.a.Pa[G],d.a.Ma[G],c,b+d.P[0],a,e,f),a=this.b(d,"Dead",this.Pb(d.a.Qa[G],d.a.Pa[G],d.a.Ma[G]),c,b,a,e,f),1<d.ba&&(G=1,this.Da(d,d.a.Qa[G],d.a.Pa[G],d.a.Ma[G],c,b+d.P[0],a,e,f),a=this.b(d,"DeadRamp",this.Pb(d.a.Qa[G],d.a.Pa[G],d.a.Ma[G]),c,b,a,e,f)))}else this.Da(d,L.za.B.red,L.za.B.green,L.za.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"Alive",this.Qd(L.za.B),c,b,a,e,f),L.za.B.red!==
L.za.D.red||L.za.B.green!==L.za.D.green||L.za.B.blue!==L.za.D.blue?(this.Da(d,L.za.D.red,L.za.D.green,L.za.D.blue,c,b+d.P[0],a,e,f),a=this.b(d,"AliveRamp",this.Qd(L.za.D),c,b,a,e,f)):a=this.b(d,"AliveRamp","    (none)",c,b,a,e,f),0<d.ba&&(this.Da(d,L.xa.D.red,L.xa.D.green,L.xa.D.blue,c,b+d.P[0],a,e,f),a=this.b(d,"Dead",this.Qd(L.xa.D),c,b,a,e,f),1<d.ba&&(L.xa.B.red!==L.xa.D.red||L.xa.B.green!==L.xa.D.green||L.xa.B.blue!==L.xa.D.blue?(this.Da(d,L.xa.B.red,L.xa.B.green,L.xa.B.blue,c,b+d.P[0],a,e,f),
a=this.b(d,"DeadRamp",this.Qd(L.xa.B),c,b,a,e,f)):a=this.b(d,"DeadRamp","    (none)",c,b,a,e,f)));if(d.a.sc)for(g=3;6>=g;g+=1)h=128+ViewConstants.hb[g],l=this.Pb(d.a.Qa[h],d.a.Pa[h],d.a.Ma[h]),G=ViewConstants.wv[g],this.Da(d,d.a.Qa[h],d.a.Pa[h],d.a.Ma[h],c,b+d.P[0],a,e,f),a=this.b(d,G,l,c,b,a,e,f)}this.Da(d,d.Th[0],d.Th[1],d.Th[2],c,b+d.P[0],a,e,f);a=this.b(d,"Boundary",this.Pb(d.Th[0],d.Th[1],d.Th[2]),c,b,a,e,f);d.We&&(this.Da(d,d.We[0],d.We[1],d.We[2],c,b+d.P[0],a,e,f),a=this.b(d,"Text",this.Pb(d.We[0],
d.We[1],d.We[2]),c,b,a,e,f));d.ih&&(this.Da(d,d.ih[0],d.ih[1],d.ih[2],c,b+d.P[0],a,e,f),a=this.b(d,"Error",this.Pb(d.ih[0],d.ih[1],d.ih[2]),c,b,a,e,f));a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Grid Lines"];q+=1;a=this.b(d,"","Grid Lines:",c,b,a,e,f);G=d.a.kb?"On":"Off";d.a.kb&&!d.a.hh()&&(G+=" (Hidden)");a=this.b(d,"Enabled",G,c,b,a,e,f);this.Da(d,d.a.rc>>16,d.a.rc>>8&255,d.a.rc&255,c,b+d.P[0],a,e,f);a=this.b(d,"Line Color",this.Pb(d.a.rc>>16,d.a.rc>>8&255,d.a.rc&255),c,b,a,e,f);this.Da(d,d.a.de>>
16,d.a.de>>8&255,d.a.de&255,c,b+d.P[0],a,e,f);a=this.b(d,"Major Color",this.Pb(d.a.de>>16,d.a.de>>8&255,d.a.de&255),c,b,a,e,f);G=0<d.a.$e&&d.a.mh?String(d.a.$e):"Off";a=this.b(d,"Interval",G,c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Graph"];q+=1;a=this.b(d,"","Population Graph:",c,b,a,e,f);a=this.b(d,"Enabled",d.gb?"On":"Off",c,b,a,e,f);a=this.b(d,"Disabled",d.Pc?"On":"Off",c,b,a,e,f);a=this.b(d,"Mode",d.Ge?"Lines":"Points",c,b,a,e,f);a=this.b(d,"Opacity",d.Vb.toFixed(2),c,b,a,e,f);this.Da(d,
d.a.$f[0],d.a.$f[1],d.a.$f[2],c,b+d.P[0],a,e,f);a=this.b(d,"Bg Color",this.Pb(d.a.$f[0],d.a.$f[1],d.a.$f[2]),c,b,a,e,f);this.Da(d,d.a.Zf[0],d.a.Zf[1],d.a.Zf[2],c,b+d.P[0],a,e,f);a=this.b(d,"Axis Color",this.Pb(d.a.Zf[0],d.a.Zf[1],d.a.Zf[2]),c,b,a,e,f);this.Da(d,d.a.Yf[0],d.a.Yf[1],d.a.Yf[2],c,b+d.P[0],a,e,f);a=this.b(d,"Alive Color",this.Pb(d.a.Yf[0],d.a.Yf[1],d.a.Yf[2]),c,b,a,e,f);this.Da(d,d.a.ag[0],d.a.ag[1],d.a.ag[2],c,b+d.P[0],a,e,f);a=this.b(d,"Birth Color",this.Pb(d.a.ag[0],d.a.ag[1],d.a.ag[2]),
c,b,a,e,f);this.Da(d,d.a.bg[0],d.a.bg[1],d.a.bg[2],c,b+d.P[0],a,e,f);a=this.b(d,"Death Color",this.Pb(d.a.bg[0],d.a.bg[1],d.a.bg[2]),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Stars"];q+=1;a=this.b(d,"","Stars:",c,b,a,e,f);a=this.b(d,"Enabled",d.wg?"On":"Off",c,b,a,e,f);this.Da(d,d.vh.red,d.vh.green,d.vh.blue,c,b+d.P[0],a,e,f);a=this.b(d,"Color",this.Qd(d.vh),c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[q]=[d.M,"Script"];q+=1;a=this.b(d,"","Script:",c,b,a,e,f);a=this.b(d,"Commands",d.Zl,c,
b,a,e,f);a=this.b(d,"Errors",d.ir,c,b,a,e,f);if(d.Sb)for(a=this.b(d,"","",c,b,a,e,f),d.R[q]=[d.M,"Waypoints"],q+=1,a=this.b(d,"","Waypoints:",c,b,a,e,f),a=this.b(d,"Enabled",d.nc?"Off":"On",c,b,a,e,f),a=this.b(d,"Number",d.w.ja.length,c,b,a,e,f),g=0;g<d.w.ja.length;g+=1)G=String(g),g===d.w.xh&&(G=d.w.Np(d.elapsedTime)?G+">":G+"*"),a=this.b(d,G,d.w.PA(g),c,b,a,e,f);if(d.w.wb.length)for(a=this.b(d,"","",c,b,a,e,f),d.R[q]=[d.M,"POIs"],a=this.b(d,"","Points of interest:",c,b,a,e,f),a=this.b(d,"Number",
d.w.wb.length,c,b,a,e,f),g=0;g<d.w.wb.length;g+=1)G=String(g+1),g===d.we&&(G+="*"),g===d.aj&&(G+=" INITIAL"),q=!1,h=d.w.Wy(g),""!==h&&(a=this.b(d,q?" ":G,(q?"  ":"")+h,c,b,a,e,f),q=!0),h=d.w.$y(g),""!==h&&(a=this.b(d,q?" ":G,(q?"  ":"")+h,c,b,a,e,f),q=!0),h=d.w.Xy(g),""!==h&&(a=this.b(d,q?" ":G,(q?"  ":"")+h,c,b,a,e,f),q=!0),h=d.w.Qu(g),""!==h&&(a=this.b(d,q?" ":G,(q?"  ":"")+h,c,b,a,e,f),q=!0),h=d.w.Zy(g),""!==h&&(a=this.b(d,q?" ":G,(q?"  ":"")+h,c,b,a,e,f),q=!0),h=d.w.Yy(g),""!==h&&(a=this.b(d,
q?" ":G,(q?"  ":"")+h,c,b,a,e,f))},zz:function(d,c,b,a,e,f){var g,l=0;d.M=1;d.ke=!1;d.R=[];d.P[0]=130;d.P[1]=200;d.P[2]=250;d.P[3]=300;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Themes",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","Themes are used to provide a visual representation of",c,b,a,e,f);a=this.b(d,"","cell history and longevity",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"2-State"];l+=1;a=this.b(d,"","Two-state Themes:",c,b,a,e,f);a=this.b(d,"BACKGROUND","cell never occupied",
c,b,a,e,f);a=this.b(d,"ALIVE","cell just born",c,b,a,e,f);a=this.b(d,"ALIVERAMP","cell alive for several generations",c,b,a,e,f);a=this.b(d,"DEAD","cell just died",c,b,a,e,f);a=this.b(d,"DEADRAMP","cell dead for several generations",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"",LifeConstants.pc-LifeConstants.cb+1+" states from ALIVE to ALIVERAMP",c,b,a,e,f);a=this.b(d,"",d.ba+" (HISTORYSTATES) states from DEAD to DEADRAMP",c,b,a,e,f);for(g=0;g<d.a.La.length-1;g+=1){a=this.b(d,"","",c,b,a,e,
f);var I=d.a.La[g];a=this.b(d,"Name"+(g===d.a.ue&&2>=d.a.g?"*":""),I.name,c,b,a,e,f);this.Da(d,I.Ra.red,I.Ra.green,I.Ra.blue,c,b+d.P[0],a,e,f);a=this.b(d,"BACKGROUND",this.Qd(I.Ra),c,b,a,e,f);this.Da(d,I.za.B.red,I.za.B.green,I.za.B.blue,c,b+d.P[0],a,e,f);a=this.b(d,"ALIVE",this.Qd(I.za.B),c,b,a,e,f);if(I.za.B.red!==I.za.D.red||I.za.B.green!==I.za.D.green||I.za.B.blue!==I.za.D.blue)this.Da(d,I.za.D.red,I.za.D.green,I.za.D.blue,c,b+d.P[0],a,e,f),a=this.b(d,"ALIVERAMP",this.Qd(I.za.D),c,b,a,e,f);this.Da(d,
I.xa.D.red,I.xa.D.green,I.xa.D.blue,c,b+d.P[0],a,e,f);a=this.b(d,"DEAD",this.Qd(I.xa.D),c,b,a,e,f);if(I.xa.B.red!==I.xa.D.red||I.xa.B.green!==I.xa.D.green||I.xa.B.blue!==I.xa.D.blue)this.Da(d,I.xa.B.red,I.xa.B.green,I.xa.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"DEADRAMP",this.Qd(I.xa.B),c,b,a,e,f);I.jj&&(this.Da(d,I.Af>>16,I.Af>>8&255,I.Af&255,c,b+d.P[0],a,e,f),a=this.b(d,"GRID",this.Pb(I.Af>>16,I.Af>>8&255,I.Af&255),c,b,a,e,f),this.Da(d,I.Bf>>16,I.Bf>>8&255,I.Bf&255,c,b+d.P[0],a,e,f),a=this.b(d,"GRIDMAJOR",
this.Pb(I.Bf>>16,I.Bf>>8&255,I.Bf&255),c,b,a,e,f),a=this.b(d,"GRIDMAJOR",I.vq,c,b,a,e,f))}a=this.b(d,"","",c,b,a,e,f);d.R[l]=[d.M,"Multi"];a=this.b(d,"","Multi-state Themes:",c,b,a,e,f);a=this.b(d,"BACKGROUND","cell never occupied",c,b,a,e,f);a=this.b(d,"ALIVE","cell alive",c,b,a,e,f);a=this.b(d,"DYING","cell just starting dying",c,b,a,e,f);a=this.b(d,"DYINGRAMP","cell about to die",c,b,a,e,f);a=this.b(d,"DEAD","cell just died",c,b,a,e,f);a=this.b(d,"DEADRAMP","cell dead for several generations",
c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","Rule defines "+(2>d.a.g?"":String(d.a.g-1)+" ")+"states from DYING to DYINGRAMP",c,b,a,e,f);a=this.b(d,"",d.ba+" (HISTORYSTATES) states from DEAD to DEADRAMP",c,b,a,e,f);for(g=0;g<d.a.La.length-1;g+=1){a=this.b(d,"","",c,b,a,e,f);I=d.a.La[g];a=this.b(d,"Name"+(g===d.a.ue&&2<d.a.g?"*":""),I.name,c,b,a,e,f);this.Da(d,I.ah.red,I.ah.green,I.ah.blue,c,b+d.P[0],a,e,f);a=this.b(d,"BACKGROUND",this.Qd(I.ah),c,b,a,e,f);this.Da(d,I.Te.red,I.Te.green,I.Te.blue,
c,b+d.P[0],a,e,f);a=this.b(d,"ALIVE",this.Qd(I.Te),c,b,a,e,f);this.Da(d,I.Ua.D.red,I.Ua.D.green,I.Ua.D.blue,c,b+d.P[0],a,e,f);a=this.b(d,"DYING",this.Qd(I.Ua.D),c,b,a,e,f);if(I.Ua.B.red!==I.Ua.D.red||I.Ua.B.green!==I.Ua.D.green||I.Ua.B.blue!==I.Ua.D.blue)this.Da(d,I.Ua.B.red,I.Ua.B.green,I.Ua.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"DYINGRAMP",this.Qd(I.Ua.B),c,b,a,e,f);this.Da(d,I.Fb.D.red,I.Fb.D.green,I.Fb.D.blue,c,b+d.P[0],a,e,f);a=this.b(d,"DEAD",this.Qd(I.Fb.D),c,b,a,e,f);if(I.Fb.B.red!==I.Fb.D.red||
I.Fb.B.green!==I.Fb.D.green||I.Fb.B.blue!==I.Fb.D.blue)this.Da(d,I.Fb.B.red,I.Fb.B.green,I.Fb.B.blue,c,b+d.P[0],a,e,f),a=this.b(d,"DEADRAMP",this.Qd(I.Fb.B),c,b,a,e,f)}},qz:function(d,c,b,a,e,f){var g,l=ColourManager.Nc,I=Object.keys(l);d.M=1;d.ke=!1;d.R=[];d.P[0]=260;d.P[1]=330;d.P[2]=380;d.P[3]=d.A;d.R[0]=[d.M,"Top"];a=this.b(d,"","Colours",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","The following names can be used in place of R G B",c,b,a,e,f);a=this.b(d,"","for example [[ COLOUR ALIVE Green ]]",
c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);for(g=0;g<I.length;g+=1){var L=l[I[g]];this.Da(d,L[1],L[2],L[3],c,b+d.P[0],a,e,f);a=this.b(d,L[0],this.Pb(L[1],L[2],L[3]),c,b,a,e,f)}},oz:function(d,c,b,a,e,f){var g,l=0,I=AliasManager.c,L=AliasManager.ff;d.M=1;d.ke=!1;d.R=[];d.P[0]=260;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Aliases",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);a=this.b(d,"","Alias names can be used as rule names in RLE",c,b,a,e,f);a=this.b(d,"","for example 'rule = HighLife'",c,b,a,e,f);d.ke=!0;for(g=
0;g<I.length;g+=1)""===I[g][1]?(a=this.b(d,"","",c,b,a,e,f),d.R[l]=[d.M,L[l-1]],l+=1,a=this.b(d,"",I[g][0]+" Aliases:",c,b,a,e,f)):""!==I[g][0]&&(a=this.b(d,I[g][0]+(I[g][2]?"*":""),I[g][1],c,b,a,e,f))},xz:function(d,c,b,a,e,f){var g,l=0,I=Controller.mc.length,L=0,G=0,q=0,h=0,A;d.M=1;d.ke=!1;d.R=[];d.P[0]=128;d.P[1]=200;d.P[2]=290;d.P[3]=530;d.R[l]=[d.M,"Top"];l+=1;a=this.b(d,"","Memory usage",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f);if(1<I){d.R[l]=[d.M,"All"];l+=1;a=this.b(d,"","Memory (all "+I+" LifeViewers):",
c,b,a,e,f);for(g=0;g<I;g+=1)if(A=Controller.ey(g))L+=A.a.j.Wl,q+=A.a.j.Fj>>10,G+=A.a.j.Yl,h+=A.a.j.Gj>>10;a=this.b(d,"Allocations",L+"\t"+(q>>10)+"M",c,b,a,e,f);a=this.b(d,"Frees",G+"\t"+(h>>10)+"M",c,b,a,e,f);a=this.b(d,"In Use",L-G+"\t"+((q>>10)-(h>>10))+"M",c,b,a,e,f);a=this.b(d,"","",c,b,a,e,f)}d.R[l]=[d.M,"Current"];a=this.b(d,"","Memory (this LifeViewer):",c,b,a,e,f);a=this.b(d,"Allocations",d.a.j.Wl+"\t"+this.Mp(d.a.j.Fj)+"M\t"+d.a.j.Fj,c,b,a,e,f);a=this.b(d,"Frees",d.a.j.Yl+"\t"+this.Mp(d.a.j.Gj)+
"M\t"+d.a.j.Gj,c,b,a,e,f);a=this.b(d,"In Use",d.a.j.Wl-d.a.j.Yl+"\t"+this.Mp(d.a.j.Fj-d.a.j.Gj)+"M\t"+(d.a.j.Fj-d.a.j.Gj),c,b,a,e,f);a=this.b(d,this.Nu("Bytes",10),"Type\tElements\tName\tCount",c,b,a,e,f);for(g=0;g<d.a.j.Ve.length;g+=1)a=this.b(d,this.Nu(String(d.a.j.Ve[g].size),10),d.a.j.Kw(g),c,b,a,e,f);this.b(d,"","",c,b,a,e,f)},jq:function(d){var c=d.ud;d.ac=(d.v/19|0)-6;c.fillStyle="black";c.globalAlpha=.5;c.fillRect(0,0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=ViewConstants.Gl;
this.Kr=-2;this.dv(d,c,6,14,19,d.X|0);c.fillStyle=ViewConstants.jk;this.Kr=0;this.dv(d,c,4,12,19,d.X|0)},rz:function(d,c,b,a,e,f,g,l,I,L){var G=l,q=0,h=!1,A=d.M;f.fillStyle===ViewConstants.Gl&&(h=!0);A>=L&&A<=L+d.ac&&(f.font=ViewConstants.Bl,h||(1<(d.Ya|0)?f.fillStyle=d.Wf:f.fillStyle=ViewConstants.Ln),f.fillText(c,g,l),h||(f.fillStyle=d.Wf),f.fillText(b,g+f.measureText(c).width,l),h||((d.Ya|0)<d.Qb.length-d.ac+1?f.fillStyle=d.Wf:f.fillStyle=ViewConstants.Ln),f.fillText(a,g+f.measureText(c+b).width,
l),d.P[0]&&(q=d.P[0]),h||(f.fillStyle=d.Wf),f.font=ViewConstants.Mi,f.fillText(e,g+q,l),G+=I);return G},Ho:function(d,c,b,a,e,f,g,l){var I=f,L=0,G=d.M;G>=l&&G<=l+d.ac&&(c.length&&(a.font=ViewConstants.Bl,a.fillText(c,e,f),L=a.measureText(c+" ").width),d.P[0]&&(L=d.P[0]),a.font=ViewConstants.Mi,a.fillText(b,e+L,f),I+=g);d.M+=1;return I},cv:function(d,c,b,a,e,f){var g,l=d.Qb,I=a;d.M=1;d.P[0]=0;c.font=ViewConstants.Mi;a=this.Ho(d,"",ViewConstants.Wz,c,b,a,e,f);for(g=0;g<l.length;g+=1)a=this.Ho(d,l[g][0],
l[g][1],c,b,a,e,f);d.wa||(d.P[0]=120,d.M=1,a=I+e*(d.ac+2),a=this.rz(d,"Up"," / ","Down","scroll errors",c,b,a,e,0),a=this.Ho(d,"Esc","clear messages",c,b,a,e,0),this.Ho(d,"H  ","help on script commands",c,b,a,e,0))},iq:function(d){var c=d.ud,b=7;d.wa&&(b=1);d.ac=(d.v/19|0)-b;c.fillStyle="black";c.globalAlpha=.5;c.fillRect(0,0,c.canvas.width,c.canvas.height);c.globalAlpha=1;c.fillStyle=ViewConstants.Gl;this.cv(d,c,6,14,19,d.Ya|0);c.fillStyle=d.Wf;this.cv(d,c,4,12,19,d.Ya|0)}};window.Keywords={Wb:'"',xj:"[[",Ak:"]]",Zr:"SUPPRESS",zo:"POIT",Va:"INITIAL",Ka:"OFF",Wr:"STATE1FIT",fm:"POIRESET",wk:"POIPLAY",xk:"POISTOP",gm:"POITRANS",xq:"HARDRESET",Jm:"TRACK",Ij:"TRACKBOX",Im:"TRACKLOOP",fr:"NOREPORT",Kn:"GRAPH",to:"NOGRAPH",sq:"GRAPHOPACITY",tq:"GRAPHPOINTS",er:"NOPERFWARNING",$t:"AUTOHIDEGUI",Ue:"ALL",af:"LINEAR",Sf:"BEZIER",Cq:"HEXDISPLAY",Rr:"SQUAREDISPLAY",Bq:"HEXCELLS",Qr:"SQUARECELLS",et:"CELLBORDERS",eu:"INTEGERZOOM",wr:"RANDOMSEED",fq:"DELETERANGE",Nr:"SHOWTIMING",
pq:"EXTENDEDTIMING",Lr:"SHOWGENSTATS",Mr:"SHOWINFOBAR",gr:"NOSOURCE",Ao:"POI",Jk:"TITLE",Wu:"POLY",Bo:"POLYFILL",pr:"POLYLINE",mr:"POLYALPHA",qr:"POLYSIZE",rr:"POLYT",nr:"POLYANGLE",sr:"POLYTARGET",Vu:"POLYTRACK",dl:"ARROW",Gp:"ARROWALPHA",Ip:"ARROWSIZE",Jp:"ARROWT",Hp:"ARROWANGLE",Kp:"ARROWTARGET",Lp:"ARROWTRACK",Kl:"LABEL",Mq:"LABELALPHA",Oq:"LABELSIZE",Pq:"LABELT",Nq:"LABELANGLE",Qq:"LABELTARGET",Rq:"LABELTRACK",Yc:"FIXED",Xq:"MAXGRIDSIZE",wm:"STARS",Ik:"CUSTOM",hp:"XOFFSET",ip:"YOFFSET",Wo:"BACKGROUND",
Vo:"ALIVE",fs:"ALIVERAMP",Yo:"DEAD",Xo:"DEADRAMP",Cv:"DYING",Bv:"DYINGRAMP",Lv:"UIFOREGROUND",mB:"UIFOREGROUNDA",Jv:"UIBACKGROUND",kB:"UIBACKGROUNDA",Mv:"UIHIGHLIGHT",nB:"UIHIGHTLIGHTA",Ov:"UISELECT",pB:"UISELECTA",Nv:"UILOCKED",oB:"UILOCKEDA",Kv:"UIBORDER",lB:"UIBORDERA",ft:"BOUNDARY",Wm:"AUTOFIT",Gq:"HISTORYFIT",Sn:"HISTORYSTATES",Bj:"STEP",cr:"NOSTEPBACK",xm:"T",kr:"PAUSE",Fl:"GRID",El:"GRIDMAJOR",ds:"TEXT",nq:"ERROR",Iu:"OFF",Ku:"ON",au:"HISTORY",mu:"MARK1",qu:"MARKOFF",ou:"MARK2",gu:"KILL",Rt:"GRAPHBG",
Qt:"GRAPHAXIS",Pt:"GRAPHALIVE",St:"GRAPHBIRTH",Tt:"GRAPHDEATH",ra:"COLOR",Sp:"COLOUR",Yr:"STRICT",Nm:"VIEWONLY",br:"NOGUI",ar:"NOCOPY",ms:"THUMBNAIL",ks:"THUMBSIZE",hs:"THUMBLAUNCH",yh:"THEME",Xm:"AUTOSTART",ig:"LOOP",xg:"STOP",Qh:"ANGLE",mj:"LAYERS",cj:"DEPTH",ij:"GPS",oc:"ZOOM",Ep:"Z",cd:"X",dd:"Y",Nk:"WIDTH",ik:"HEIGHT",im:"POPUPWIDTH",hm:"POPUPHEIGHT",ls:"THUMBZOOM",Pe:"#"};
